import{S as Y,i as Z,s as $,e as c,a as b,b as s,c as P,d as i,l as T,n as z,f as R,r as ee,g as te,o as se,h as ne,C as ae,j as W,t as ie,k,m as J,p as G,q as le,u as oe,v as K,w as re,x as ce,y as Q,z as pe,A as V,B as me,D as ue,E as de,F as fe,G as ge,H as X,T as N}from"./index-344ba39b.js";function ve(e){let l,n,a,t,u,y;return{c(){l=c("link"),n=b(),a=c("dialog"),t=c("form"),t.innerHTML=`<p class="modal-title">What did you accomplish?</p> 
    <textarea id="prompt" name="accomplishment" style="width: 100%; resize: none; min-height: 55px;" oninput="this.style.height = &#39;auto&#39;; this.style.height = this.scrollHeight+3+&#39;px&#39;;"></textarea>

    Productive?
    <label class="switch-light" style="display: inline-block; width: 65px; vertical-align: middle;"><input type="checkbox" name="productive" checked=""/> 
      <span><span>☹️</span> 
        <span>😊</span> 
        <a class="btn btn-primary svelte-1yfmem3"></a></span></label> 

    <div><input type="submit" value="Cancel" name="cancel" formnovalidate="" style="margin-right: 5px" class="svelte-1yfmem3"/> 
      <input type="submit" value="Skip" name="skip" formnovalidate="" class="svelte-1yfmem3"/> 
      <strong style="float: right"><input type="submit" value="Finish" name="finish" class="svelte-1yfmem3"/></strong></div>`,s(l,"rel","stylesheet"),s(l,"type","text/css"),s(l,"href","https://cdn.jsdelivr.net/npm/css-toggle-switch@latest/dist/toggle-switch.min.css"),s(t,"method","dialog"),s(a,"class","svelte-1yfmem3")},m(p,o){P(p,l,o),P(p,n,o),P(p,a,o),i(a,t),e[3](a),u||(y=[T(t,"submit",e[1]),T(a,"click",he)],u=!0)},p:z,i:z,o:z,d(p){p&&R(l),p&&R(n),p&&R(a),e[3](null),u=!1,ee(y)}}}function he({target:e}){e.nodeName==="DIALOG"&&e.close("dismiss")}function _e(e,l,n){let{openTarget:a}=l,t;const u=te();function y(o){const r=o.target,v=o.submitter.name,f=new FormData(o.target);switch(v){case"finish":u("close",{productive:f.get("productive")==="on",accomplishment:f.get("accomplishment")});break;case"skip":u("close",{productive:void 0,accomplishment:void 0});break}r.reset()}a.addEventListener("open",()=>t.showModal()),se(()=>a.removeEventListener("open",null));function p(o){ne[o?"unshift":"push"](()=>{t=o,n(0,t)})}return e.$$set=o=>{"openTarget"in o&&n(2,a=o.openTarget)},[t,y,a,p]}class ye extends Y{constructor(l){super(),Z(this,l,_e,ve,$,{openTarget:2})}}function be(e){let l,n,a,t,u,y,p,o,r,v,f,h,d,j,_,L,g,O,w,x,M=e[2]?"Pause":"Start",H,B,S,F,A,I,E,C,q,U;return u=new ae({}),E=new ye({props:{openTarget:e[5]}}),{c(){l=c("div"),n=c("div"),a=c("div"),t=c("form"),W(u.$$.fragment),y=b(),p=c("br"),o=b(),r=c("input"),v=c("br"),f=b(),h=c("div"),d=c("input"),j=b(),_=c("button"),_.textContent="25",L=b(),g=c("span"),O=b(),w=c("div"),x=c("button"),H=ie(M),B=b(),S=c("button"),S.textContent="Stop",I=b(),W(E.$$.fragment),s(p,"class","svelte-19x29sn"),s(r,"placeholder","Goal"),s(r,"id","goal"),s(r,"type","text"),s(r,"class","svelte-19x29sn"),s(v,"class","svelte-19x29sn"),s(d,"placeholder","Allocated Time"),s(d,"id","alloc"),s(d,"inputmode","decimal"),s(d,"min","0"),s(d,"step","any"),s(d,"class","svelte-19x29sn"),k(_,"flex-shrink","99"),k(_,"margin-right","0"),k(_,"align-self","stretch"),s(_,"class","svelte-19x29sn"),k(h,"display","flex"),k(h,"align-items","center"),s(h,"class","svelte-19x29sn"),s(g,"id","elapsed"),s(g,"class","svelte-19x29sn"),s(t,"autocomplete","off"),s(t,"autocorrect","off"),s(t,"spellcheck","false"),s(t,"class","svelte-19x29sn"),k(x,"background","limegreen"),s(x,"id","start"),s(x,"class","svelte-19x29sn"),k(S,"background","indianred"),s(S,"id","stop"),s(S,"class","svelte-19x29sn"),k(w,"display","flex"),s(w,"class","svelte-19x29sn"),s(a,"class","svelte-19x29sn"),s(n,"id","timer"),s(n,"class","svelte-19x29sn"),s(l,"class","perfectCenter svelte-19x29sn")},m(m,D){P(m,l,D),i(l,n),i(n,a),i(a,t),J(u,t,null),i(t,y),i(t,p),i(t,o),i(t,r),G(r,e[1]),i(t,v),i(t,f),i(t,h),i(h,d),G(d,e[0]),i(h,j),i(h,_),i(t,L),i(t,g),i(a,O),i(a,w),i(w,x),i(x,H),i(w,B),i(w,S),P(m,I,D),J(E,m,D),C=!0,q||(U=[T(r,"input",e[11]),T(d,"input",e[12]),T(d,"input",function(){fe(e[0]=e[0].replace(/[^1234567890]+/,""))&&(e[0]=e[0].replace(/[^1234567890]+/,"")).apply(this,arguments)}),T(_,"click",le(e[13])),T(x,"click",e[7]),T(S,"click",e[8])],q=!0)},p(m,[D]){e=m,D&2&&r.value!==e[1]&&G(r,e[1]),D&1&&d.value!==e[0]&&G(d,e[0]),(!C||D&4)&&M!==(M=e[2]?"Pause":"Start")&&oe(H,M)},i(m){C||(K(u.$$.fragment,m),re(()=>{C&&(A&&A.end(1),F=ce(n,e[4],{key:"timer"}),F.start())}),K(E.$$.fragment,m),C=!0)},o(m){Q(u.$$.fragment,m),F&&F.invalidate(),A=pe(n,e[3],{key:"timer"}),Q(E.$$.fragment,m),C=!1},d(m){m&&R(l),V(u),m&&A&&A.end(),m&&R(I),V(E,m),q=!1,ee(U)}}}function ke(e,l,n){let a,{params:t}=l;const[u,y]=ge,p=new EventTarget,o=me(t.task);ue(e,o,g=>n(10,a=g));let r,v,f=!1;de().then(g=>console.log("Running time: ",g));function h(){n(2,f=!f),X({action:f?N.START:N.PAUSE,time:new Date().getTime(),taskId:t.task})}function d(){if(!f){alert("No timer is running!");return}p.dispatchEvent(new Event("open")),X({action:N.STOP,time:new Date().getTime(),taskId:t.task})}function j(){v=this.value,n(1,v),n(9,t),n(10,a)}function _(){r=this.value,n(0,r),n(9,t),n(10,a)}const L=()=>n(0,r=25);return e.$$set=g=>{"params"in g&&n(9,t=g.params)},e.$$.update=()=>{e.$$.dirty&1536&&(console.log(t.task,a),n(0,r=a.predictedTime||null),n(1,v=a.title))},[r,v,f,u,y,p,o,h,d,t,a,j,_,L]}class we extends Y{constructor(l){super(),Z(this,l,ke,be,$,{params:9})}}export{we as default};
