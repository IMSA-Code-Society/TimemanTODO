(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Zu="modulepreload",Xu=function(t){return"/TimemanTODO/"+t},hs={},jr=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Xu(s),s in hs)return;hs[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let _=i.length-1;_>=0;_--){const c=i[_];if(c.href===s&&(!o||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":Zu,o||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),o)return new Promise((_,c)=>{d.addEventListener("load",_),d.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};function ne(){}const Uo=t=>t;function Sn(t,e){for(const n in e)t[n]=e[n];return t}function ec(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ho(t){return t()}function ds(){return Object.create(null)}function ot(t){t.forEach(Ho)}function qt(t){return typeof t=="function"}function Ke(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function tc(t){return Object.keys(t).length===0}function nc(t,...e){if(t==null)return ne;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function rc(t,e,n,r){if(t){const i=Wo(t,e,n,r);return t[0](i)}}function Wo(t,e,n,r){return t[1]&&r?Sn(n.ctx.slice(),t[1](r(e))):n.ctx}function ic(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|i[a];return s}return e.dirty|i}return e.dirty}function sc(t,e,n,r,i,s){if(i){const o=Wo(e,n,r,s);t.p(o,i)}}function oc(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Si(t){return t&&qt(t.destroy)?t.destroy:ne}const Go=typeof window<"u";let zo=Go?()=>window.performance.now():()=>Date.now(),ki=Go?t=>requestAnimationFrame(t):ne;const Xt=new Set;function Vo(t){Xt.forEach(e=>{e.c(t)||(Xt.delete(e),e.f())}),Xt.size!==0&&ki(Vo)}function Ko(t){let e;return Xt.size===0&&ki(Vo),{promise:new Promise(n=>{Xt.add(e={c:t,f:n})}),abort(){Xt.delete(e)}}}function ee(t,e){t.appendChild(e)}function Yo(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ac(t){const e=ie("style");return uc(Yo(t),e),e.sheet}function uc(t,e){return ee(t.head||t,e),e.sheet}function ge(t,e,n){t.insertBefore(e,n||null)}function de(t){t.parentNode&&t.parentNode.removeChild(t)}function fn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ie(t){return document.createElement(t)}function St(t){return document.createTextNode(t)}function pe(){return St(" ")}function kt(){return St("")}function Fe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function tg(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ue(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function cc(t){return Array.from(t.childNodes)}function Qo(t,e){e=""+e,t.data!==e&&(t.data=e)}function ps(t,e){t.value=e??""}function Je(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function tr(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Jo(t){const e=t.querySelector(":checked");return e&&e.__value}function vs(t,e,n){t.classList[n?"add":"remove"](e)}function Zo(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}function nr(t,e){return new t(e)}const rr=new Map;let ir=0;function fc(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function lc(t,e){const n={stylesheet:ac(e),rules:{}};return rr.set(t,n),n}function Xo(t,e,n,r,i,s,o,a=0){const u=16.666/r;let d=`{
`;for(let y=0;y<=1;y+=u){const p=e+(n-e)*s(y);d+=y*100+`%{${o(p,1-p)}}
`}const _=d+`100% {${o(n,1-n)}}
}`,c=`__svelte_${fc(_)}_${a}`,v=Yo(t),{stylesheet:m,rules:w}=rr.get(v)||lc(v,t);w[c]||(w[c]=!0,m.insertRule(`@keyframes ${c} ${_}`,m.cssRules.length));const T=t.style.animation||"";return t.style.animation=`${T?`${T}, `:""}${c} ${r}ms linear ${i}ms 1 both`,ir+=1,c}function Kr(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ir-=i,ir||hc())}function hc(){ki(()=>{ir||(rr.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&de(e)}),rr.clear())})}let kn;function yt(t){kn=t}function $n(){if(!kn)throw new Error("Function called outside component initialization");return kn}function dc(t){$n().$$.after_update.push(t)}function ea(t){$n().$$.on_destroy.push(t)}function ta(){const t=$n();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Zo(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function pc(t,e){return $n().$$.context.set(t,e),e}function _s(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Jt=[],On=[];let en=[];const Yr=[],na=Promise.resolve();let Qr=!1;function ra(){Qr||(Qr=!0,na.then(Oi))}function vc(){return ra(),na}function Ct(t){en.push(t)}function Jr(t){Yr.push(t)}const Nr=new Set;let zt=0;function Oi(){if(zt!==0)return;const t=kn;do{try{for(;zt<Jt.length;){const e=Jt[zt];zt++,yt(e),_c(e.$$)}}catch(e){throw Jt.length=0,zt=0,e}for(yt(null),Jt.length=0,zt=0;On.length;)On.pop()();for(let e=0;e<en.length;e+=1){const n=en[e];Nr.has(n)||(Nr.add(n),n())}en.length=0}while(Jt.length);for(;Yr.length;)Yr.pop()();Qr=!1,Nr.clear(),yt(t)}function _c(t){if(t.fragment!==null){t.update(),ot(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ct)}}function gc(t){const e=[],n=[];en.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),en=e}let _n;function ia(){return _n||(_n=Promise.resolve(),_n.then(()=>{_n=null})),_n}function sr(t,e,n){t.dispatchEvent(Zo(`${e?"intro":"outro"}${n}`))}const Kn=new Set;let Et;function ln(){Et={r:0,c:[],p:Et}}function hn(){Et.r||ot(Et.c),Et=Et.p}function we(t,e){t&&t.i&&(Kn.delete(t),t.i(e))}function ke(t,e,n,r){if(t&&t.o){if(Kn.has(t))return;Kn.add(t),Et.c.push(()=>{Kn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const sa={duration:0};function yc(t,e,n){const r={direction:"in"};let i=e(t,n,r),s=!1,o,a,u=0;function d(){o&&Kr(t,o)}function _(){const{delay:v=0,duration:m=300,easing:w=Uo,tick:T=ne,css:y}=i||sa;y&&(o=Xo(t,0,1,m,v,w,y,u++)),T(0,1);const p=zo()+v,h=p+m;a&&a.abort(),s=!0,Ct(()=>sr(t,!0,"start")),a=Ko(f=>{if(s){if(f>=h)return T(1,0),sr(t,!0,"end"),d(),s=!1;if(f>=p){const l=w((f-p)/m);T(l,1-l)}}return s})}let c=!1;return{start(){c||(c=!0,Kr(t),qt(i)?(i=i(r),ia().then(_)):_())},invalidate(){c=!1},end(){s&&(d(),s=!1)}}}function mc(t,e,n){const r={direction:"out"};let i=e(t,n,r),s=!0,o;const a=Et;a.r+=1;function u(){const{delay:d=0,duration:_=300,easing:c=Uo,tick:v=ne,css:m}=i||sa;m&&(o=Xo(t,1,0,_,d,c,m));const w=zo()+d,T=w+_;Ct(()=>sr(t,!1,"start")),Ko(y=>{if(s){if(y>=T)return v(0,1),sr(t,!1,"end"),--a.r||ot(a.c),!1;if(y>=w){const p=c((y-w)/_);v(1-p,p)}}return s})}return qt(i)?ia().then(()=>{i=i(r),u()}):u(),{end(d){d&&i.tick&&i.tick(1,0),s&&(o&&Kr(t,o),s=!1)}}}function or(t,e){const n=e.token={};function r(i,s,o,a){if(e.token!==n)return;e.resolved=a;let u=e.ctx;o!==void 0&&(u=u.slice(),u[o]=a);const d=i&&(e.current=i)(u);let _=!1;e.block&&(e.blocks?e.blocks.forEach((c,v)=>{v!==s&&c&&(ln(),ke(c,1,1,()=>{e.blocks[v]===c&&(e.blocks[v]=null)}),hn())}):e.block.d(1),d.c(),we(d,1),d.m(e.mount(),e.anchor),_=!0),e.block=d,e.blocks&&(e.blocks[s]=d),_&&Oi()}if(ec(t)){const i=$n();if(t.then(s=>{yt(i),r(e.then,1,e.value,s),yt(null)},s=>{if(yt(i),r(e.catch,2,e.error,s),yt(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function ar(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function ng(t,e){t.d(1),e.delete(t.key)}function rg(t,e,n,r,i,s,o,a,u,d,_,c){let v=t.length,m=s.length,w=v;const T={};for(;w--;)T[t[w].key]=w;const y=[],p=new Map,h=new Map,f=[];for(w=m;w--;){const O=c(i,s,w),R=n(O);let $=o.get(R);$?r&&f.push(()=>$.p(O,e)):($=d(R,O),$.c()),p.set(R,y[w]=$),R in T&&h.set(R,Math.abs(w-T[R]))}const l=new Set,g=new Set;function b(O){we(O,1),O.m(a,_),o.set(O.key,O),_=O.first,m--}for(;v&&m;){const O=y[m-1],R=t[v-1],$=O.key,N=R.key;O===R?(_=O.first,v--,m--):p.has(N)?!o.has($)||l.has($)?b(O):g.has(N)?v--:h.get($)>h.get(N)?(g.add($),b(O)):(l.add(N),v--):(u(R,o),v--)}for(;v--;){const O=t[v];p.has(O.key)||u(O,o)}for(;m;)b(y[m-1]);return ot(f),y}function oa(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const u in o)u in a||(r[u]=1);for(const u in a)i[u]||(n[u]=a[u],i[u]=1);t[s]=a}else for(const u in o)i[u]=1}for(const o in r)o in n||(n[o]=void 0);return n}function aa(t){return typeof t=="object"&&t!==null?t:{}}const wc=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...wc];function Zr(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Ge(t){t&&t.c()}function qe(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||Ct(()=>{const o=t.$$.on_mount.map(Ho).filter(qt);t.$$.on_destroy?t.$$.on_destroy.push(...o):ot(o),t.$$.on_mount=[]}),s.forEach(Ct)}function Ue(t,e){const n=t.$$;n.fragment!==null&&(gc(n.after_update),ot(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bc(t,e){t.$$.dirty[0]===-1&&(Jt.push(t),ra(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xe(t,e,n,r,i,s,o,a=[-1]){const u=kn;yt(t);const d=t.$$={fragment:null,ctx:[],props:s,update:ne,not_equal:i,bound:ds(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ds(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};o&&o(d.root);let _=!1;if(d.ctx=n?n(t,e.props||{},(c,v,...m)=>{const w=m.length?m[0]:v;return d.ctx&&i(d.ctx[c],d.ctx[c]=w)&&(!d.skip_bound&&d.bound[c]&&d.bound[c](w),_&&bc(t,c)),v}):[],d.update(),_=!0,ot(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const c=cc(e.target);d.fragment&&d.fragment.l(c),c.forEach(de)}else d.fragment&&d.fragment.c();e.intro&&we(t.$$.fragment),qe(t,e.target,e.anchor,e.customElement),Oi()}yt(u)}class et{$destroy(){Ue(this,1),this.$destroy=ne}$on(e,n){if(!qt(n))return ne;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!tc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Fr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Vt=[];function ua(t,e){return{subscribe:xi(t,e).subscribe}}function xi(t,e=ne){let n;const r=new Set;function i(a){if(Ke(t,a)&&(t=a,n)){const u=!Vt.length;for(const d of r)d[1](),Vt.push(d,t);if(u){for(let d=0;d<Vt.length;d+=2)Vt[d][0](Vt[d+1]);Vt.length=0}}}function s(a){i(a(t))}function o(a,u=ne){const d=[a,u];return r.add(d),r.size===1&&(n=e(i)||ne),a(t),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function ca(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,s=e.length<2;return ua(n,o=>{let a=!1;const u=[];let d=0,_=ne;const c=()=>{if(d)return;_();const m=e(r?u[0]:u,o);s?o(m):_=qt(m)?m:ne},v=i.map((m,w)=>nc(m,T=>{u[w]=T,d&=~(1<<w),a&&c()},()=>{d|=1<<w}));return a=!0,c(),function(){ot(v),_(),a=!1}})}function Tc(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Ec(t){let e,n,r;const i=[t[2]];var s=t[0];function o(a){let u={};for(let d=0;d<i.length;d+=1)u=Sn(u,i[d]);return{props:u}}return s&&(e=nr(s,o()),e.$on("routeEvent",t[7])),{c(){e&&Ge(e.$$.fragment),n=kt()},m(a,u){e&&qe(e,a,u),ge(a,n,u),r=!0},p(a,u){const d=u&4?oa(i,[aa(a[2])]):{};if(u&1&&s!==(s=a[0])){if(e){ln();const _=e;ke(_.$$.fragment,1,0,()=>{Ue(_,1)}),hn()}s?(e=nr(s,o()),e.$on("routeEvent",a[7]),Ge(e.$$.fragment),we(e.$$.fragment,1),qe(e,n.parentNode,n)):e=null}else s&&e.$set(d)},i(a){r||(e&&we(e.$$.fragment,a),r=!0)},o(a){e&&ke(e.$$.fragment,a),r=!1},d(a){a&&de(n),e&&Ue(e,a)}}}function Ac(t){let e,n,r;const i=[{params:t[1]},t[2]];var s=t[0];function o(a){let u={};for(let d=0;d<i.length;d+=1)u=Sn(u,i[d]);return{props:u}}return s&&(e=nr(s,o()),e.$on("routeEvent",t[6])),{c(){e&&Ge(e.$$.fragment),n=kt()},m(a,u){e&&qe(e,a,u),ge(a,n,u),r=!0},p(a,u){const d=u&6?oa(i,[u&2&&{params:a[1]},u&4&&aa(a[2])]):{};if(u&1&&s!==(s=a[0])){if(e){ln();const _=e;ke(_.$$.fragment,1,0,()=>{Ue(_,1)}),hn()}s?(e=nr(s,o()),e.$on("routeEvent",a[6]),Ge(e.$$.fragment),we(e.$$.fragment,1),qe(e,n.parentNode,n)):e=null}else s&&e.$set(d)},i(a){r||(e&&we(e.$$.fragment,a),r=!0)},o(a){e&&ke(e.$$.fragment,a),r=!1},d(a){a&&de(n),e&&Ue(e,a)}}}function Cc(t){let e,n,r,i;const s=[Ac,Ec],o=[];function a(u,d){return u[1]?0:1}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),r=kt()},m(u,d){o[e].m(u,d),ge(u,r,d),i=!0},p(u,[d]){let _=e;e=a(u),e===_?o[e].p(u,d):(ln(),ke(o[_],1,1,()=>{o[_]=null}),hn(),n=o[e],n?n.p(u,d):(n=o[e]=s[e](u),n.c()),we(n,1),n.m(r.parentNode,r))},i(u){i||(we(n),i=!0)},o(u){ke(n),i=!1},d(u){o[e].d(u),u&&de(r)}}}function gs(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Ri=ua(null,function(e){e(gs());const n=()=>{e(gs())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});ca(Ri,t=>t.location);ca(Ri,t=>t.querystring);const ys=xi(void 0);function $i(t,e){if(e=ws(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ms(t,e),{update(n){n=ws(n),ms(t,n)}}}function Sc(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ms(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||kc(r.currentTarget.getAttribute("href"))})}function ws(t){return t&&typeof t=="string"?{href:t}:t||{}}function kc(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function Oc(t,e,n){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:s=!1}=e;class o{constructor(g,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:O,keys:R}=Tc(g);this.path=g,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=O,this._keys=R}match(g){if(i){if(typeof i=="string")if(g.startsWith(i))g=g.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const $=g.match(i);if($&&$[0])g=g.substr($[0].length)||"/";else return null}}const b=this._pattern.exec(g);if(b===null)return null;if(this._keys===!1)return b;const O={};let R=0;for(;R<this._keys.length;){try{O[this._keys[R]]=decodeURIComponent(b[R+1]||"")||null}catch{O[this._keys[R]]=null}R++}return O}async checkConditions(g){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](g))return!1;return!0}}const a=[];r instanceof Map?r.forEach((l,g)=>{a.push(new o(g,l))}):Object.keys(r).forEach(l=>{a.push(new o(l,r[l]))});let u=null,d=null,_={};const c=ta();async function v(l,g){await vc(),c(l,g)}let m=null,w=null;s&&(w=l=>{l.state&&(l.state.__svelte_spa_router_scrollY||l.state.__svelte_spa_router_scrollX)?m=l.state:m=null},window.addEventListener("popstate",w),dc(()=>{Sc(m)}));let T=null,y=null;const p=Ri.subscribe(async l=>{T=l;let g=0;for(;g<a.length;){const b=a[g].match(l.location);if(!b){g++;continue}const O={route:a[g].path,location:l.location,querystring:l.querystring,userData:a[g].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await a[g].checkConditions(O)){n(0,u=null),y=null,v("conditionsFailed",O);return}v("routeLoading",Object.assign({},O));const R=a[g].component;if(y!=R){R.loading?(n(0,u=R.loading),y=R,n(1,d=R.loadingParams),n(2,_={}),v("routeLoaded",Object.assign({},O,{component:u,name:u.name,params:d}))):(n(0,u=null),y=null);const $=await R();if(l!=T)return;n(0,u=$&&$.default||$),y=R}b&&typeof b=="object"&&Object.keys(b).length?n(1,d=b):n(1,d=null),n(2,_=a[g].props),v("routeLoaded",Object.assign({},O,{component:u,name:u.name,params:d})).then(()=>{ys.set(d)});return}n(0,u=null),y=null,ys.set(void 0)});ea(()=>{p(),w&&window.removeEventListener("popstate",w)});function h(l){_s.call(this,t,l)}function f(l){_s.call(this,t,l)}return t.$$set=l=>{"routes"in l&&n(3,r=l.routes),"prefix"in l&&n(4,i=l.prefix),"restoreScrollState"in l&&n(5,s=l.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[u,d,_,r,i,s,h,f]}class xc extends et{constructor(e){super(),Xe(this,e,Oc,Cc,Ke,{routes:3,prefix:4,restoreScrollState:5})}}function Rc(t,e){const n=e.replace(/\((?!\?)/g,"(?:");return`${t}${n}\\s{0,5}(?:,?\\s{0,5}${n}){0,10}`}function $c(t){let e;return t instanceof Array?e=[...t]:t instanceof Map?e=Array.from(t.keys()):e=Object.keys(t),e}function wt(t){return`(?:${$c(t).sort((n,r)=>r.length-n.length).join("|").replace(/\./g,"\\.")})`}var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var fa={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Me,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",d="day",_="week",c="month",v="quarter",m="year",w="date",T="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var P=["th","st","nd","rd"],D=U%100;return"["+U+(P[(D-20)%10]||P[D]||P[0])+"]"}},f=function(U,P,D){var F=String(U);return!F||F.length>=P?U:""+Array(P+1-F.length).join(D)+U},l={s:f,z:function(U){var P=-U.utcOffset(),D=Math.abs(P),F=Math.floor(D/60),C=D%60;return(P<=0?"+":"-")+f(F,2,"0")+":"+f(C,2,"0")},m:function U(P,D){if(P.date()<D.date())return-U(D,P);var F=12*(D.year()-P.year())+(D.month()-P.month()),C=P.clone().add(F,c),k=D-C<0,x=P.clone().add(F+(k?-1:1),c);return+(-(F+(D-C)/(k?C-x:x-C))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:c,y:m,w:_,d,D:w,h:u,m:a,s:o,ms:s,Q:v}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},g="en",b={};b[g]=h;var O=function(U){return U instanceof z},R=function U(P,D,F){var C;if(!P)return g;if(typeof P=="string"){var k=P.toLowerCase();b[k]&&(C=k),D&&(b[k]=D,C=k);var x=P.split("-");if(!C&&x.length>1)return U(x[0])}else{var L=P.name;b[L]=P,C=L}return!F&&C&&(g=C),C||!F&&g},$=function(U,P){if(O(U))return U.clone();var D=typeof P=="object"?P:{};return D.date=U,D.args=arguments,new z(D)},N=l;N.l=R,N.i=O,N.w=function(U,P){return $(U,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var z=function(){function U(D){this.$L=R(D.locale,null,!0),this.parse(D)}var P=U.prototype;return P.parse=function(D){this.$d=function(F){var C=F.date,k=F.utc;if(C===null)return new Date(NaN);if(N.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var x=C.match(y);if(x){var L=x[2]-1||0,I=(x[7]||"0").substring(0,3);return k?new Date(Date.UTC(x[1],L,x[3]||1,x[4]||0,x[5]||0,x[6]||0,I)):new Date(x[1],L,x[3]||1,x[4]||0,x[5]||0,x[6]||0,I)}}return new Date(C)}(D),this.$x=D.x||{},this.init()},P.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},P.$utils=function(){return N},P.isValid=function(){return this.$d.toString()!==T},P.isSame=function(D,F){var C=$(D);return this.startOf(F)<=C&&C<=this.endOf(F)},P.isAfter=function(D,F){return $(D)<this.startOf(F)},P.isBefore=function(D,F){return this.endOf(F)<$(D)},P.$g=function(D,F,C){return N.u(D)?this[F]:this.set(C,D)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(D,F){var C=this,k=!!N.u(F)||F,x=N.p(D),L=function(E,j){var H=N.w(C.$u?Date.UTC(C.$y,j,E):new Date(C.$y,j,E),C);return k?H:H.endOf(d)},I=function(E,j){return N.w(C.toDate()[E].apply(C.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(j)),C)},q=this.$W,A=this.$M,G=this.$D,Y="set"+(this.$u?"UTC":"");switch(x){case m:return k?L(1,0):L(31,11);case c:return k?L(1,A):L(0,A+1);case _:var Z=this.$locale().weekStart||0,S=(q<Z?q+7:q)-Z;return L(k?G-S:G+(6-S),A);case d:case w:return I(Y+"Hours",0);case u:return I(Y+"Minutes",1);case a:return I(Y+"Seconds",2);case o:return I(Y+"Milliseconds",3);default:return this.clone()}},P.endOf=function(D){return this.startOf(D,!1)},P.$set=function(D,F){var C,k=N.p(D),x="set"+(this.$u?"UTC":""),L=(C={},C[d]=x+"Date",C[w]=x+"Date",C[c]=x+"Month",C[m]=x+"FullYear",C[u]=x+"Hours",C[a]=x+"Minutes",C[o]=x+"Seconds",C[s]=x+"Milliseconds",C)[k],I=k===d?this.$D+(F-this.$W):F;if(k===c||k===m){var q=this.clone().set(w,1);q.$d[L](I),q.init(),this.$d=q.set(w,Math.min(this.$D,q.daysInMonth())).$d}else L&&this.$d[L](I);return this.init(),this},P.set=function(D,F){return this.clone().$set(D,F)},P.get=function(D){return this[N.p(D)]()},P.add=function(D,F){var C,k=this;D=Number(D);var x=N.p(F),L=function(A){var G=$(k);return N.w(G.date(G.date()+Math.round(A*D)),k)};if(x===c)return this.set(c,this.$M+D);if(x===m)return this.set(m,this.$y+D);if(x===d)return L(1);if(x===_)return L(7);var I=(C={},C[a]=r,C[u]=i,C[o]=n,C)[x]||1,q=this.$d.getTime()+D*I;return N.w(q,this)},P.subtract=function(D,F){return this.add(-1*D,F)},P.format=function(D){var F=this,C=this.$locale();if(!this.isValid())return C.invalidDate||T;var k=D||"YYYY-MM-DDTHH:mm:ssZ",x=N.z(this),L=this.$H,I=this.$m,q=this.$M,A=C.weekdays,G=C.months,Y=function(j,H,V,W){return j&&(j[H]||j(F,k))||V[H].slice(0,W)},Z=function(j){return N.s(L%12||12,j,"0")},S=C.meridiem||function(j,H,V){var W=j<12?"AM":"PM";return V?W.toLowerCase():W},E={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:N.s(q+1,2,"0"),MMM:Y(C.monthsShort,q,G,3),MMMM:Y(G,q),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:Y(C.weekdaysMin,this.$W,A,2),ddd:Y(C.weekdaysShort,this.$W,A,3),dddd:A[this.$W],H:String(L),HH:N.s(L,2,"0"),h:Z(1),hh:Z(2),a:S(L,I,!0),A:S(L,I,!1),m:String(I),mm:N.s(I,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:x};return k.replace(p,function(j,H){return H||E[j]||x.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(D,F,C){var k,x=N.p(F),L=$(D),I=(L.utcOffset()-this.utcOffset())*r,q=this-L,A=N.m(this,L);return A=(k={},k[m]=A/12,k[c]=A,k[v]=A/3,k[_]=(q-I)/6048e5,k[d]=(q-I)/864e5,k[u]=q/i,k[a]=q/r,k[o]=q/n,k)[x]||q,C?A:N.a(A)},P.daysInMonth=function(){return this.endOf(c).$D},P.$locale=function(){return b[this.$L]},P.locale=function(D,F){if(!D)return this.$L;var C=this.clone(),k=R(D,F,!0);return k&&(C.$L=k),C},P.clone=function(){return N.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},U}(),K=z.prototype;return $.prototype=K,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",d],["$M",c],["$y",m],["$D",w]].forEach(function(U){K[U[1]]=function(P){return this.$g(P,U[0],U[1])}}),$.extend=function(U,P){return U.$i||(U(P,z,$),U.$i=!0),$},$.locale=R,$.isDayjs=O,$.unix=function(U){return $(1e3*U)},$.en=b[g],$.Ls=b,$.p={},$})})(fa);var Pc=fa.exports;const Ve=Ot(Pc);function la(t){return t<100&&(t>50?t=t+1900:t=t+2e3),t}function pr(t,e,n){const r=Ve(t);let i=r;i=i.month(n-1),i=i.date(e),i=i.year(r.year());const s=i.add(1,"y"),o=i.add(-1,"y");return Math.abs(s.diff(r))<Math.abs(i.diff(r))?i=s:Math.abs(o.diff(r))<Math.abs(i.diff(r))&&(i=o),i.year()}const ha={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},da={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},xt={...da,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},Xr={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},ei={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},vr={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"},jc=`(?:${wt(Xr)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function Nc(t){const e=t.toLowerCase();return Xr[e]!==void 0?Xr[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}const ur=`(?:${wt(ei)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function cr(t){let e=t.toLowerCase();return ei[e]!==void 0?ei[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}const Di="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function Pi(t){if(/BE/i.test(t))return t=t.replace(/BE/i,""),parseInt(t)-543;if(/BCE?/i.test(t))return t=t.replace(/BCE?/i,""),-parseInt(t);if(/(AD|CE)/i.test(t))return t=t.replace(/(AD|CE)/i,""),parseInt(t);const e=parseInt(t);return la(e)}const pa=`(${jc})\\s{0,3}(${wt(vr)})`,bs=new RegExp(pa,"i"),Ut=Rc("(?:(?:about|around)\\s{0,3})?",pa);function Dn(t){const e={};let n=t,r=bs.exec(n);for(;r;)Fc(e,r),n=n.substring(r[0].length).trim(),r=bs.exec(n);return e}function Fc(t,e){const n=Nc(e[1]),r=vr[e[2].toLowerCase()];t[r]=n}var va={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Me,function(){var n="month",r="quarter";return function(i,s){var o=s.prototype;o.quarter=function(d){return this.$utils().u(d)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(d-1))};var a=o.add;o.add=function(d,_){return d=Number(d),this.$utils().p(_)===r?this.add(3*d,n):a.bind(this)(d,_)};var u=o.startOf;o.startOf=function(d,_){var c=this.$utils(),v=!!c.u(_)||_;if(c.p(d)===r){var m=this.quarter()-1;return v?this.month(3*m).startOf(n).startOf("day"):this.month(3*m+2).endOf(n).endOf("day")}return u.bind(this)(d,_)}}})})(va);var Mc=va.exports;const Lc=Ot(Mc);function Ic(t,e){e=e.add(1,"day"),An(t,e),_r(t,e)}function Ht(t,e){t.assign("day",e.date()),t.assign("month",e.month()+1),t.assign("year",e.year())}function _a(t,e){t.assign("hour",e.hour()),t.assign("minute",e.minute()),t.assign("second",e.second()),t.assign("millisecond",e.millisecond()),t.get("hour")<12?t.assign("meridiem",_e.AM):t.assign("meridiem",_e.PM)}function An(t,e){t.imply("day",e.date()),t.imply("month",e.month()+1),t.imply("year",e.year())}function _r(t,e){t.imply("hour",e.hour()),t.imply("minute",e.minute()),t.imply("second",e.second()),t.imply("millisecond",e.millisecond())}const Bc={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function qc(t){return t==null?null:typeof t=="number"?t:Bc[t]??null}Ve.extend(Lc);class ga{constructor(e){e=e??new Date,e instanceof Date?this.instant=e:(this.instant=e.instant??new Date,this.timezoneOffset=qc(e.timezone))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+this.getSystemTimezoneAdjustmentMinute(this.instant)*6e4)}getSystemTimezoneAdjustmentMinute(e,n){(!e||e.getTime()<0)&&(e=new Date);const r=-e.getTimezoneOffset(),i=n??this.timezoneOffset??r;return r-i}}class Ce{constructor(e,n){if(this.reference=e,this.knownValues={},this.impliedValues={},n)for(const i in n)this.knownValues[i]=n[i];const r=Ve(e.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,n){return e in this.knownValues?this:(this.impliedValues[e]=n,this)}assign(e,n){return this.knownValues[e]=n,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new Ce(this.reference);e.knownValues={},e.impliedValues={};for(const n in this.knownValues)e.knownValues[n]=this.knownValues[n];for(const n in this.impliedValues)e.impliedValues[n]=this.impliedValues[n];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Ve(this.date())}date(){const e=this.dateWithoutTimezoneAdjustment(),n=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+n*6e4)}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,n){let r=Ve(e.instant);for(const s in n)r=r.add(n[s],s);const i=new Ce(e);return n.hour||n.minute||n.second?(_a(i,r),Ht(i,r),e.timezoneOffset!==null&&i.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(_r(i,r),e.timezoneOffset!==null&&i.imply("timezoneOffset",-e.instant.getTimezoneOffset()),n.d?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year())):(n.week&&i.imply("weekday",r.day()),i.imply("day",r.date()),n.month?(i.assign("month",r.month()+1),i.assign("year",r.year())):(i.imply("month",r.month()+1),n.year?i.assign("year",r.year()):i.imply("year",r.year())))),i}}class Pn{constructor(e,n,r,i,s){this.reference=e,this.refDate=e.instant,this.index=n,this.text=r,this.start=i||new Ce(e),this.end=s}clone(){const e=new Pn(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}}class ze{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){const n=this.innerPattern(e);return n==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${n.source}`,n.flags),this.cachedInnerPattern=n,this.cachedPattern)}extract(e,n){const r=n[1]??"";n.index=n.index+r.length,n[0]=n[0].substring(r.length);for(let i=2;i<n.length;i++)n[i-1]=n[i];return this.innerExtract(e,n)}}const Uc=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Ut})(?=\\W|$)`,"i"),Hc=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Ut})(?=\\W|$)`,"i");class Wc extends ze{innerPattern(e){return e.option.forwardDate?Hc:Uc}innerExtract(e,n){const r=Dn(n[1]);return Ce.createRelativeFromReference(e.reference,r)}}const Gc=new RegExp(`(?:on\\s{0,3})?(${ur})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${ur}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${wt(xt)})(?:(?:-|/|,?\\s{0,3})(${Di}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Ts=1,Es=2,zc=3,As=4;class Vc extends ze{innerPattern(){return Gc}innerExtract(e,n){const r=e.createParsingResult(n.index,n[0]),i=xt[n[zc].toLowerCase()],s=cr(n[Ts]);if(s>31)return n.index=n.index+n[Ts].length,null;if(r.start.assign("month",i),r.start.assign("day",s),n[As]){const o=Pi(n[As]);r.start.assign("year",o)}else{const o=pr(e.refDate,s,i);r.start.imply("year",o)}if(n[Es]){const o=cr(n[Es]);r.end=r.start.clone(),r.end.assign("day",o)}return r}}const Kc=new RegExp(`(${wt(xt)})(?:-|/|\\s*,?\\s*)(${ur})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${ur})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${Di}))?(?=\\W|$)(?!\\:\\d)`,"i"),Yc=1,Qc=2,Cs=3,Ss=4;class Jc extends ze{innerPattern(){return Kc}innerExtract(e,n){const r=xt[n[Yc].toLowerCase()],i=cr(n[Qc]);if(i>31)return null;const s=e.createParsingComponents({day:i,month:r});if(n[Ss]){const u=Pi(n[Ss]);s.assign("year",u)}else{const u=pr(e.refDate,i,r);s.imply("year",u)}if(!n[Cs])return s;const o=cr(n[Cs]),a=e.createParsingResult(n.index,n[0]);return a.start=s,a.end=s.clone(),a.end.assign("day",o),a}}const Zc=new RegExp(`((?:in)\\s*)?(${wt(xt)})\\s*(?:[,-]?\\s*(${Di})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Xc=1,ef=2,ks=3;class tf extends ze{innerPattern(){return Zc}innerExtract(e,n){const r=n[ef].toLowerCase();if(n[0].length<=3&&!da[r])return null;const i=e.createParsingResult(n.index+(n[Xc]||"").length,n.index+n[0].length);i.start.imply("day",1);const s=xt[r];if(i.start.assign("month",s),n[ks]){const o=Pi(n[ks]);i.start.assign("year",o)}else{const o=pr(e.refDate,1,s);i.start.imply("year",o)}return i}}const nf=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${wt(xt)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),rf=1,sf=2,Os=3,of=4;class af extends ze{innerPattern(){return nf}innerExtract(e,n){const r=n[Os]?parseInt(n[Os]):xt[n[sf].toLowerCase()];if(r<1||r>12)return null;const i=parseInt(n[rf]);return{day:parseInt(n[of]),month:r,year:i}}}const uf=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),cf=1,ff=2;class lf extends ze{innerPattern(){return uf}innerExtract(e,n){const r=parseInt(n[ff]),i=parseInt(n[cf]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",r)}}function hf(t,e,n,r){return new RegExp(`${t}${e}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${n}`,r)}function df(t,e){return new RegExp(`^(${t})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}const xs=2,Kt=3,Bn=4,qn=5,gn=6;class pf{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,n){const r=this.extractPrimaryTimeComponents(e,n);if(!r)return n.index+=n[0].length,null;const i=n.index+n[1].length,s=n[0].substring(n[1].length),o=e.createParsingResult(i,s,r);n.index+=n[0].length;const a=e.text.substring(n.index),d=this.getFollowingTimePatternThroughCache().exec(a);return s.match(/^\d{3,4}/)&&d&&d[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!d||d[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(o):(o.end=this.extractFollowingTimeComponents(e,d,o),o.end&&(o.text+=d[0]),this.checkAndReturnWithFollowingPattern(o))}extractPrimaryTimeComponents(e,n,r=!1){const i=e.createParsingComponents();let s=0,o=null,a=parseInt(n[xs]);if(a>100){if(this.strictMode||n[Kt]!=null)return null;s=a%100,a=Math.floor(a/100)}if(a>24)return null;if(n[Kt]!=null){if(n[Kt].length==1&&!n[gn])return null;s=parseInt(n[Kt])}if(s>=60)return null;if(a>12&&(o=_e.PM),n[gn]!=null){if(a>12)return null;const u=n[gn][0].toLowerCase();u=="a"&&(o=_e.AM,a==12&&(a=0)),u=="p"&&(o=_e.PM,a!=12&&(a+=12))}if(i.assign("hour",a),i.assign("minute",s),o!==null?i.assign("meridiem",o):a<12?i.imply("meridiem",_e.AM):i.imply("meridiem",_e.PM),n[qn]!=null){const u=parseInt(n[qn].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(n[Bn]!=null){const u=parseInt(n[Bn]);if(u>=60)return null;i.assign("second",u)}return i}extractFollowingTimeComponents(e,n,r){const i=e.createParsingComponents();if(n[qn]!=null){const u=parseInt(n[qn].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(n[Bn]!=null){const u=parseInt(n[Bn]);if(u>=60)return null;i.assign("second",u)}let s=parseInt(n[xs]),o=0,a=-1;if(n[Kt]!=null?o=parseInt(n[Kt]):s>100&&(o=s%100,s=Math.floor(s/100)),o>=60||s>24)return null;if(s>=12&&(a=_e.PM),n[gn]!=null){if(s>12)return null;const u=n[gn][0].toLowerCase();u=="a"&&(a=_e.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),u=="p"&&(a=_e.PM,s!=12&&(s+=12)),r.start.isCertain("meridiem")||(a==_e.AM?(r.start.imply("meridiem",_e.AM),r.start.get("hour")==12&&r.start.assign("hour",0)):(r.start.imply("meridiem",_e.PM),r.start.get("hour")!=12&&r.start.assign("hour",r.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",o),a>=0?i.assign("meridiem",a):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>s?i.imply("meridiem",_e.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",_e.PM)):s>12?i.imply("meridiem",_e.PM):s<=12&&i.imply("meridiem",_e.AM),i.date().getTime()<r.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;const n=e.text.match(/[^\d:.](\d[\d.]+)$/);if(n){const r=n[1];if(this.strictMode||r.includes(".")&&!r.match(/\d(\.\d{2})+$/)||parseInt(r)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const n=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(n){if(this.strictMode)return null;const r=n[1],i=n[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;const s=parseInt(i),o=parseInt(r);if(s>24||o>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),n=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===n?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=hf(this.primaryPatternLeftBoundary(),e,n,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=n,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),n=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===n?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=df(e,n),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=n,this.cachedFollowingTimePatten)}}class vf extends pf{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,n){const r=super.extractPrimaryTimeComponents(e,n);if(r){if(n[0].endsWith("night")){const i=r.get("hour");i>=6&&i<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",_e.PM)):i<6&&r.assign("meridiem",_e.AM)}if(n[0].endsWith("afternoon")){r.assign("meridiem",_e.PM);const i=r.get("hour");i>=0&&i<=6&&r.assign("hour",r.get("hour")+12)}n[0].endsWith("morning")&&(r.assign("meridiem",_e.AM),r.get("hour")<12&&r.assign("hour",r.get("hour")))}return r}}function ji(t){const e={};for(const n in t)e[n]=-t[n];return e}function _f(t,e){const n=t.clone();let r=t.dayjs();for(const i in e)r=r.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(n.imply("day",r.date()),n.imply("month",r.month()+1),n.imply("year",r.year())),("second"in e||"minute"in e||"hour"in e)&&(n.imply("second",r.second()),n.imply("minute",r.minute()),n.imply("hour",r.hour())),n}const gf=new RegExp(`(${Ut})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),yf=new RegExp(`(${Ut})\\s{0,5}ago(?=(?:\\W|$))`,"i");class mf extends ze{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?yf:gf}innerExtract(e,n){const r=Dn(n[1]),i=ji(r);return Ce.createRelativeFromReference(e.reference,i)}}const wf=new RegExp(`(${Ut})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),bf=new RegExp("("+Ut+")(later|from now)(?=(?:\\W|$))","i"),Tf=1;class Ef extends ze{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?bf:wf}innerExtract(e,n){const r=Dn(n[Tf]);return Ce.createRelativeFromReference(e.reference,r)}}class Af{refine(e,n){return n.filter(r=>this.isValid(e,r))}}class gr{refine(e,n){if(n.length<2)return n;const r=[];let i=n[0],s=null;for(let o=1;o<n.length;o++){s=n[o];const a=e.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(a,i,s,e))r.push(i),i=s;else{const u=i,d=s,_=this.mergeResults(a,u,d,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${d} into ${_}`)}),i=_}}return i!=null&&r.push(i),r}}class Cf extends gr{shouldMergeResults(e,n,r){return!n.end&&!r.end&&e.match(this.patternBetween())!=null}mergeResults(e,n,r){if(!n.start.isOnlyWeekdayComponent()&&!r.start.isOnlyWeekdayComponent()&&(r.start.getCertainComponents().forEach(s=>{n.start.isCertain(s)||n.start.assign(s,r.start.get(s))}),n.start.getCertainComponents().forEach(s=>{r.start.isCertain(s)||r.start.assign(s,n.start.get(s))})),n.start.date().getTime()>r.start.date().getTime()){let s=n.start.dayjs(),o=r.start.dayjs();n.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(o)?(s=s.add(-7,"days"),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year())):r.start.isOnlyWeekdayComponent()&&o.add(7,"days").isAfter(s)?(o=o.add(7,"days"),r.start.imply("day",o.date()),r.start.imply("month",o.month()+1),r.start.imply("year",o.year())):[r,n]=[n,r]}const i=n.clone();return i.start=n.start,i.end=r.start,i.index=Math.min(n.index,r.index),n.index<r.index?i.text=n.text+e+r.text:i.text=r.text+e+n.text,i}}class Sf extends Cf{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function Rs(t,e){const n=t.clone(),r=t.start,i=e.start;if(n.start=$s(r,i),t.end!=null||e.end!=null){const s=t.end==null?t.start:t.end,o=e.end==null?e.start:e.end,a=$s(s,o);if(t.end==null&&a.date().getTime()<n.start.date().getTime()){const u=a.dayjs().add(1,"day");a.isCertain("day")?Ht(a,u):An(a,u)}n.end=a}return n}function $s(t,e){const n=t.clone();return e.isCertain("hour")?(n.assign("hour",e.get("hour")),n.assign("minute",e.get("minute")),e.isCertain("second")?(n.assign("second",e.get("second")),e.isCertain("millisecond")?n.assign("millisecond",e.get("millisecond")):n.imply("millisecond",e.get("millisecond"))):(n.imply("second",e.get("second")),n.imply("millisecond",e.get("millisecond")))):(n.imply("hour",e.get("hour")),n.imply("minute",e.get("minute")),n.imply("second",e.get("second")),n.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&n.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?n.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&n.get("meridiem")==null&&n.imply("meridiem",e.get("meridiem")),n.get("meridiem")==_e.PM&&n.get("hour")<12&&(e.isCertain("hour")?n.assign("hour",n.get("hour")+12):n.imply("hour",n.get("hour")+12)),n}class kf extends gr{shouldMergeResults(e,n,r){return(n.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&n.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,n,r){const i=n.start.isOnlyDate()?Rs(n,r):Rs(r,n);return i.index=n.index,i.text=n.text+e+r.text,i}}class Of extends kf{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}}const xf=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),Rf={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};class $f{constructor(e){this.timezone={...Rf,...e}}refine(e,n){const r=e.option.timezones??{};return n.forEach(i=>{const s=e.text.substring(i.index+i.text.length),o=xf.exec(s);if(!o)return;const a=o[1].toUpperCase(),u=r[a]??this.timezone[a]??null;if(u===null)return;e.debug(()=>{console.log(`Extracting timezone: '${a}' into: ${u} for: ${i.start}`)});const d=i.start.get("timezoneOffset");d!==null&&u!=d&&(i.start.isCertain("timezoneOffset")||a!=o[1])||i.start.isOnlyDate()&&a!=o[1]||(i.text+=o[0],i.start.isCertain("timezoneOffset")||i.start.assign("timezoneOffset",u),i.end!=null&&!i.end.isCertain("timezoneOffset")&&i.end.assign("timezoneOffset",u))}),n}}const Df=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),Pf=1,jf=2,Nf=3;class Ff{refine(e,n){return n.forEach(function(r){if(r.start.isCertain("timezoneOffset"))return;const i=e.text.substring(r.index+r.text.length),s=Df.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${r}`)});const o=parseInt(s[jf]),a=parseInt(s[Nf]||"0");let u=o*60+a;u>14*60||(s[Pf]==="-"&&(u=-u),r.end!=null&&r.end.assign("timezoneOffset",u),r.start.assign("timezoneOffset",u),r.text+=s[0])}),n}}class Ds{refine(e,n){if(n.length<2)return n;const r=[];let i=n[0];for(let s=1;s<n.length;s++){const o=n[s];o.index<i.index+i.text.length?o.text.length>i.text.length&&(i=o):(r.push(i),i=o)}return i!=null&&r.push(i),r}}class Mf{refine(e,n){return e.option.forwardDate&&n.forEach(function(r){let i=Ve(e.refDate);if(r.start.isOnlyTime()&&i.isAfter(r.start.dayjs())&&(i=i.add(1,"day"),An(r.start,i),r.end&&r.end.isOnlyTime()&&(An(r.end,i),r.start.dayjs().isAfter(r.end.dayjs())&&(i=i.add(1,"day"),An(r.end,i)))),r.start.isOnlyDayMonthComponent()&&i.isAfter(r.start.dayjs()))for(let s=0;s<3&&i.isAfter(r.start.dayjs());s++)r.start.imply("year",r.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${r} (${r.start})`)}),r.end&&!r.end.isCertain("year")&&(r.end.imply("year",r.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${r} (${r.end})`)}));r.start.isOnlyWeekdayComponent()&&i.isAfter(r.start.dayjs())&&(i.day()>=r.start.get("weekday")?i=i.day(r.start.get("weekday")+7):i=i.day(r.start.get("weekday")),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${r} (${r.start})`)}),r.end&&r.end.isOnlyWeekdayComponent()&&(i.day()>r.end.get("weekday")?i=i.day(r.end.get("weekday")+7):i=i.day(r.end.get("weekday")),r.end.imply("day",i.date()),r.end.imply("month",i.month()+1),r.end.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${r} (${r.end})`)})))}),n}}class Lf extends Af{constructor(e){super(),this.strictMode=e}isValid(e,n){return n.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${n.text}'`)}),!1):n.start.isValidDate()?n.end&&!n.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${n} (${n.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,n):!0:(e.debug(()=>{console.log(`Removing invalid result: ${n} (${n.start})`)}),!1)}isStrictModeValid(e,n){return n.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${n} (${n.end})`)}),!1):n.start.isOnlyTime()&&(!n.start.isCertain("hour")||!n.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${n} (${n.end})`)}),!1):!0}}const If=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),Bf=1,qf=2,Uf=3,Ps=4,Hf=5,js=6,Ns=7,Fs=8,Ms=9;class Wf extends ze{innerPattern(){return If}innerExtract(e,n){const r={};if(r.year=parseInt(n[Bf]),r.month=parseInt(n[qf]),r.day=parseInt(n[Uf]),n[Ps]!=null)if(r.hour=parseInt(n[Ps]),r.minute=parseInt(n[Hf]),n[js]!=null&&(r.second=parseInt(n[js])),n[Ns]!=null&&(r.millisecond=parseInt(n[Ns])),n[Fs]==null)r.timezoneOffset=0;else{const i=parseInt(n[Fs]);let s=0;n[Ms]!=null&&(s=parseInt(n[Ms]));let o=i*60;o<0?o-=s:o+=s,r.timezoneOffset=o}return r}}class Gf extends gr{mergeResults(e,n,r){const i=r.clone();return i.index=n.index,i.text=n.text+e+i.text,i.start.assign("weekday",n.start.get("weekday")),i.end&&i.end.assign("weekday",n.start.get("weekday")),i}shouldMergeResults(e,n,r){return n.start.isOnlyWeekdayComponent()&&!n.start.isCertain("hour")&&r.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}}function zf(t,e=!1){return t.parsers.unshift(new Wf),t.refiners.unshift(new Gf),t.refiners.unshift(new $f),t.refiners.unshift(new Ff),t.refiners.unshift(new Ds),t.refiners.push(new Ds),t.refiners.push(new Mf),t.refiners.push(new Lf(e)),t}function Vf(t){const e=Ve(t.instant),n=new Ce(t,{});return Ht(n,e),_a(n,e),t.timezoneOffset!==null&&n.assign("timezoneOffset",e.utcOffset()),n}function Kf(t){const e=Ve(t.instant),n=new Ce(t,{});return Ht(n,e),_r(n,e),n}function Yf(t){return Qf(t,1)}function Qf(t,e){return ya(t,-e)}function Jf(t){return ya(t,1)}function ya(t,e){let n=Ve(t.instant);const r=new Ce(t,{});return n=n.add(e,"day"),Ht(r,n),_r(r,n),r}function Zf(t,e=22){const n=Ve(t.instant),r=new Ce(t,{});return r.imply("hour",e),r.imply("meridiem",_e.PM),Ht(r,n),r}function Xf(t,e=20){const n=new Ce(t,{});return n.imply("meridiem",_e.PM),n.imply("hour",e),n}function el(t){const e=new Ce(t,{}),n=Ve(t.instant);return n.hour()>2&&Ic(e,n),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e}function tl(t,e=6){const n=new Ce(t,{});return n.imply("meridiem",_e.AM),n.imply("hour",e),n.imply("minute",0),n.imply("second",0),n.imply("millisecond",0),n}function nl(t,e=15){const n=new Ce(t,{});return n.imply("meridiem",_e.PM),n.imply("hour",e),n.imply("minute",0),n.imply("second",0),n.imply("millisecond",0),n}function rl(t){const e=new Ce(t,{});return e.imply("meridiem",_e.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e}const il=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;class sl extends ze{innerPattern(e){return il}innerExtract(e,n){let r=Ve(e.refDate);const i=n[0].toLowerCase(),s=e.createParsingComponents();switch(i){case"now":return Vf(e.reference);case"today":return Kf(e.reference);case"yesterday":return Yf(e.reference);case"tomorrow":case"tmr":case"tmrw":return Jf(e.reference);case"tonight":return Zf(e.reference);default:i.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),Ht(s,r),s.imply("hour",0));break}return s}}const ol=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i;class al extends ze{innerPattern(){return ol}innerExtract(e,n){switch(n[1].toLowerCase()){case"afternoon":return nl(e.reference);case"evening":case"night":return Xf(e.reference);case"midnight":return el(e.reference);case"morning":return tl(e.reference);case"noon":case"midday":return rl(e.reference)}return null}}function ul(t,e,n){const r=t.getDateWithAdjustedTimezone(),i=cl(r,e,n);let s=new Ce(t);return s=_f(s,{day:i}),s.assign("weekday",e),s}function cl(t,e,n){const r=t.getDay();switch(n){case"this":return Yn(t,e);case"last":return ma(t,e);case"next":return r==Tt.SUNDAY?e==Tt.SUNDAY?7:e:r==Tt.SATURDAY?e==Tt.SATURDAY?7:e==Tt.SUNDAY?8:1+e:e<r&&e!=Tt.SUNDAY?Yn(t,e):Yn(t,e)+7}return fl(t,e)}function fl(t,e){const n=ma(t,e),r=Yn(t,e);return r<-n?r:n}function Yn(t,e){const n=t.getDay();let r=e-n;return r<0&&(r+=7),r}function ma(t,e){const n=t.getDay();let r=e-n;return r>=0&&(r-=7),r}const ll=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${wt(ha)})(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),hl=1,dl=2,pl=3;class vl extends ze{innerPattern(){return ll}innerExtract(e,n){const r=n[dl].toLowerCase(),i=ha[r],s=n[hl],o=n[pl];let a=s||o;a=a||"",a=a.toLowerCase();let u=null;return a=="last"||a=="past"?u="last":a=="next"?u="next":a=="this"&&(u="this"),ul(e.reference,i,u)}}const _l=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${wt(vr)})(?=\\s*)(?=\\W|$)`,"i"),gl=1,yl=2;class ml extends ze{innerPattern(){return _l}innerExtract(e,n){const r=n[gl].toLowerCase(),i=n[yl].toLowerCase(),s=vr[i];if(r=="next"||r.startsWith("after")){const u={};return u[s]=1,Ce.createRelativeFromReference(e.reference,u)}if(r=="last"||r=="past"){const u={};return u[s]=-1,Ce.createRelativeFromReference(e.reference,u)}const o=e.createParsingComponents();let a=Ve(e.reference.instant);return i.match(/week/i)?(a=a.add(-a.get("d"),"d"),o.imply("day",a.date()),o.imply("month",a.month()+1),o.imply("year",a.year())):i.match(/month/i)?(a=a.add(-a.date()+1,"d"),o.imply("day",a.date()),o.assign("year",a.year()),o.assign("month",a.month()+1)):i.match(/year/i)&&(a=a.add(-a.date()+1,"d"),a=a.add(-a.month(),"month"),o.imply("day",a.date()),o.imply("month",a.month()+1),o.assign("year",a.year())),o}}class on{constructor(e){e=e||wa(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new on({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,n,r){const i=this.parse(e,n,r);return i.length>0?i[0].start.date():null}parse(e,n,r){const i=new wl(e,n,r);let s=[];return this.parsers.forEach(o=>{const a=on.executeParser(i,o);s=s.concat(a)}),s.sort((o,a)=>o.index-a.index),this.refiners.forEach(function(o){s=o.refine(i,s)}),s}static executeParser(e,n){const r=[],i=n.pattern(e),s=e.text;let o=e.text,a=i.exec(o);for(;a;){const u=a.index+s.length-o.length;a.index=u;const d=n.extract(e,a);if(!d){o=s.substring(a.index+1),a=i.exec(o);continue}let _=null;d instanceof Pn?_=d:d instanceof Ce?(_=e.createParsingResult(a.index,a[0]),_.start=d):_=e.createParsingResult(a.index,a[0],d),e.debug(()=>console.log(`${n.constructor.name} extracted result ${_}`)),r.push(_),o=s.substring(u+_.text.length),a=i.exec(o)}return r}}class wl{constructor(e,n,r){this.text=e,this.reference=new ga(n),this.option=r??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof Ce?e:new Ce(this.reference,e)}createParsingResult(e,n,r,i){const s=typeof n=="string"?n:this.text.substring(e,n),o=r?this.createParsingComponents(r):null,a=i?this.createParsingComponents(i):null;return new Pn(this.reference,e,s,o,a)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}const bl=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Un=1,Tl=5,Ls=2,Is=3,Mr=4;class El{constructor(e){this.groupNumberMonth=e?Is:Ls,this.groupNumberDay=e?Ls:Is}pattern(){return bl}extract(e,n){if(n[Un].length==0&&n.index>0&&n.index<e.text.length){const u=e.text[n.index-1];if(u>="0"&&u<="9")return}const r=n.index+n[Un].length,i=n[0].substr(n[Un].length,n[0].length-n[Un].length-n[Tl].length);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!n[Mr]&&n[0].indexOf("/")<0)return;const s=e.createParsingResult(r,i);let o=parseInt(n[this.groupNumberMonth]),a=parseInt(n[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(a>=1&&a<=12&&o<=31)[a,o]=[o,a];else return null;if(a<1||a>31)return null;if(s.start.assign("day",a),s.start.assign("month",o),n[Mr]){const u=parseInt(n[Mr]),d=la(u);s.start.assign("year",d)}else{const u=pr(e.refDate,a,o);s.start.imply("year",u)}return s}}const Al=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${Ut})(?=\\W|$)`,"i");class Cl extends ze{innerPattern(){return Al}innerExtract(e,n){const r=n[1].toLowerCase();let i=Dn(n[2]);switch(r){case"last":case"past":case"-":i=ji(i);break}return Ce.createRelativeFromReference(e.reference,i)}}function Bs(t){return t.text.match(/\s+(before|from)$/i)!=null}function Sl(t){return t.text.match(/\s+(after|since)$/i)!=null}class kl extends gr{patternBetween(){return/^\s*$/i}shouldMergeResults(e,n,r){return!e.match(this.patternBetween())||!Bs(n)&&!Sl(n)?!1:!!r.start.get("day")&&!!r.start.get("month")&&!!r.start.get("year")}mergeResults(e,n,r){let i=Dn(n.text);Bs(n)&&(i=ji(i));const s=Ce.createRelativeFromReference(new ga(r.start.date()),i);return new Pn(r.reference,n.index,`${n.text}${e}${r.text}`,s)}}const Ol=new on(wa(!1));new on(Ni(!0,!1));new on(Ni(!1,!0));function wa(t=!1){const e=Ni(!1,t);return e.parsers.unshift(new sl),e.parsers.unshift(new al),e.parsers.unshift(new tf),e.parsers.unshift(new ml),e.parsers.unshift(new Cl),e}function Ni(t=!0,e=!1){return zf({parsers:[new El(e),new Wc,new Vc,new Jc,new vl,new af,new lf,new vf(t),new mf(t),new Ef(t)],refiners:[new kl,new Of,new Sf]},t)}var _e;(function(t){t[t.AM=0]="AM",t[t.PM=1]="PM"})(_e||(_e={}));var Tt;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(Tt||(Tt={}));const xl=Ol;function Rl(t,e,n){return xl.parseDate(t,e,n)}function $l(t,e){let n,r;[r,n]=t.length>e.length?[t,e]:[e,t];const i=Math.floor(r.length/2)-1,s=[],o=[];for(let c=0;c<n.length;c++){let v=n[c];const m=Math.max(0,c-i),w=Math.min(c+i+1,r.length);for(let T=m;T<w;T++)if(o[T]===void 0&&v===r[T]){s[c]=o[T]=v;break}}const a=s.join(""),u=o.join(""),d=a.length;let _=0;for(let c=0;c<a.length;c++)a[c]!==u[c]&&_++;return d>0?(d/n.length+d/r.length+(d-Math.floor(_/2))/d)/3:0}function Dl(t,e,n=.2){const r=$l(t,e);let i=0;for(let s=0;s<t.length&&t[s]===e[s];s++)i++;return r+Math.min(i,4)*n*(1-r)}const ti=["homework","test","worksheet","study","research","read","paper","presentation","lab","final","midterm","quiz","project"];function Pl(t,e){let n,r,i=0;const s=t.replaceAll(/[^\w]/g," ").trim().toLowerCase();for(const o of s.split(" "))for(const a of e){const u=Dl(a,o);u>i&&(n=a,r=o,i=u)}return console.log(n,"==",r,i),[n,i]}function jl(t,e){return(t.match(e)||[]).length}const ht=Object.create(null);ht.open="0";ht.close="1";ht.ping="2";ht.pong="3";ht.message="4";ht.upgrade="5";ht.noop="6";const Qn=Object.create(null);Object.keys(ht).forEach(t=>{Qn[ht[t]]=t});const Nl={type:"error",data:"parser error"},Fl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ml=typeof ArrayBuffer=="function",Ll=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ba=({type:t,data:e},n,r)=>Fl&&e instanceof Blob?n?r(e):qs(e,r):Ml&&(e instanceof ArrayBuffer||Ll(e))?n?r(e):qs(new Blob([e]),r):r(ht[t]+(e||"")),qs=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)},Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Us.length;t++)bn[Us.charCodeAt(t)]=t;const Il=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),_=new Uint8Array(d);for(r=0;r<n;r+=4)s=bn[t.charCodeAt(r)],o=bn[t.charCodeAt(r+1)],a=bn[t.charCodeAt(r+2)],u=bn[t.charCodeAt(r+3)],_[i++]=s<<2|o>>4,_[i++]=(o&15)<<4|a>>2,_[i++]=(a&3)<<6|u&63;return d},Bl=typeof ArrayBuffer=="function",Ta=(t,e)=>{if(typeof t!="string")return{type:"message",data:Ea(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ql(t.substring(1),e)}:Qn[n]?t.length>1?{type:Qn[n],data:t.substring(1)}:{type:Qn[n]}:Nl},ql=(t,e)=>{if(Bl){const n=Il(t);return Ea(n,e)}else return{base64:!0,data:t}},Ea=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},Aa=String.fromCharCode(30),Ul=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{ba(s,!1,a=>{r[o]=a,++i===n&&e(r.join(Aa))})})},Hl=(t,e)=>{const n=t.split(Aa),r=[];for(let i=0;i<n.length;i++){const s=Ta(n[i],e);if(r.push(s),s.type==="error")break}return r},Ca=4;function De(t){if(t)return Wl(t)}function Wl(t){for(var e in De.prototype)t[e]=De.prototype[e];return t}De.prototype.on=De.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};De.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};De.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};De.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ye=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Sa(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Gl=Ye.setTimeout,zl=Ye.clearTimeout;function yr(t,e){e.useNativeTimers?(t.setTimeoutFn=Gl.bind(Ye),t.clearTimeoutFn=zl.bind(Ye)):(t.setTimeoutFn=Ye.setTimeout.bind(Ye),t.clearTimeoutFn=Ye.clearTimeout.bind(Ye))}const Vl=1.33;function Kl(t){return typeof t=="string"?Yl(t):Math.ceil((t.byteLength||t.size)*Vl)}function Yl(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}class Ql extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class ka extends De{constructor(e){super(),this.writable=!1,yr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new Ql(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ta(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const Oa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ni=64,Jl={};let Hs=0,Hn=0,Ws;function Gs(t){let e="";do e=Oa[t%ni]+e,t=Math.floor(t/ni);while(t>0);return e}function xa(){const t=Gs(+new Date);return t!==Ws?(Hs=0,Ws=t):t+"."+Gs(Hs++)}for(;Hn<ni;Hn++)Jl[Oa[Hn]]=Hn;function Ra(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Zl(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}let $a=!1;try{$a=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Xl=$a;function Da(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Xl))return new XMLHttpRequest}catch{}if(!e)try{return new Ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function eh(){}const th=function(){return new Da({xdomain:!1}).responseType!=null}();class nh extends ka{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}const n=e&&e.forceBase64;this.supportsBinary=th&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Hl(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ul(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=xa()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=Ra(e),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new lt(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class lt extends De{constructor(e,n){super(),yr(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const e=Sa(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const n=this.xhr=new Da(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=lt.requestsCount++,lt.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=eh,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete lt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}lt.requestsCount=0;lt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zs);else if(typeof addEventListener=="function"){const t="onpagehide"in Ye?"pagehide":"unload";addEventListener(t,zs,!1)}}function zs(){for(let t in lt.requests)lt.requests.hasOwnProperty(t)&&lt.requests[t].abort()}const Pa=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Wn=Ye.WebSocket||Ye.MozWebSocket,Vs=!0,rh="arraybuffer",Ks=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ih extends ka{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=Ks?{}:Sa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Vs&&!Ks?n?new Wn(e,n):new Wn(e):new Wn(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||rh,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;ba(r,this.supportsBinary,s=>{const o={};try{Vs&&this.ws.send(s)}catch{}i&&Pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=xa()),this.supportsBinary||(e.b64=1);const i=Ra(e),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Wn}}const sh={websocket:ih,polling:nh},oh=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ah=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ri(t){const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=oh.exec(t||""),s={},o=14;for(;o--;)s[ah[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=uh(s,s.path),s.queryKey=ch(s,s.query),s}function uh(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ch(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let ja=class Zt extends De{constructor(e,n={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=ri(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=ri(n.host).host),yr(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Zl(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Ca,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new sh[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Zt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;Zt.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",c=>{if(!r)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Zt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(_(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function s(){r||(r=!0,_(),n.close(),n=null)}const o=c=>{const v=new Error("probe error: "+c);v.transport=n.name,s(),this.emitReserved("upgradeError",v)};function a(){o("transport closed")}function u(){o("socket closed")}function d(c){n&&c.name!==n.name&&s()}const _=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",u),this.off("upgrading",d)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",u),this.once("upgrading",d),n.open()}onOpen(){if(this.readyState="open",Zt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Kl(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Zt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};ja.protocol=Ca;function fh(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=ri(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const lh=typeof ArrayBuffer=="function",hh=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Na=Object.prototype.toString,dh=typeof Blob=="function"||typeof Blob<"u"&&Na.call(Blob)==="[object BlobConstructor]",ph=typeof File=="function"||typeof File<"u"&&Na.call(File)==="[object FileConstructor]";function Fi(t){return lh&&(t instanceof ArrayBuffer||hh(t))||dh&&t instanceof Blob||ph&&t instanceof File}function Jn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Jn(t[n]))return!0;return!1}if(Fi(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Jn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Jn(t[n]))return!0;return!1}function vh(t){const e=[],n=t.data,r=t;return r.data=ii(n,e),r.attachments=e.length,{packet:r,buffers:e}}function ii(t,e){if(!t)return t;if(Fi(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=ii(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=ii(t[r],e));return n}return t}function _h(t,e){return t.data=si(t.data,e),delete t.attachments,t}function si(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=si(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=si(t[n],e));return t}const gh=5;var fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class yh{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&Jn(e)?this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=vh(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Mi extends De{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===fe.BINARY_EVENT;r||n.type===fe.BINARY_ACK?(n.type=r?fe.EVENT:fe.ACK,this.reconstructor=new mh(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Fi(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Mi.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case fe.CONNECT:return typeof n=="object";case fe.DISCONNECT:return n===void 0;case fe.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case fe.ACK:case fe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mh{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=_h(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const wh=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Mi,Encoder:yh,get PacketType(){return fe},protocol:gh},Symbol.toStringTag,{value:"Module"}));function it(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const bh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fa extends De{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[it(e,"open",this.onopen.bind(this)),it(e,"packet",this.onpacket.bind(this)),it(e,"error",this.onerror.bind(this)),it(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(bh.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:fe.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(e,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((o,a)=>r?o?s(o):i(a):i(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:fe.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function dn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}dn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};dn.prototype.reset=function(){this.attempts=0};dn.prototype.setMin=function(t){this.ms=t};dn.prototype.setMax=function(t){this.max=t};dn.prototype.setJitter=function(t){this.jitter=t};class oi extends De{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,yr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new dn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||wh;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ja(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=it(n,"open",function(){r.onopen(),e&&e()}),s=it(n,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),e?e(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const a=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(it(e,"ping",this.onping.bind(this)),it(e,"data",this.ondata.bind(this)),it(e,"error",this.onerror.bind(this)),it(e,"close",this.onclose.bind(this)),it(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Pa(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Fa(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yn={};function Zn(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=fh(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=yn[i]&&s in yn[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return a?u=new oi(r,e):(yn[i]||(yn[i]=new oi(r,e)),u=yn[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(Zn,{Manager:oi,Socket:Fa,io:Zn,connect:Zn});const Th={head:Number.parseInt,syncIndex:Number.parseInt,auth:String};function Ma(t,e=null){return Th[t](localStorage.getItem(t)??e)}const mr=new Promise((t,e)=>{const n=globalThis.indexedDB.open("transactions",1);n.onsuccess=function(){console.log("Database opened successfully"),t(n.result)},n.onerror=function(r){alert("Database permission is required to sync with the server"),e()},n.onupgradeneeded=function(r){n.result.createObjectStore("transactions",{keyPath:"timestamp",autoIncrement:!1}),console.log("Database setup complete")}});function Eh(t,e,n){return new Promise((r,i)=>{const s=globalThis.indexedDB.open(t,e);s.onsuccess=function(){r(s.result)},s.onerror=function(o){i(o)},s.onupgradeneeded=function(o){const a=s.result;a.version===1&&a.createObjectStore(t,{keyPath:"id",autoIncrement:!1}),n==null||n(a)}})}async function Ah(){const t=(await mr).transaction("transactions").objectStore("transactions").getAll(IDBKeyRange.lowerBound(Ma("syncIndex",0),!0));return new Promise((e,n)=>{t.onsuccess=r=>{e(t.result)}})}function La(t){return console.log("Pushing",t.length,"local changes..."),new Promise((e,n)=>{t.length>0&&Ba.emit("submit",1,t,r=>{if(r.error)throw r.error+": "+r.message;localStorage.head=Math.max(r.message,Ma("head")),localStorage.syncIndex=t.at(-1).timestamp,e()})})}async function Li(t){const e={timestamp:new Date().getTime(),...t};(await mr).transaction("transactions","readwrite").objectStore("transactions").add(e),La([e]),Ia([e])}async function Ch(){console.log("Fetching remote changes...");const[t,...e]=await(await fetch(`/getSince?auth=1&head=${localStorage.head??0}`)).json();if(t===null){console.log("Up to date!");return}await Ia(e),localStorage.head=t,localStorage.syncIndex=e.at(-1).timestamp}async function Ia(t){console.log("Merging...");const e=Math.min(...t.map(r=>r.timestamp)),n=(await mr).transaction("transactions").objectStore("transactions").getAll(IDBKeyRange.lowerBound(e));n.onsuccess=r=>{const i=n.result.filter(s=>s.operation==="update");Sh(t.concat(i))}}async function Sh(t){console.log("Applying deltas to database...");const e=await mr,n=t.reduce((s,o)=>s.add(o.database),new Set),r=await Promise.all(Array.from(n).map(s=>Eh(s))),i=new Map(Array.from(n).map((s,o)=>[s,r[o].transaction(s,"readwrite").objectStore(s)]));for(const s of t){e.transaction("transactions","readwrite").objectStore("transactions").add(s);const o=i.get(s.database);switch(s.operation){case"create":o.add(JSON.parse(s.payloadValue));break;case"update":const a=JSON.parse(s.payloadValue);o.get(a.id).onsuccess=u=>{o.put({...u.target.result,...a})};break;case"delete":o.delete(s.payloadId);break}}r.forEach(s=>s.close())}const Ba=Zn();Ba.on("connect",async()=>{console.log("Socket connected!");const t=await Ah();await Ch(),await La(t),console.log("Done!")});const kh={},Oh=Object.freeze(Object.defineProperty({__proto__:null,default:kh},Symbol.toStringTag,{value:"Module"})),xh=Dc(Oh);var Ii={};Ii.test=function(){return typeof Me.queueMicrotask=="function"};Ii.install=function(t){return function(){Me.queueMicrotask(t)}};var Bi={},qa=Me.MutationObserver||Me.WebKitMutationObserver;Bi.test=function(){return qa};Bi.install=function(t){var e=0,n=new qa(t),r=Me.document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=e=++e%2}};var qi={};qi.test=function(){return Me.setImmediate?!1:typeof Me.MessageChannel<"u"};qi.install=function(t){var e=new Me.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}};var Ui={};Ui.test=function(){return"document"in Me&&"onreadystatechange"in Me.document.createElement("script")};Ui.install=function(t){return function(){var e=Me.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},Me.document.documentElement.appendChild(e),t}};var Hi={};Hi.test=function(){return!0};Hi.install=function(t){return function(){setTimeout(t,0)}};var Tn=[xh,Ii,Bi,qi,Ui,Hi],tn,jt,En=-1,At=[],ai=!1;function Rh(){!tn||!jt||(tn=!1,jt.length?At=jt.concat(At):En=-1,At.length&&Ua())}function Ua(){if(!tn){ai=!1,tn=!0;for(var t=At.length,e=setTimeout(Rh);t;){for(jt=At,At=[];jt&&++En<t;)jt[En].run();En=-1,t=At.length}jt=null,En=-1,tn=!1,clearTimeout(e)}}var Ha,mn=-1,$h=Tn.length;for(;++mn<$h;)if(Tn[mn]&&Tn[mn].test&&Tn[mn].test()){Ha=Tn[mn].install(Ua);break}function Wa(t,e){this.fun=t,this.array=e}Wa.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}};var Dh=Ph;function Ph(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];At.push(new Wa(t,e)),!ai&&!tn&&(ai=!0,Ha())}const dt=Ot(Dh);var Gn,jh=new Uint8Array(16);function Nh(){if(!Gn&&(Gn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Gn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gn(jh)}const Fh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mh(t){return typeof t=="string"&&Fh.test(t)}var Le=[];for(var Lr=0;Lr<256;++Lr)Le.push((Lr+256).toString(16).substr(1));function Lh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Le[t[e+0]]+Le[t[e+1]]+Le[t[e+2]]+Le[t[e+3]]+"-"+Le[t[e+4]]+Le[t[e+5]]+"-"+Le[t[e+6]]+Le[t[e+7]]+"-"+Le[t[e+8]]+Le[t[e+9]]+"-"+Le[t[e+10]]+Le[t[e+11]]+Le[t[e+12]]+Le[t[e+13]]+Le[t[e+14]]+Le[t[e+15]]).toLowerCase();if(!Mh(n))throw TypeError("Stringified UUID is invalid");return n}function Ga(t,e,n){t=t||{};var r=t.random||(t.rng||Nh)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Lh(r)}var za={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(p,h){var f=p[0],l=p[1],g=p[2],b=p[3];f+=(l&g|~l&b)+h[0]-680876936|0,f=(f<<7|f>>>25)+l|0,b+=(f&l|~f&g)+h[1]-389564586|0,b=(b<<12|b>>>20)+f|0,g+=(b&f|~b&l)+h[2]+606105819|0,g=(g<<17|g>>>15)+b|0,l+=(g&b|~g&f)+h[3]-1044525330|0,l=(l<<22|l>>>10)+g|0,f+=(l&g|~l&b)+h[4]-176418897|0,f=(f<<7|f>>>25)+l|0,b+=(f&l|~f&g)+h[5]+1200080426|0,b=(b<<12|b>>>20)+f|0,g+=(b&f|~b&l)+h[6]-1473231341|0,g=(g<<17|g>>>15)+b|0,l+=(g&b|~g&f)+h[7]-45705983|0,l=(l<<22|l>>>10)+g|0,f+=(l&g|~l&b)+h[8]+1770035416|0,f=(f<<7|f>>>25)+l|0,b+=(f&l|~f&g)+h[9]-1958414417|0,b=(b<<12|b>>>20)+f|0,g+=(b&f|~b&l)+h[10]-42063|0,g=(g<<17|g>>>15)+b|0,l+=(g&b|~g&f)+h[11]-1990404162|0,l=(l<<22|l>>>10)+g|0,f+=(l&g|~l&b)+h[12]+1804603682|0,f=(f<<7|f>>>25)+l|0,b+=(f&l|~f&g)+h[13]-40341101|0,b=(b<<12|b>>>20)+f|0,g+=(b&f|~b&l)+h[14]-1502002290|0,g=(g<<17|g>>>15)+b|0,l+=(g&b|~g&f)+h[15]+1236535329|0,l=(l<<22|l>>>10)+g|0,f+=(l&b|g&~b)+h[1]-165796510|0,f=(f<<5|f>>>27)+l|0,b+=(f&g|l&~g)+h[6]-1069501632|0,b=(b<<9|b>>>23)+f|0,g+=(b&l|f&~l)+h[11]+643717713|0,g=(g<<14|g>>>18)+b|0,l+=(g&f|b&~f)+h[0]-373897302|0,l=(l<<20|l>>>12)+g|0,f+=(l&b|g&~b)+h[5]-701558691|0,f=(f<<5|f>>>27)+l|0,b+=(f&g|l&~g)+h[10]+38016083|0,b=(b<<9|b>>>23)+f|0,g+=(b&l|f&~l)+h[15]-660478335|0,g=(g<<14|g>>>18)+b|0,l+=(g&f|b&~f)+h[4]-405537848|0,l=(l<<20|l>>>12)+g|0,f+=(l&b|g&~b)+h[9]+568446438|0,f=(f<<5|f>>>27)+l|0,b+=(f&g|l&~g)+h[14]-1019803690|0,b=(b<<9|b>>>23)+f|0,g+=(b&l|f&~l)+h[3]-187363961|0,g=(g<<14|g>>>18)+b|0,l+=(g&f|b&~f)+h[8]+1163531501|0,l=(l<<20|l>>>12)+g|0,f+=(l&b|g&~b)+h[13]-1444681467|0,f=(f<<5|f>>>27)+l|0,b+=(f&g|l&~g)+h[2]-51403784|0,b=(b<<9|b>>>23)+f|0,g+=(b&l|f&~l)+h[7]+1735328473|0,g=(g<<14|g>>>18)+b|0,l+=(g&f|b&~f)+h[12]-1926607734|0,l=(l<<20|l>>>12)+g|0,f+=(l^g^b)+h[5]-378558|0,f=(f<<4|f>>>28)+l|0,b+=(f^l^g)+h[8]-2022574463|0,b=(b<<11|b>>>21)+f|0,g+=(b^f^l)+h[11]+1839030562|0,g=(g<<16|g>>>16)+b|0,l+=(g^b^f)+h[14]-35309556|0,l=(l<<23|l>>>9)+g|0,f+=(l^g^b)+h[1]-1530992060|0,f=(f<<4|f>>>28)+l|0,b+=(f^l^g)+h[4]+1272893353|0,b=(b<<11|b>>>21)+f|0,g+=(b^f^l)+h[7]-155497632|0,g=(g<<16|g>>>16)+b|0,l+=(g^b^f)+h[10]-1094730640|0,l=(l<<23|l>>>9)+g|0,f+=(l^g^b)+h[13]+681279174|0,f=(f<<4|f>>>28)+l|0,b+=(f^l^g)+h[0]-358537222|0,b=(b<<11|b>>>21)+f|0,g+=(b^f^l)+h[3]-722521979|0,g=(g<<16|g>>>16)+b|0,l+=(g^b^f)+h[6]+76029189|0,l=(l<<23|l>>>9)+g|0,f+=(l^g^b)+h[9]-640364487|0,f=(f<<4|f>>>28)+l|0,b+=(f^l^g)+h[12]-421815835|0,b=(b<<11|b>>>21)+f|0,g+=(b^f^l)+h[15]+530742520|0,g=(g<<16|g>>>16)+b|0,l+=(g^b^f)+h[2]-995338651|0,l=(l<<23|l>>>9)+g|0,f+=(g^(l|~b))+h[0]-198630844|0,f=(f<<6|f>>>26)+l|0,b+=(l^(f|~g))+h[7]+1126891415|0,b=(b<<10|b>>>22)+f|0,g+=(f^(b|~l))+h[14]-1416354905|0,g=(g<<15|g>>>17)+b|0,l+=(b^(g|~f))+h[5]-57434055|0,l=(l<<21|l>>>11)+g|0,f+=(g^(l|~b))+h[12]+1700485571|0,f=(f<<6|f>>>26)+l|0,b+=(l^(f|~g))+h[3]-1894986606|0,b=(b<<10|b>>>22)+f|0,g+=(f^(b|~l))+h[10]-1051523|0,g=(g<<15|g>>>17)+b|0,l+=(b^(g|~f))+h[1]-2054922799|0,l=(l<<21|l>>>11)+g|0,f+=(g^(l|~b))+h[8]+1873313359|0,f=(f<<6|f>>>26)+l|0,b+=(l^(f|~g))+h[15]-30611744|0,b=(b<<10|b>>>22)+f|0,g+=(f^(b|~l))+h[6]-1560198380|0,g=(g<<15|g>>>17)+b|0,l+=(b^(g|~f))+h[13]+1309151649|0,l=(l<<21|l>>>11)+g|0,f+=(g^(l|~b))+h[4]-145523070|0,f=(f<<6|f>>>26)+l|0,b+=(l^(f|~g))+h[11]-1120210379|0,b=(b<<10|b>>>22)+f|0,g+=(f^(b|~l))+h[2]+718787259|0,g=(g<<15|g>>>17)+b|0,l+=(b^(g|~f))+h[9]-343485551|0,l=(l<<21|l>>>11)+g|0,p[0]=f+p[0]|0,p[1]=l+p[1]|0,p[2]=g+p[2]|0,p[3]=b+p[3]|0}function s(p){var h=[],f;for(f=0;f<64;f+=4)h[f>>2]=p.charCodeAt(f)+(p.charCodeAt(f+1)<<8)+(p.charCodeAt(f+2)<<16)+(p.charCodeAt(f+3)<<24);return h}function o(p){var h=[],f;for(f=0;f<64;f+=4)h[f>>2]=p[f]+(p[f+1]<<8)+(p[f+2]<<16)+(p[f+3]<<24);return h}function a(p){var h=p.length,f=[1732584193,-271733879,-1732584194,271733878],l,g,b,O,R,$;for(l=64;l<=h;l+=64)i(f,s(p.substring(l-64,l)));for(p=p.substring(l-64),g=p.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<g;l+=1)b[l>>2]|=p.charCodeAt(l)<<(l%4<<3);if(b[l>>2]|=128<<(l%4<<3),l>55)for(i(f,b),l=0;l<16;l+=1)b[l]=0;return O=h*8,O=O.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(O[2],16),$=parseInt(O[1],16)||0,b[14]=R,b[15]=$,i(f,b),f}function u(p){var h=p.length,f=[1732584193,-271733879,-1732584194,271733878],l,g,b,O,R,$;for(l=64;l<=h;l+=64)i(f,o(p.subarray(l-64,l)));for(p=l-64<h?p.subarray(l-64):new Uint8Array(0),g=p.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<g;l+=1)b[l>>2]|=p[l]<<(l%4<<3);if(b[l>>2]|=128<<(l%4<<3),l>55)for(i(f,b),l=0;l<16;l+=1)b[l]=0;return O=h*8,O=O.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(O[2],16),$=parseInt(O[1],16)||0,b[14]=R,b[15]=$,i(f,b),f}function d(p){var h="",f;for(f=0;f<4;f+=1)h+=r[p>>f*8+4&15]+r[p>>f*8&15];return h}function _(p){var h;for(h=0;h<p.length;h+=1)p[h]=d(p[h]);return p.join("")}_(a("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(h,f){return h=h|0||0,h<0?Math.max(h+f,0):Math.min(h,f)}ArrayBuffer.prototype.slice=function(h,f){var l=this.byteLength,g=p(h,l),b=l,O,R,$,N;return f!==n&&(b=p(f,l)),g>b?new ArrayBuffer(0):(O=b-g,R=new ArrayBuffer(O),$=new Uint8Array(R),N=new Uint8Array(this,g,O),$.set(N),R)}}();function c(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function v(p,h){var f=p.length,l=new ArrayBuffer(f),g=new Uint8Array(l),b;for(b=0;b<f;b+=1)g[b]=p.charCodeAt(b);return h?g:l}function m(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function w(p,h,f){var l=new Uint8Array(p.byteLength+h.byteLength);return l.set(new Uint8Array(p)),l.set(new Uint8Array(h),p.byteLength),f?l:l.buffer}function T(p){var h=[],f=p.length,l;for(l=0;l<f-1;l+=2)h.push(parseInt(p.substr(l,2),16));return String.fromCharCode.apply(String,h)}function y(){this.reset()}return y.prototype.append=function(p){return this.appendBinary(c(p)),this},y.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var h=this._buff.length,f;for(f=64;f<=h;f+=64)i(this._hash,s(this._buff.substring(f-64,f)));return this._buff=this._buff.substring(f-64),this},y.prototype.end=function(p){var h=this._buff,f=h.length,l,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b;for(l=0;l<f;l+=1)g[l>>2]|=h.charCodeAt(l)<<(l%4<<3);return this._finish(g,f),b=_(this._hash),p&&(b=T(b)),this.reset(),b},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(p,h){var f=h,l,g,b;if(p[f>>2]|=128<<(f%4<<3),f>55)for(i(this._hash,p),f=0;f<16;f+=1)p[f]=0;l=this._length*8,l=l.toString(16).match(/(.*?)(.{0,8})$/),g=parseInt(l[2],16),b=parseInt(l[1],16)||0,p[14]=g,p[15]=b,i(this._hash,p)},y.hash=function(p,h){return y.hashBinary(c(p),h)},y.hashBinary=function(p,h){var f=a(p),l=_(f);return h?T(l):l},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(p){var h=w(this._buff.buffer,p,!0),f=h.length,l;for(this._length+=p.byteLength,l=64;l<=f;l+=64)i(this._hash,o(h.subarray(l-64,l)));return this._buff=l-64<f?new Uint8Array(h.buffer.slice(l-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(p){var h=this._buff,f=h.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g,b;for(g=0;g<f;g+=1)l[g>>2]|=h[g]<<(g%4<<3);return this._finish(l,f),b=_(this._hash),p&&(b=T(b)),this.reset(),b},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var p=y.prototype.getState.call(this);return p.buff=m(p.buff),p},y.ArrayBuffer.prototype.setState=function(p){return p.buff=v(p.buff,!0),y.prototype.setState.call(this,p)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(p,h){var f=u(new Uint8Array(p)),l=_(f);return h?T(l):l},y})})(za);var Ih=za.exports;const ui=Ot(Ih);var wr={};wr.stringify=function(e){var n=[];n.push({obj:e});for(var r="",i,s,o,a,u,d,_,c,v,m,w;i=n.pop();)if(s=i.obj,o=i.prefix||"",a=i.val||"",r+=o,a)r+=a;else if(typeof s!="object")r+=typeof s>"u"?null:JSON.stringify(s);else if(s===null)r+="null";else if(Array.isArray(s)){for(n.push({val:"]"}),u=s.length-1;u>=0;u--)d=u===0?"":",",n.push({obj:s[u],prefix:d});n.push({val:"["})}else{_=[];for(c in s)s.hasOwnProperty(c)&&_.push(c);for(n.push({val:"}"}),u=_.length-1;u>=0;u--)v=_[u],m=s[v],w=u>0?",":"",w+=JSON.stringify(v)+":",n.push({obj:m,prefix:w});n.push({val:"{"})}return r};function Yt(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,s=r.index;if(Array.isArray(i))i.push(t);else if(s===e.length-2){var o=e.pop();i[o]=t}else e.push(t)}wr.parse=function(t){for(var e=[],n=[],r=0,i,s,o,a,u,d,_,c,v;;){if(i=t[r++],i==="}"||i==="]"||typeof i>"u"){if(e.length===1)return e.pop();Yt(e.pop(),e,n);continue}switch(i){case" ":case"	":case`
`:case":":case",":break;case"n":r+=3,Yt(null,e,n);break;case"t":r+=3,Yt(!0,e,n);break;case"f":r+=4,Yt(!1,e,n);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(s="",r--;;)if(o=t[r++],/[\d\.\-e\+]/.test(o))s+=o;else{r--;break}Yt(parseFloat(s),e,n);break;case'"':for(a="",u=void 0,d=0;_=t[r++],_!=='"'||u==="\\"&&d%2===1;)a+=_,u=_,u==="\\"?d++:d=0;Yt(JSON.parse('"'+a+'"'),e,n);break;case"[":c={element:[],index:e.length},e.push(c.element),n.push(c);break;case"{":v={element:{},index:e.length},e.push(v.element),n.push(v);break;default:throw new Error("unexpectedly reached end of input: "+i)}}};var Bh=qh;function qh(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}else return t.call(this,[])}}const pn=Ot(Bh);var ci={exports:{}};typeof Object.create=="function"?ci.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ci.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Uh=ci.exports;const at=Ot(Uh);var Wi={exports:{}},nn=typeof Reflect=="object"?Reflect:null,Ys=nn&&typeof nn.apply=="function"?nn.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Xn;nn&&typeof nn.ownKeys=="function"?Xn=nn.ownKeys:Object.getOwnPropertySymbols?Xn=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Xn=function(e){return Object.getOwnPropertyNames(e)};function Hh(t){console&&console.warn&&console.warn(t)}var Va=Number.isNaN||function(e){return e!==e};function ye(){ye.init.call(this)}Wi.exports=ye;Wi.exports.once=Vh;ye.EventEmitter=ye;ye.prototype._events=void 0;ye.prototype._eventsCount=0;ye.prototype._maxListeners=void 0;var Qs=10;function br(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ye,"defaultMaxListeners",{enumerable:!0,get:function(){return Qs},set:function(t){if(typeof t!="number"||t<0||Va(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Qs=t}});ye.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ye.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Va(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ka(t){return t._maxListeners===void 0?ye.defaultMaxListeners:t._maxListeners}ye.prototype.getMaxListeners=function(){return Ka(this)};ye.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")Ys(u,this,n);else for(var d=u.length,_=Xa(u,d),r=0;r<d;++r)Ys(_[r],this,n);return!0};function Ya(t,e,n,r){var i,s,o;if(br(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Ka(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Hh(a)}return t}ye.prototype.addListener=function(e,n){return Ya(this,e,n,!1)};ye.prototype.on=ye.prototype.addListener;ye.prototype.prependListener=function(e,n){return Ya(this,e,n,!0)};function Wh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Qa(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Wh.bind(r);return i.listener=n,r.wrapFn=i,i}ye.prototype.once=function(e,n){return br(n),this.on(e,Qa(this,e,n)),this};ye.prototype.prependOnceListener=function(e,n){return br(n),this.prependListener(e,Qa(this,e,n)),this};ye.prototype.removeListener=function(e,n){var r,i,s,o,a;if(br(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():Gh(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};ye.prototype.off=ye.prototype.removeListener;ye.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function Ja(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?zh(i):Xa(i,i.length)}ye.prototype.listeners=function(e){return Ja(this,e,!0)};ye.prototype.rawListeners=function(e){return Ja(this,e,!1)};ye.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Za.call(t,e)};ye.prototype.listenerCount=Za;function Za(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ye.prototype.eventNames=function(){return this._eventsCount>0?Xn(this._events):[]};function Xa(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Gh(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function zh(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Vh(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}eu(t,e,s,{once:!0}),e!=="error"&&Kh(t,i,{once:!0})})}function Kh(t,e,n){typeof t.on=="function"&&eu(t,"error",e,n)}function eu(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Yh=Wi.exports;const He=Ot(Yh);function Tr(t){return"$"+t}function tu(t){return t.substring(1)}function bt(){this._store={}}bt.prototype.get=function(t){var e=Tr(t);return this._store[e]};bt.prototype.set=function(t,e){var n=Tr(t);return this._store[n]=e,!0};bt.prototype.has=function(t){var e=Tr(t);return e in this._store};bt.prototype.keys=function(){return Object.keys(this._store).map(t=>tu(t))};bt.prototype.delete=function(t){var e=Tr(t),n=e in this._store;return delete this._store[e],n};bt.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var i=e[n],s=this._store[i];i=tu(i),t(s,i)}};Object.defineProperty(bt.prototype,"size",{get:function(){return Object.keys(this._store).length}});function jn(t){if(this._store=new bt,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}jn.prototype.add=function(t){return this._store.set(t,!0)};jn.prototype.has=function(t){return this._store.has(t)};jn.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})};Object.defineProperty(jn.prototype,"size",{get:function(){return this._store.size}});function Qh(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}var an,We;Qh()?(an=Set,We=Map):(an=jn,We=bt);function Jh(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer||typeof Blob<"u"&&t instanceof Blob}function Zh(t){if(typeof t.slice=="function")return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function Xh(t){if(t instanceof ArrayBuffer)return Zh(t);var e=t.size,n=t.type;return typeof t.slice=="function"?t.slice(0,e,n):t.webkitSlice(0,e,n)}var nu=Function.prototype.toString,ed=nu.call(Object);function td(t){var e=Object.getPrototypeOf(t);if(e===null)return!0;var n=e.constructor;return typeof n=="function"&&n instanceof n&&nu.call(n)==ed}function Ne(t){var e,n,r;if(!t||typeof t!="object")return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=Ne(t[n]);return e}if(t instanceof Date&&isFinite(t))return t.toISOString();if(Jh(t))return Xh(t);if(!td(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Ne(t[n]);typeof i<"u"&&(e[n]=i)}return e}function ru(t){var e=!1;return pn(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function iu(t){return pn(function(e){e=Ne(e);var n=this,r=typeof e[e.length-1]=="function"?e.pop():!1,i=new Promise(function(s,o){var a;try{var u=ru(function(d,_){d?o(d):s(_)});e.push(u),a=t.apply(n,e),a&&typeof a.then=="function"&&s(a)}catch(d){o(d)}});return r&&i.then(function(s){r(null,s)},r),i})}function nd(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],i=0;i<n.length-1;i++)r.push(n[i]);t.constructor.emit("debug",r);var s=n[n.length-1];n[n.length-1]=function(o,a){var u=["api",t.name,e];u=u.concat(o?["error",o]:["success",a]),t.constructor.emit("debug",u),s(o,a)}}}function Pe(t,e){return iu(pn(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return nd(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise(function(i,s){r.taskqueue.addTask(function(o){o?s(o):i(r[t].apply(r,n))})})}))}function Nn(t,e){for(var n={},r=0,i=e.length;r<i;r++){var s=e[r];s in t&&(n[s]=t[s])}return n}var rd=6;function Js(t){return t}function id(t){return[{ok:t}]}function su(t,e,n){var r=e.docs,i=new We;r.forEach(function(T){i.has(T.id)?i.get(T.id).push(T):i.set(T.id,[T])});var s=i.size,o=0,a=new Array(s);function u(){var T=[];a.forEach(function(y){y.docs.forEach(function(p){T.push({id:y.id,docs:[p]})})}),n(null,{results:T})}function d(){++o===s&&u()}function _(T,y,p){a[T]={id:y,docs:p},d()}var c=[];i.forEach(function(T,y){c.push(y)});var v=0;function m(){if(!(v>=c.length)){var T=Math.min(v+rd,c.length),y=c.slice(v,T);w(y,v),v+=y.length}}function w(T,y){T.forEach(function(p,h){var f=y+h,l=i.get(p),g=Nn(l[0],["atts_since","attachments"]);g.open_revs=l.map(function(O){return O.rev}),g.open_revs=g.open_revs.filter(Js);var b=Js;g.open_revs.length===0&&(delete g.open_revs,b=id),["revs","attachments","binary","ajax","latest"].forEach(function(O){O in e&&(g[O]=e[O])}),t.get(p,g,function(O,R){var $;O?$=[{error:O}]:$=b(R),_(f,p,$),m()})})}m()}var fi;try{localStorage.setItem("_pouch_check_localstorage",1),fi=!!localStorage.getItem("_pouch_check_localstorage")}catch{fi=!1}function Er(){return fi}at(vn,He);function sd(t){Er()&&addEventListener("storage",function(e){t.emit(e.key)})}function vn(){He.call(this),this._listeners={},sd(this)}vn.prototype.addListener=function(t,e,n,r){if(this._listeners[e])return;var i=this,s=!1;function o(){if(!i._listeners[e])return;if(s){s="waiting";return}s=!0;var a=Nn(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function u(){s=!1}n.changes(a).on("change",function(d){d.seq>r.since&&!r.cancelled&&(r.since=d.seq,r.onChange(d))}).on("complete",function(){s==="waiting"&&dt(o),s=!1}).on("error",u)}this._listeners[e]=o,this.on(t,o)};vn.prototype.removeListener=function(t,e){e in this._listeners&&(He.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])};vn.prototype.notifyLocalWindows=function(t){Er()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")};vn.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};function Ze(t){if(typeof console<"u"&&typeof console[t]=="function"){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function od(t,e){var n=6e5;t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e=e+1,e>n&&(t=n>>1,e=n);var r=Math.random(),i=e-t;return~~(i*r+t)}function ad(t){var e=0;return t||(e=2e3),od(t,e)}function li(t,e){Ze("info","The above "+t+" is totally normal. "+e)}var hi;typeof Object.assign=="function"?hi=Object.assign:hi=function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Mt=hi;at(be,Error);function be(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}be.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new be(401,"unauthorized","Name or password is incorrect.");var ud=new be(400,"bad_request","Missing JSON list of 'docs'"),st=new be(404,"not_found","missing"),un=new be(409,"conflict","Document update conflict"),ou=new be(400,"bad_request","_id field must contain a string"),cd=new be(412,"missing_id","_id is required for puts"),fd=new be(400,"bad_request","Only reserved document ids may start with underscore.");new be(412,"precondition_failed","Database not open");var au=new be(500,"unknown_error","Database encountered an unknown error"),uu=new be(500,"badarg","Some query argument is invalid");new be(400,"invalid_request","Request was invalid");var ld=new be(400,"query_parse_error","Some query parameter is invalid"),Zs=new be(500,"doc_validation","Bad special document member"),Ar=new be(400,"bad_request","Something wrong with the request"),Gi=new be(400,"bad_request","Document must be a JSON object");new be(404,"not_found","Database not found");var zi=new be(500,"indexed_db_went_bad","unknown");new be(500,"web_sql_went_bad","unknown");new be(500,"levelDB_went_went_bad","unknown");new be(403,"forbidden","Forbidden by design doc validate_doc_update function");var cu=new be(400,"bad_request","Invalid rev format");new be(412,"file_exists","The database could not be created, the file already exists.");var hd=new be(412,"missing_stub","A pre-existing attachment stub wasn't found");new be(413,"invalid_url","Provided URL is invalid");function ce(t,e){function n(r){for(var i=Object.getOwnPropertyNames(t),s=0,o=i.length;s<o;s++)typeof t[i[s]]!="function"&&(this[i[s]]=t[i[s]]);this.stack===void 0&&(this.stack=new Error().stack),r!==void 0&&(this.reason=r)}return n.prototype=be.prototype,new n(e)}function cn(t){if(typeof t!="object"){var e=t;t=au,t.data=e}return"error"in t&&t.error==="conflict"&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),"stack"in t||(t.stack=new Error().stack),t}function dd(t,e,n){try{return!t(e,n)}catch(i){var r="Filter function threw: "+i.toString();return ce(Ar,r)}}function Vi(t){var e={},n=t.filter&&typeof t.filter=="function";return e.query=t.query_params,function(i){i.doc||(i.doc={});var s=n&&dd(t.filter,i.doc,e);if(typeof s=="object")return s;if(s)return!1;if(!t.include_docs)delete i.doc;else if(!t.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0);return!0}}function fr(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function fu(t){var e;if(t?typeof t!="string"?e=ce(ou):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=ce(fd)):e=ce(cd),e)throw e}function pt(t){return typeof t._remote=="boolean"?t._remote:typeof t.type=="function"?(Ze("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),t.type()==="http"):!1}function pd(t,e){return"listenerCount"in t?t.listenerCount(e):He.listenerCount(t,e)}function di(t){if(!t)return null;var e=t.split("/");return e.length===2?e:e.length===1?[t,t]:null}function Xs(t){var e=di(t);return e?e.join("/"):null}var eo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],to="queryKey",vd=/(?:^|&)([^&=]*)=?([^&]*)/g,_d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function lu(t){for(var e=_d.exec(t),n={},r=14;r--;){var i=eo[r],s=e[r]||"",o=["user","password"].indexOf(i)!==-1;n[i]=o?decodeURIComponent(s):s}return n[to]={},n[eo[12]].replace(vd,function(a,u,d){u&&(n[to][u]=d)}),n}function Ki(t,e){var n=[],r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n.push(i),r.push(e[i]));return n.push(t),Function.apply(null,n).apply(null,r)}function Cr(t,e,n){return t.get(e).catch(function(r){if(r.status!==404)throw r;return{}}).then(function(r){var i=r._rev,s=n(r);return s?(s._id=e,s._rev=i,gd(t,s,n)):{updated:!1,rev:i}})}function gd(t,e,n){return t.put(e).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(r.status!==409)throw r;return Cr(t,e._id,n)})}var Yi=function(t){return atob(t)},Fn=function(t){return btoa(t)};function Qi(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(s){if(s.name!=="TypeError")throw s;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(e.type)}}function yd(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function Ji(t,e){return Qi([yd(t)],{type:e})}function Zi(t,e){return Ji(Yi(t),e)}function md(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}function hu(t,e){var n=new FileReader,r=typeof n.readAsBinaryString=="function";n.onloadend=function(i){var s=i.target.result||"";if(r)return e(s);e(md(s))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function du(t,e){hu(t,function(n){e(n)})}function Xi(t,e){du(t,function(n){e(Fn(n))})}function wd(t,e){var n=new FileReader;n.onloadend=function(r){var i=r.target.result||new ArrayBuffer(0);e(i)},n.readAsArrayBuffer(t)}var bd=self.setImmediate||self.setTimeout,Td=32768;function Ed(t){return Fn(t)}function Ad(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function Cd(t,e,n,r,i){(n>0||r<e.size)&&(e=Ad(e,n,r)),wd(e,function(s){t.append(s),i()})}function Sd(t,e,n,r,i){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),i()}function es(t,e){var n=typeof t=="string",r=n?t.length:t.size,i=Math.min(Td,r),s=Math.ceil(r/i),o=0,a=n?new ui:new ui.ArrayBuffer,u=n?Sd:Cd;function d(){bd(c)}function _(){var v=a.end(!0),m=Ed(v);e(m),a.destroy()}function c(){var v=o*i,m=v+i;o++,o<s?u(a,t,v,m,d):u(a,t,v,m,_)}c()}function pu(t){return ui.hash(t)}function vu(t,e){if(!e)return Ga().replace(/-/g,"").toLowerCase();var n=Mt({},t);return delete n._rev_tree,pu(JSON.stringify(n))}var Sr=Ga;function Lt(t){for(var e,n,r,i=t.rev_tree.slice(),s;s=i.pop();){var o=s.ids,a=o[2],u=s.pos;if(a.length){for(var d=0,_=a.length;d<_;d++)i.push({pos:u+1,ids:a[d]});continue}var c=!!o[1].deleted,v=o[0];(!e||(r!==c?r:n!==u?n<u:e<v))&&(e=v,n=u,r=c)}return n+"-"+e}function Wt(t,e){for(var n=t.slice(),r;r=n.pop();)for(var i=r.pos,s=r.ids,o=s[2],a=e(o.length===0,i,s[0],r.ctx,s[1]),u=0,d=o.length;u<d;u++)n.push({pos:i+1,ids:o[u],ctx:a})}function kd(t,e){return t.pos-e.pos}function ts(t){var e=[];Wt(t,function(i,s,o,a,u){i&&e.push({rev:s+"-"+o,pos:s,opts:u})}),e.sort(kd).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function ns(t){for(var e=Lt(t),n=ts(t.rev_tree),r=[],i=0,s=n.length;i<s;i++){var o=n[i];o.rev!==e&&!o.opts.deleted&&r.push(o.rev)}return r}function Od(t){var e=[];return Wt(t.rev_tree,function(n,r,i,s,o){o.status==="available"&&!n&&(e.push(r+"-"+i),o.status="missing")}),e}function _u(t){for(var e=[],n=t.slice(),r;r=n.pop();){var i=r.pos,s=r.ids,o=s[0],a=s[1],u=s[2],d=u.length===0,_=r.history?r.history.slice():[];_.push({id:o,opts:a}),d&&e.push({pos:i+1-_.length,ids:_});for(var c=0,v=u.length;c<v;c++)n.push({pos:i+1,ids:u[c],history:_})}return e.reverse()}function xd(t,e){return t.pos-e.pos}function Rd(t,e,n){for(var r=0,i=t.length,s;r<i;)s=r+i>>>1,n(t[s],e)<0?r=s+1:i=s;return r}function $d(t,e,n){var r=Rd(t,e,n);t.splice(r,0,e)}function no(t,e){for(var n,r,i=e,s=t.length;i<s;i++){var o=t[i],a=[o.id,o.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function Dd(t,e){return t[0]<e[0]?-1:1}function ro(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var i=n.pop(),s=i.tree1,o=i.tree2;(s[1].status||o[1].status)&&(s[1].status=s[1].status==="available"||o[1].status==="available"?"available":"missing");for(var a=0;a<o[2].length;a++){if(!s[2][0]){r="new_leaf",s[2][0]=o[2][a];continue}for(var u=!1,d=0;d<s[2].length;d++)s[2][d][0]===o[2][a][0]&&(n.push({tree1:s[2][d],tree2:o[2][a]}),u=!0);u||(r="new_branch",$d(s[2],o[2][a],Dd))}}return{conflicts:r,tree:t}}function gu(t,e,n){var r=[],i=!1,s=!1,o;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,u=t.length;a<u;a++){var d=t[a];if(d.pos===e.pos&&d.ids[0]===e.ids[0])o=ro(d.ids,e.ids),r.push({pos:d.pos,ids:o.tree}),i=i||o.conflicts,s=!0;else if(n!==!0){var _=d.pos<e.pos?d:e,c=d.pos<e.pos?e:d,v=c.pos-_.pos,m=[],w=[];for(w.push({ids:_.ids,diff:v,parent:null,parentIdx:null});w.length>0;){var T=w.pop();if(T.diff===0){T.ids[0]===c.ids[0]&&m.push(T);continue}for(var y=T.ids[2],p=0,h=y.length;p<h;p++)w.push({ids:y[p],diff:T.diff-1,parent:T.ids,parentIdx:p})}var f=m[0];f?(o=ro(f.ids,c.ids),f.parent[2][f.parentIdx]=o.tree,r.push({pos:_.pos,ids:_.ids}),i=i||o.conflicts,s=!0):r.push(d)}else r.push(d)}return s||r.push(e),r.sort(xd),{tree:r,conflicts:i||"internal_node"}}function Pd(t,e){for(var n=_u(t),r,i,s=0,o=n.length;s<o;s++){var a=n[s],u=a.ids,d;if(u.length>e){r||(r={});var _=u.length-e;d={pos:a.pos+_,ids:no(u,_)};for(var c=0;c<_;c++){var v=a.pos+c+"-"+u[c].id;r[v]=!0}}else d={pos:a.pos,ids:no(u,0)};i?i=gu(i,d,!0).tree:i=[d]}return r&&Wt(i,function(m,w,T){delete r[w+"-"+T]}),{tree:i,revs:r?Object.keys(r):[]}}function yu(t,e,n){var r=gu(t,e),i=Pd(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function jd(t,e){for(var n=t.slice(),r=e.split("-"),i=parseInt(r[0],10),s=r[1],o;o=n.pop();){if(o.pos===i&&o.ids[0]===s)return!0;for(var a=o.ids[2],u=0,d=a.length;u<d;u++)n.push({pos:o.pos+1,ids:a[u]})}return!1}function Nd(t){return t.ids}function mt(t,e){e||(e=Lt(t));for(var n=e.substring(e.indexOf("-")+1),r=t.rev_tree.map(Nd),i;i=r.pop();){if(i[0]===n)return!!i[1].deleted;r=r.concat(i[2])}}function It(t){return/^_local/.test(t)}function Fd(t,e){for(var n=e.rev_tree.slice(),r;r=n.pop();){var i=r.pos,s=r.ids,o=s[0],a=s[1],u=s[2],d=u.length===0,_=r.history?r.history.slice():[];if(_.push({id:o,pos:i,opts:a}),d)for(var c=0,v=_.length;c<v;c++){var m=_[c],w=m.pos+"-"+m.id;if(w===t)return i+"-"+o}for(var T=0,y=u.length;T<y;T++)n.push({pos:i+1,ids:u[T],history:_})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}at(Mn,He);function Md(t,e,n,r){try{t.emit("change",e,n,r)}catch(i){Ze("error",'Error in .on("change", function):',i)}}function Mn(t,e,n){He.call(this);var r=this;this.db=t,e=e?Ne(e):{};var i=e.complete=ru(function(a,u){a?pd(r,"error")>0&&r.emit("error",a):r.emit("complete",u),r.removeAllListeners(),t.removeListener("destroyed",s)});n&&(r.on("complete",function(a){n(null,a)}),r.on("error",n));function s(){r.cancel()}t.once("destroyed",s),e.onChange=function(a,u,d){r.isCancelled||Md(r,a,u,d)};var o=new Promise(function(a,u){e.complete=function(d,_){d?u(d):a(_)}});r.once("cancel",function(){t.removeListener("destroyed",s),e.complete(null,{status:"cancelled"})}),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then(function(a){i(null,a)},i),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask(function(a){a?e.complete(a):r.isCancelled?r.emit("cancel"):r.validateChanges(e)})}Mn.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function Ld(t,e,n){var r=[{rev:t._rev}];n.style==="all_docs"&&(r=ts(e.rev_tree).map(function(s){return{rev:s.rev}}));var i={id:e.id,changes:r,doc:t};return mt(e,t._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=ns(e),i.doc._conflicts.length||delete i.doc._conflicts),i}Mn.prototype.validateChanges=function(t){var e=t.complete,n=this;se._changesFilterPlugin?se._changesFilterPlugin.validate(t,function(r){if(r)return e(r);n.doChanges(t)}):n.doChanges(t)};Mn.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=Ne(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=Ld,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(function(s){if(e.isCancelled){n(null,{status:"cancelled"});return}t.since=s.update_seq,e.doChanges(t)},n);return}if(se._changesFilterPlugin){if(se._changesFilterPlugin.normalize(t),se._changesFilterPlugin.shouldFilter(this,t))return se._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(s){s in t&&Ze("warn",'The "'+s+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&typeof r.cancel=="function"){var i=e.cancel;e.cancel=pn(function(s){r.cancel(),i.apply(this,s)})}};function io(t,e){return t<e?-1:t>e?1:0}function rs(t,e){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=e,t(n)):t(null,r.length?r[0]:r)}}function Id(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var s=r[i];n._attachments[s]=Nn(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}function Bd(t,e){var n=io(t._id,e._id);if(n!==0)return n;var r=t._revisions?t._revisions.start:0,i=e._revisions?e._revisions.start:0;return io(r,i)}function qd(t){var e={},n=[];return Wt(t,function(r,i,s,o){var a=i+"-"+s;return r&&(e[a]=0),o!==void 0&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(r){e[r.from]===void 0?e[r.from]=1+e[r.to]:e[r.from]=Math.min(e[r.from],1+e[r.to])}),e}function Ud(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}function mu(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(n.last_seq=i.last_seq),t._compact(n,function(s,o){s?r(s):r(null,o),dt(function(){t._compactionQueue.shift(),t._compactionQueue.length&&mu(t)})})})}function Hd(t){return t.charAt(0)==="_"?t+" is not a valid attachment name, attachment names cannot start with '_'":!1}at(Ee,He);function Ee(){He.call(this);for(var t in Ee.prototype)typeof this[t]=="function"&&(this[t]=this[t].bind(this))}Ee.prototype.post=Pe("post",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),typeof t!="object"||Array.isArray(t))return n(ce(Gi));this.bulkDocs({docs:[t]},e,rs(n,t._id))});Ee.prototype.put=Pe("put",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),typeof t!="object"||Array.isArray(t))return n(ce(Gi));if(fu(t._id),It(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r=this;e.force&&t._rev?(i(),s(function(o){var a=o?null:{ok:!0,id:t._id,rev:t._rev};n(o,a)})):s(n);function i(){var o=t._rev.split("-"),a=o[1],u=parseInt(o[0],10),d=u+1,_=vu();t._revisions={start:d,ids:[_,a]},t._rev=d+"-"+_,e.new_edits=!1}function s(o){typeof r._put=="function"&&e.new_edits!==!1?r._put(t,e,o):r.bulkDocs({docs:[t]},e,rs(o,t._id))}});Ee.prototype.putAttachment=Pe("putAttachment",function(t,e,n,r,i){var s=this;typeof i=="function"&&(i=r,r=n,n=null),typeof i>"u"&&(i=r,r=n,n=null),i||Ze("warn","Attachment",e,"on document",t,"is missing content_type");function o(a){var u="_rev"in a?parseInt(a._rev,10):0;return a._attachments=a._attachments||{},a._attachments[e]={content_type:i,data:r,revpos:++u},s.put(a)}return s.get(t).then(function(a){if(a._rev!==n)throw ce(un);return o(a)},function(a){if(a.reason===st.message)return o({_id:t});throw a})});Ee.prototype.removeAttachment=Pe("removeAttachment",function(t,e,n,r){var i=this;i.get(t,function(s,o){if(s){r(s);return}if(o._rev!==n){r(ce(un));return}if(!o._attachments)return r();delete o._attachments[e],Object.keys(o._attachments).length===0&&delete o._attachments,i.put(o,r)})});Ee.prototype.remove=Pe("remove",function(t,e,n,r){var i;typeof e=="string"?(i={_id:t,_rev:e},typeof n=="function"&&(r=n,n={})):(i=t,typeof e=="function"?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var s={_id:i._id,_rev:i._rev||n.rev};if(s._deleted=!0,It(s._id)&&typeof this._removeLocal=="function")return this._removeLocal(i,r);this.bulkDocs({docs:[s]},n,rs(r,s._id))});Ee.prototype.revsDiff=Pe("revsDiff",function(t,e,n){typeof e=="function"&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var i=0,s=new We;function o(u,d){s.has(u)||s.set(u,{missing:[]}),s.get(u).missing.push(d)}function a(u,d){var _=t[u].slice(0);Wt(d,function(c,v,m,w,T){var y=v+"-"+m,p=_.indexOf(y);p!==-1&&(_.splice(p,1),T.status!=="available"&&o(u,y))}),_.forEach(function(c){o(u,c)})}r.map(function(u){this._getRevisionTree(u,function(d,_){if(d&&d.status===404&&d.message==="missing")s.set(u,{missing:t[u]});else{if(d)return n(d);a(u,_)}if(++i===r.length){var c={};return s.forEach(function(v,m){c[m]=v}),n(null,c)}})},this)});Ee.prototype.bulkGet=Pe("bulkGet",function(t,e){su(this,t,e)});Ee.prototype.compactDocument=Pe("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(i,s){if(i)return n(i);var o=qd(s),a=[],u=[];Object.keys(o).forEach(function(d){o[d]>e&&a.push(d)}),Wt(s,function(d,_,c,v,m){var w=_+"-"+c;m.status==="available"&&a.indexOf(w)!==-1&&u.push(w)}),r._doCompaction(t,u,n)})});Ee.prototype.compact=Pe("compact",function(t,e){typeof t=="function"&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),n._compactionQueue.length===1&&mu(n)});Ee.prototype._compact=function(t,e){var n=this,r={return_docs:!1,last_seq:t.last_seq||0},i=[];function s(a){i.push(n.compactDocument(a.id,0))}function o(a){var u=a.last_seq;Promise.all(i).then(function(){return Cr(n,"_local/compaction",function(_){return!_.last_seq||_.last_seq<u?(_.last_seq=u,_):!1})}).then(function(){e(null,{ok:!0})}).catch(e)}n.changes(r).on("change",s).on("complete",o).on("error",e)};Ee.prototype.get=Pe("get",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),typeof t!="string")return n(ce(ou));if(It(t)&&typeof this._getLocal=="function")return this._getLocal(t,n);var r=[],i=this;function s(){var u=[],d=r.length;if(!d)return n(null,u);r.forEach(function(_){i.get(t,{rev:_,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(c,v){if(c)u.push({missing:_});else{for(var m,w=0,T=u.length;w<T;w++)if(u[w].ok&&u[w].ok._rev===v._rev){m=!0;break}m||u.push({ok:v})}d--,d||n(null,u)})})}if(e.open_revs){if(e.open_revs==="all")this._getRevisionTree(t,function(u,d){if(u)return n(u);r=ts(d).map(function(_){return _.rev}),s()});else if(Array.isArray(e.open_revs)){r=e.open_revs;for(var o=0;o<r.length;o++){var a=r[o];if(!(typeof a=="string"&&/^\d+-/.test(a)))return n(ce(cu))}s()}else return n(ce(au,"function_clause"));return}return this._get(t,e,function(u,d){if(u)return u.docId=t,n(u);var _=d.doc,c=d.metadata,v=d.ctx;if(e.conflicts){var m=ns(c);m.length&&(_._conflicts=m)}if(mt(c,_._rev)&&(_._deleted=!0),e.revs||e.revs_info){for(var w=_._rev.split("-"),T=parseInt(w[0],10),y=w[1],p=_u(c.rev_tree),h=null,f=0;f<p.length;f++){var l=p[f],g=l.ids.map(function(U){return U.id}).indexOf(y),b=g===T-1;(b||!h&&g!==-1)&&(h=l)}if(!h)return u=new Error("invalid rev tree"),u.docId=t,n(u);var O=h.ids.map(function(U){return U.id}).indexOf(_._rev.split("-")[1])+1,R=h.ids.length-O;if(h.ids.splice(O,R),h.ids.reverse(),e.revs&&(_._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(U){return U.id})}),e.revs_info){var $=h.pos+h.ids.length;_._revs_info=h.ids.map(function(U){return $--,{rev:$+"-"+U.id,status:U.opts.status}})}}if(e.attachments&&_._attachments){var N=_._attachments,z=Object.keys(N).length;if(z===0)return n(null,_);Object.keys(N).forEach(function(U){this._getAttachment(_._id,U,N[U],{rev:_._rev,binary:e.binary,ctx:v},function(P,D){var F=_._attachments[U];F.data=D,delete F.stub,delete F.length,--z||n(null,_)})},i)}else{if(_._attachments)for(var K in _._attachments)Object.prototype.hasOwnProperty.call(_._attachments,K)&&(_._attachments[K].stub=!0);n(null,_)}})});Ee.prototype.getAttachment=Pe("getAttachment",function(t,e,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(s,o){if(s)return r(s);if(o.doc._attachments&&o.doc._attachments[e])n.ctx=o.ctx,n.binary=!0,i._getAttachment(t,e,o.doc._attachments[e],n,r);else return r(ce(st))})});Ee.prototype.allDocs=Pe("allDocs",function(t,e){if(typeof t=="function"&&(e=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(r){return r in t})[0];if(n){e(ce(ld,"Query parameter `"+n+"` is not compatible with multi-get"));return}if(!pt(this)&&(Ud(t),t.keys.length===0))return this._allDocs({limit:0},e)}return this._allDocs(t,e)});Ee.prototype.changes=function(t,e){return typeof t=="function"&&(e=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new Mn(this,t,e)};Ee.prototype.close=Pe("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)});Ee.prototype.info=Pe("info",function(t){var e=this;this._info(function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!!(e.auto_compaction&&!pt(e)),r.adapter=e.adapter,t(null,r)})});Ee.prototype.id=Pe("id",function(t){return this._id(t)});Ee.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter};Ee.prototype.bulkDocs=Pe("bulkDocs",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(ce(ud));for(var r=0;r<t.docs.length;++r)if(typeof t.docs[r]!="object"||Array.isArray(t.docs[r]))return n(ce(Gi));var i;if(t.docs.forEach(function(a){a._attachments&&Object.keys(a._attachments).forEach(function(u){i=i||Hd(u),a._attachments[u].content_type||Ze("warn","Attachment",u,"on document",a._id,"is missing content_type")})}),i)return n(ce(Ar,i));"new_edits"in e||("new_edits"in t?e.new_edits=t.new_edits:e.new_edits=!0);var s=this;!e.new_edits&&!pt(s)&&t.docs.sort(Bd),Id(t.docs);var o=t.docs.map(function(a){return a._id});return this._bulkDocs(t,e,function(a,u){if(a)return n(a);if(e.new_edits||(u=u.filter(function(c){return c.error})),!pt(s))for(var d=0,_=u.length;d<_;d++)u[d].id=u[d].id||o[d];n(null,u)})});Ee.prototype.registerDependentDatabase=Pe("registerDependentDatabase",function(t,e){var n=Ne(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var r=new this.constructor(t,n);function i(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[t]?!1:(s.dependentDbs[t]=!0,s)}Cr(this,"_local/_pouch_dependentDbs",i).then(function(){e(null,{db:r})}).catch(e)});Ee.prototype.destroy=Pe("destroy",function(t,e){typeof t=="function"&&(e=t,t={});var n=this,r="use_prefix"in n?n.use_prefix:!0;function i(){n._destroy(t,function(s,o){if(s)return e(s);n._destroyed=!0,n.emit("destroyed"),e(null,o||{ok:!0})})}if(pt(n))return i();n.get("_local/_pouch_dependentDbs",function(s,o){if(s)return s.status!==404?e(s):i();var a=o.dependentDbs,u=n.constructor,d=Object.keys(a).map(function(_){var c=r?_.replace(new RegExp("^"+u.prefix),""):_;return new u(c,n.__opts).destroy()});Promise.all(d).then(i,e)})});function Ln(){this.isReady=!1,this.failed=!1,this.queue=[]}Ln.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()};Ln.prototype.fail=function(t){this.failed=t,this.execute()};Ln.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()};Ln.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()};function Wd(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=se.adapters,i=se.preferredAdapters,s=se.prefix,o=e.adapter;if(!o)for(var a=0;a<i.length;++a){if(o=i[a],o==="idb"&&"websql"in r&&Er()&&localStorage["_pouch__websqldb_"+s+t]){Ze("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var u=r[o],d=u&&"use_prefix"in u?u.use_prefix:!0;return{name:d?s+t:t,adapter:o}}function Gd(t){function e(r){t.removeListener("closed",n),r||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}at(se,Ee);function se(t,e){if(!(this instanceof se))return new se(t,e);var n=this;if(e=e||{},t&&typeof t=="object"&&(e=t,t=e.name,delete e.name),e.deterministic_revs===void 0&&(e.deterministic_revs=!0),this.__opts=e=Ne(e),n.auto_compaction=e.auto_compaction,n.prefix=se.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+t,i=Wd(r,e);if(e.name=i.name,e.adapter=e.adapter||i.adapter,n.name=t,n._adapter=e.adapter,se.emit("debug",["adapter","Picked adapter: ",e.adapter]),!se.adapters[e.adapter]||!se.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);if(e.view_adapter&&(!se.adapters[e.view_adapter]||!se.adapters[e.view_adapter].valid()))throw new Error("Invalid View Adapter: "+e.view_adapter);Ee.call(n),n.taskqueue=new Ln,n.adapter=e.adapter,se.adapters[e.adapter].call(n,e,function(s){if(s)return n.taskqueue.fail(s);Gd(n),n.emit("created",n),se.emit("created",n.name),n.taskqueue.ready(n)})}var zd=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},wu=fetch,rn=Headers;se.adapters={};se.preferredAdapters=[];se.prefix="_pouch_";var so=new He;function Vd(t){Object.keys(He.prototype).forEach(function(n){typeof He.prototype[n]=="function"&&(t[n]=so[n].bind(so))});var e=t._destructionListeners=new We;t.on("ref",function(r){e.has(r.name)||e.set(r.name,[]),e.get(r.name).push(r)}),t.on("unref",function(r){if(e.has(r.name)){var i=e.get(r.name),s=i.indexOf(r);s<0||(i.splice(s,1),i.length>1?e.set(r.name,i):e.delete(r.name))}}),t.on("destroyed",function(r){if(e.has(r)){var i=e.get(r);e.delete(r),i.forEach(function(s){s.emit("destroyed",!0)})}})}Vd(se);se.adapter=function(t,e,n){e.valid()&&(se.adapters[t]=e,n&&se.preferredAdapters.push(t))};se.plugin=function(t){if(typeof t=="function")t(se);else{if(typeof t!="object"||Object.keys(t).length===0)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){se.prototype[e]=t[e]})}return this.__defaults&&(se.__defaults=Mt({},this.__defaults)),se};se.defaults=function(t){function e(n,r){if(!(this instanceof e))return new e(n,r);r=r||{},n&&typeof n=="object"&&(r=n,n=r.name,delete r.name),r=Mt({},e.__defaults,r),se.call(this,n,r)}return at(e,se),e.preferredAdapters=se.preferredAdapters.slice(),Object.keys(se).forEach(function(n){n in e||(e[n]=se[n])}),e.__defaults=Mt({},this.__defaults,t),e};se.fetch=function(t,e){return wu(t,e)};var Kd="7.3.1";function is(t,e){for(var n=t,r=0,i=e.length;r<i;r++){var s=e[r];if(n=n[s],!n)break}return n}function Yd(t,e){return t<e?-1:t>e?1:0}function ss(t){for(var e=[],n="",r=0,i=t.length;r<i;r++){var s=t[r];r>0&&t[r-1]==="\\"&&(s==="$"||s===".")?n=n.substring(0,n.length-1)+s:s==="."?(e.push(n),n=""):n+=s}return e.push(n),e}var Qd=["$or","$nor","$not"];function bu(t){return Qd.indexOf(t)>-1}function Tu(t){return Object.keys(t)[0]}function Jd(t){return t[Tu(t)]}function xn(t){var e={},n={$or:!0,$nor:!0};return t.forEach(function(r){Object.keys(r).forEach(function(i){var s=r[i];if(typeof s!="object"&&(s={$eq:s}),bu(i))if(s instanceof Array){if(n[i]){n[i]=!1,e[i]=s;return}var o=[];e[i].forEach(function(u){Object.keys(s).forEach(function(d){var _=s[d],c=Math.max(Object.keys(u).length,Object.keys(_).length),v=xn([u,_]);Object.keys(v).length<=c||o.push(v)})}),e[i]=o}else e[i]=xn([s]);else{var a=e[i]=e[i]||{};Object.keys(s).forEach(function(u){var d=s[u];if(u==="$gt"||u==="$gte")return Zd(u,d,a);if(u==="$lt"||u==="$lte")return Xd(u,d,a);if(u==="$ne")return ep(d,a);if(u==="$eq")return tp(d,a);if(u==="$regex")return np(d,a);a[u]=d})}})}),e}function Zd(t,e,n){typeof n.$eq<"u"||(typeof n.$gte<"u"?t==="$gte"?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):typeof n.$gt<"u"?t==="$gte"?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}function Xd(t,e,n){typeof n.$eq<"u"||(typeof n.$lte<"u"?t==="$lte"?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):typeof n.$lt<"u"?t==="$lte"?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}function ep(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function tp(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function np(t,e){"$regex"in e?e.$regex.push(t):e.$regex=[t]}function Eu(t){for(var e in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=xn(t[n].$and));var r=t[e];typeof r=="object"&&Eu(r)}return t}function Au(t,e){for(var n in t){n==="$and"&&(e=!0);var r=t[n];typeof r=="object"&&(e=Au(r,e))}return e}function rp(t){var e=Ne(t),n=!1;Au(e,!1)&&(e=Eu(e),"$and"in e&&(e=xn(e.$and)),n=!0),["$or","$nor"].forEach(function(a){a in e&&e[a].forEach(function(u){for(var d=Object.keys(u),_=0;_<d.length;_++){var c=d[_],v=u[c];(typeof v!="object"||v===null)&&(u[c]={$eq:v})}})}),"$not"in e&&(e.$not=xn([e.$not]));for(var r=Object.keys(e),i=0;i<r.length;i++){var s=r[i],o=e[s];typeof o!="object"||o===null?o={$eq:o}:n||("$ne"in o&&(o.$ne=[o.$ne]),"$regex"in o&&(o.$regex=[o.$regex])),e[s]=o}return e}function ip(t,e,n){for(var r="",i=n-t.length;r.length<i;)r+=e;return r}function sp(t,e,n){var r=ip(t,e,n);return r+t}var Cu=-324,pi=3,vi="";function xe(t,e){if(t===e)return 0;t=Bt(t),e=Bt(e);var n=_i(t),r=_i(e);if(n-r!==0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return lp(t,e)}return Array.isArray(t)?fp(t,e):hp(t,e)}function Bt(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=Bt(e[r])}else{if(t instanceof Date)return t.toJSON();if(t!==null){t={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s<"u"&&(t[i]=Bt(s))}}}}return t}function op(t){if(t!==null)switch(typeof t){case"boolean":return t?1:0;case"number":return dp(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,i=n.length,s="";if(e)for(;++r<i;)s+=nt(n[r]);else for(;++r<i;){var o=n[r];s+=nt(o)+nt(t[o])}return s}return""}function nt(t){var e="\0";return t=Bt(t),_i(t)+vi+op(t)+e}function ap(t,e){var n=e,r,i=t[e]==="1";if(i)r=0,e++;else{var s=t[e]==="0";e++;var o="",a=t.substring(e,e+pi),u=parseInt(a,10)+Cu;for(s&&(u=-u),e+=pi;;){var d=t[e];if(d==="\0")break;o+=d,e++}o=o.split("."),o.length===1?r=parseInt(o,10):r=parseFloat(o[0]+"."+o[1]),s&&(r=r-10),u!==0&&(r=parseFloat(r+"e"+u))}return{num:r,length:e-n}}function up(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,s=r.index;if(Array.isArray(i))i.push(n);else if(s===t.length-2){var o=t.pop();i[o]=n}else t.push(n)}}function cp(t){for(var e=[],n=[],r=0;;){var i=t[r++];if(i==="\0"){if(e.length===1)return e.pop();up(e,n);continue}switch(i){case"1":e.push(null);break;case"2":e.push(t[r]==="1"),r++;break;case"3":var s=ap(t,r);e.push(s.num),r+=s.length;break;case"4":for(var o="";;){var a=t[r];if(a==="\0")break;o+=a,r++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(o);break;case"5":var u={element:[],index:e.length};e.push(u.element),n.push(u);break;case"6":var d={element:{},index:e.length};e.push(d.element),n.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function fp(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=xe(t[r],e[r]);if(i!==0)return i}return t.length===e.length?0:t.length>e.length?1:-1}function lp(t,e){return t===e?0:t>e?1:-1}function hp(t,e){for(var n=Object.keys(t),r=Object.keys(e),i=Math.min(n.length,r.length),s=0;s<i;s++){var o=xe(n[s],r[s]);if(o!==0||(o=xe(t[n[s]],e[r[s]]),o!==0))return o}return n.length===r.length?0:n.length>r.length?1:-1}function _i(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);if(~n)return t===null?1:Array.isArray(t)?5:n<3?n+2:n+3;if(Array.isArray(t))return 5}function dp(t){if(t===0)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,i=r?"0":"2",s=(r?-n:n)-Cu,o=sp(s.toString(),"0",pi);i+=vi+o;var a=Math.abs(parseFloat(e[0]));r&&(a=10-a);var u=a.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=vi+u,i}function pp(t){function e(n){return t.map(function(r){var i=Tu(r),s=ss(i),o=is(n,s);return o})}return function(n,r){var i=e(n.doc),s=e(r.doc),o=xe(i,s);return o!==0?o:Yd(n.doc._id,r.doc._id)}}function vp(t,e,n){if(t=t.filter(function(o){return sn(o.doc,e.selector,n)}),e.sort){var r=pp(e.sort);t=t.sort(r),typeof e.sort[0]!="string"&&Jd(e.sort[0])==="desc"&&(t=t.reverse())}if("limit"in e||"skip"in e){var i=e.skip||0,s=("limit"in e?e.limit:t.length)+i;t=t.slice(i,s)}return t}function sn(t,e,n){return n.every(function(r){var i=e[r],s=ss(r),o=is(t,s);return bu(r)?_p(r,i,t):lr(i,t,s,o)})}function lr(t,e,n,r){return t?typeof t=="object"?Object.keys(t).every(function(i){var s=t[i];if(i.indexOf("$")===0)return oo(i,e,s,n,r);var o=ss(i);if(r===void 0&&typeof s!="object"&&o.length>0)return!1;var a=is(r,o);return typeof s=="object"?lr(s,e,n,a):oo("$eq",e,s,o,a)}):t===r:!0}function _p(t,e,n){return t==="$or"?e.some(function(r){return sn(n,r,Object.keys(r))}):t==="$not"?!sn(n,e,Object.keys(e)):!e.find(function(r){return sn(n,r,Object.keys(r))})}function oo(t,e,n,r,i){if(!uo[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return uo[t](e,n,r,i)}function wn(t){return typeof t<"u"&&t!==null}function $t(t){return typeof t<"u"}function gp(t,e){if(typeof t!="number"||parseInt(t,10)!==t)return!1;var n=e[0],r=e[1];return t%n===r}function ao(t,e){return e.some(function(n){return t instanceof Array?t.some(function(r){return xe(n,r)===0}):xe(n,t)===0})}function yp(t,e){return e.every(function(n){return t.some(function(r){return xe(n,r)===0})})}function mp(t,e){return t.length===e}function wp(t,e){var n=new RegExp(e);return n.test(t)}function bp(t,e){switch(e){case"null":return t===null;case"boolean":return typeof t=="boolean";case"number":return typeof t=="number";case"string":return typeof t=="string";case"array":return t instanceof Array;case"object":return{}.toString.call(t)==="[object Object]"}}var uo={$elemMatch:function(t,e,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.some(function(i){return sn(i,e,Object.keys(e))}):r.some(function(i){return lr(e,t,n,i)})},$allMatch:function(t,e,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"&&r[0]!==null?r.every(function(i){return sn(i,e,Object.keys(e))}):r.every(function(i){return lr(e,t,n,i)})},$eq:function(t,e,n,r){return $t(r)&&xe(r,e)===0},$gte:function(t,e,n,r){return $t(r)&&xe(r,e)>=0},$gt:function(t,e,n,r){return $t(r)&&xe(r,e)>0},$lte:function(t,e,n,r){return $t(r)&&xe(r,e)<=0},$lt:function(t,e,n,r){return $t(r)&&xe(r,e)<0},$exists:function(t,e,n,r){return e?$t(r):!$t(r)},$mod:function(t,e,n,r){return wn(r)&&gp(r,e)},$ne:function(t,e,n,r){return e.every(function(i){return xe(r,i)!==0})},$in:function(t,e,n,r){return wn(r)&&ao(r,e)},$nin:function(t,e,n,r){return wn(r)&&!ao(r,e)},$size:function(t,e,n,r){return wn(r)&&Array.isArray(r)&&mp(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&yp(r,e)},$regex:function(t,e,n,r){return wn(r)&&typeof r=="string"&&e.every(function(i){return wp(r,i)})},$type:function(t,e,n,r){return bp(r,e)}};function Tp(t,e){if(typeof e!="object")throw new Error("Selector error: expected a JSON object");e=rp(e);var n={doc:t},r=vp([n],{selector:e},Object.keys(e));return r&&r.length===1}function Ep(t){return Ki(`"use strict";
return `+t+";",{})}function Ap(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return Ki(e,{})}function Cp(t,e){if(t.selector&&t.filter&&t.filter!=="_selector"){var n=typeof t.filter=="string"?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function Sp(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&typeof t.filter=="string"&&(t.filter==="_view"?t.view=Xs(t.view):t.filter=Xs(t.filter))}function kp(t,e){return e.filter&&typeof e.filter=="string"&&!e.doc_ids&&!pt(t.db)}function Op(t,e){var n=e.complete;if(e.filter==="_view"){if(!e.view||typeof e.view!="string"){var r=ce(Ar,"`view` filter parameter not found or invalid.");return n(r)}var i=di(e.view);t.db.get("_design/"+i[0],function(o,a){if(t.isCancelled)return n(null,{status:"cancelled"});if(o)return n(cn(o));var u=a&&a.views&&a.views[i[1]]&&a.views[i[1]].map;if(!u)return n(ce(st,a.views?"missing json key: "+i[1]:"missing json key: views"));e.filter=Ap(u),t.doChanges(e)})}else if(e.selector)e.filter=function(o){return Tp(o,e.selector)},t.doChanges(e);else{var s=di(e.filter);t.db.get("_design/"+s[0],function(o,a){if(t.isCancelled)return n(null,{status:"cancelled"});if(o)return n(cn(o));var u=a&&a.filters&&a.filters[s[1]];if(!u)return n(ce(st,a&&a.filters?"missing json key: "+s[1]:"missing json key: filters"));e.filter=Ep(u),t.doChanges(e)})}}function xp(t){t._changesFilterPlugin={validate:Cp,normalize:Sp,shouldFilter:kp,filter:Op}}se.plugin(xp);se.version=Kd;function Su(t){return t.reduce(function(e,n){return e[n]=!0,e},{})}var Rp=Su(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),$p=Su(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function co(t){if(!/^\d+-/.test(t))return ce(cu);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function Dp(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,i=[r[0],e,[]],s=1,o=r.length;s<o;s++)i=[r[s],{status:"missing"},[i]];return[{pos:n,ids:i}]}function ku(t,e,n){n||(n={deterministic_revs:!0});var r,i,s,o={status:"available"};if(t._deleted&&(o.deleted=!0),e)if(t._id||(t._id=Sr()),i=vu(t,n.deterministic_revs),t._rev){if(s=co(t._rev),s.error)return s;t._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[i,o,[]]]]}],r=s.prefix+1}else t._rev_tree=[{pos:1,ids:[i,o,[]]}],r=1;else if(t._revisions&&(t._rev_tree=Dp(t._revisions,o),r=t._revisions.start,i=t._revisions.ids[0]),!t._rev_tree){if(s=co(t._rev),s.error)return s;r=s.prefix,i=s.id,t._rev_tree=[{pos:r,ids:[i,o,[]]}]}fu(t._id),t._rev=r+"-"+i;var a={metadata:{},data:{}};for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var d=u[0]==="_";if(d&&!Rp[u]){var _=ce(Zs,u);throw _.message=Zs.message+": "+u,_}else d&&!$p[u]?a.metadata[u.slice(1)]=t[u]:a.data[u]=t[u]}return a}function Pp(t){try{return Yi(t)}catch{var e=ce(uu,"Attachment is not a valid base64 string");return{error:e}}}function jp(t,e,n){var r=Pp(t.data);if(r.error)return n(r.error);t.length=r.length,e==="blob"?t.data=Ji(r,t.content_type):e==="base64"?t.data=Fn(r):t.data=r,es(r,function(i){t.digest="md5-"+i,n()})}function Np(t,e,n){es(t.data,function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,e==="binary"?du(t.data,function(i){t.data=i,n()}):e==="base64"?Xi(t.data,function(i){t.data=i,n()}):n()})}function Fp(t,e,n){if(t.stub)return n();typeof t.data=="string"?jp(t,e,n):Np(t,e,n)}function Mp(t,e,n){if(!t.length)return n();var r=0,i;t.forEach(function(o){var a=o.data&&o.data._attachments?Object.keys(o.data._attachments):[],u=0;if(!a.length)return s();function d(c){i=c,u++,u===a.length&&s()}for(var _ in o.data._attachments)Object.prototype.hasOwnProperty.call(o.data._attachments,_)&&Fp(o.data._attachments[_],e,d)});function s(){r++,t.length===r&&(i?n(i):n())}}function Lp(t,e,n,r,i,s,o,a){if(jd(e.rev_tree,n.metadata.rev)&&!a)return r[i]=n,s();var u=e.winningRev||Lt(e),d="deleted"in e?e.deleted:mt(e,u),_="deleted"in n.metadata?n.metadata.deleted:mt(n.metadata),c=/^1-/.test(n.metadata.rev);if(d&&!_&&a&&c){var v=n.data;v._rev=u,v._id=n.metadata.id,n=ku(v,a)}var m=yu(e.rev_tree,n.metadata.rev_tree[0],t),w=a&&(d&&_&&m.conflicts!=="new_leaf"||!d&&m.conflicts!=="new_leaf"||d&&!_&&m.conflicts==="new_branch");if(w){var T=ce(un);return r[i]=T,s()}var y=n.metadata.rev;n.metadata.rev_tree=m.tree,n.stemmedRevs=m.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var p=Lt(n.metadata),h=mt(n.metadata,p),f=d===h?0:d<h?-1:1,l;y===p?l=h:l=mt(n.metadata,y),o(n,p,h,l,!0,f,i,s)}function Ip(t){return t.metadata.rev_tree[0].ids[1].status==="missing"}function Bp(t,e,n,r,i,s,o,a,u){t=t||1e3;function d(T,y,p){var h=Lt(T.metadata),f=mt(T.metadata,h);if("was_delete"in a&&f)return s[y]=ce(st,"deleted"),p();var l=_&&Ip(T);if(l){var g=ce(un);return s[y]=g,p()}var b=f?0:1;o(T,h,f,f,!1,b,y,p)}var _=a.new_edits,c=new We,v=0,m=e.length;function w(){++v===m&&u&&u()}e.forEach(function(T,y){if(T._id&&It(T._id)){var p=T._deleted?"_removeLocal":"_putLocal";n[p](T,{ctx:i},function(f,l){s[y]=f||l,w()});return}var h=T.metadata.id;c.has(h)?(m--,c.get(h).push([T,y])):c.set(h,[[T,y]])}),c.forEach(function(T,y){var p=0;function h(){++p<T.length?f():w()}function f(){var l=T[p],g=l[0],b=l[1];if(r.has(y))Lp(t,r.get(y),g,s,b,h,o,_);else{var O=yu([],g.metadata.rev_tree[0],t);g.metadata.rev_tree=O.tree,g.stemmedRevs=O.stemmedRevs||[],d(g,b,h)}}f()})}var qp=5,$e="document-store",Ie="by-sequence",Qe="attach-store",Nt="attach-seq-store",Be="meta-store",ut="local-store",gi="detect-blob-support";function Up(t){try{return JSON.parse(t)}catch{return wr.parse(t)}}function Hp(t){try{return JSON.stringify(t)}catch{return wr.stringify(t)}}function ft(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(ce(zi,n,e.type))}}function yi(t,e,n){return{data:Hp(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function Ft(t){if(!t)return null;var e=Up(t.data);return e.winningRev=t.winningRev,e.deleted=t.deletedOrLocal==="1",e.seq=t.seq,e}function hr(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function Ou(t,e,n,r){n?r(t?typeof t!="string"?t:Zi(t,e):Qi([""],{type:e})):t?typeof t!="string"?hu(t,function(i){r(Fn(i))}):r(t):r("")}function xu(t,e,n,r){var i=Object.keys(t._attachments||{});if(!i.length)return r&&r();var s=0;function o(){++s===i.length&&r&&r()}function a(u,d){var _=u._attachments[d],c=_.digest,v=n.objectStore(Qe).get(c);v.onsuccess=function(m){_.body=m.target.result.body,o()}}i.forEach(function(u){e.attachments&&e.include_docs?a(t,u):(t._attachments[u].stub=!0,o())})}function mi(t,e){return Promise.all(t.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(i){var s=n.doc._attachments[i];if("body"in s){var o=s.body,a=s.content_type;return new Promise(function(u){Ou(o,a,e,function(d){n.doc._attachments[i]=Mt(Nn(s,["digest","content_type"]),{data:d}),u()})})}}))}}))}function Ru(t,e,n){var r=[],i=n.objectStore(Ie),s=n.objectStore(Qe),o=n.objectStore(Nt),a=t.length;function u(){a--,a||d()}function d(){r.length&&r.forEach(function(_){var c=o.index("digestSeq").count(IDBKeyRange.bound(_+"::",_+"::￿",!1,!1));c.onsuccess=function(v){var m=v.target.result;m||s.delete(_)}})}t.forEach(function(_){var c=i.index("_doc_id_rev"),v=e+"::"+_;c.getKey(v).onsuccess=function(m){var w=m.target.result;if(typeof w!="number")return u();i.delete(w);var T=o.index("seq").openCursor(IDBKeyRange.only(w));T.onsuccess=function(y){var p=y.target.result;if(p){var h=p.value.digestSeq.split("::")[0];r.push(h),o.delete(p.primaryKey),p.continue()}else u()}}})}function rt(t,e,n){try{return{txn:t.transaction(e,n)}}catch(r){return{error:r}}}var Cn=new vn;function Wp(t,e,n,r,i,s){for(var o=e.docs,a,u,d,_,c,v,m,w,T=0,y=o.length;T<y;T++){var p=o[T];p._id&&It(p._id)||(p=o[T]=ku(p,n.new_edits,t),p.error&&!m&&(m=p))}if(m)return s(m);var h=!1,f=0,l=new Array(o.length),g=new We,b=!1,O=r._meta.blobSupport?"blob":"base64";Mp(o,O,function(I){if(I)return s(I);R()});function R(){var I=[$e,Ie,Qe,ut,Nt,Be],q=rt(i,I,"readwrite");if(q.error)return s(q.error);a=q.txn,a.onabort=ft(s),a.ontimeout=ft(s),a.oncomplete=U,u=a.objectStore($e),d=a.objectStore(Ie),_=a.objectStore(Qe),c=a.objectStore(Nt),v=a.objectStore(Be),v.get(Be).onsuccess=function(A){w=A.target.result,z()},D(function(A){if(A)return b=!0,s(A);K()})}function $(){h=!0,z()}function N(){Bp(t.revs_limit,o,r,g,a,l,F,n,$)}function z(){!w||!h||(w.docCount+=f,v.put(w))}function K(){if(!o.length)return;var I=0;function q(){++I===o.length&&N()}function A(E){var j=Ft(E.target.result);j&&g.set(j.id,j),q()}for(var G=0,Y=o.length;G<Y;G++){var Z=o[G];if(Z._id&&It(Z._id)){q();continue}var S=u.get(Z.metadata.id);S.onsuccess=A}}function U(){b||(Cn.notify(r._meta.name),s(null,l))}function P(I,q){var A=_.get(I);A.onsuccess=function(G){if(G.target.result)q();else{var Y=ce(hd,"unknown stub attachment with digest "+I);Y.status=412,q(Y)}}}function D(I){var q=[];if(o.forEach(function(Z){Z.data&&Z.data._attachments&&Object.keys(Z.data._attachments).forEach(function(S){var E=Z.data._attachments[S];E.stub&&q.push(E.digest)})}),!q.length)return I();var A=0,G;function Y(){++A===q.length&&I(G)}q.forEach(function(Z){P(Z,function(S){S&&!G&&(G=S),Y()})})}function F(I,q,A,G,Y,Z,S,E){I.metadata.winningRev=q,I.metadata.deleted=A;var j=I.data;j._id=I.metadata.id,j._rev=I.metadata.rev,G&&(j._deleted=!0);var H=j._attachments&&Object.keys(j._attachments).length;if(H)return k(I,q,A,Y,S,E);f+=Z,z(),C(I,q,A,Y,S,E)}function C(I,q,A,G,Y,Z){var S=I.data,E=I.metadata;S._doc_id_rev=E.id+"::"+E.rev,delete S._id,delete S._rev;function j(X){var te=I.stemmedRevs||[];G&&r.auto_compaction&&(te=te.concat(Od(I.metadata))),te&&te.length&&Ru(te,I.metadata.id,a),E.seq=X.target.result;var oe=yi(E,q,A),ve=u.put(oe);ve.onsuccess=V}function H(X){X.preventDefault(),X.stopPropagation();var te=d.index("_doc_id_rev"),oe=te.getKey(S._doc_id_rev);oe.onsuccess=function(ve){var he=d.put(S,ve.target.result);he.onsuccess=j}}function V(){l[Y]={ok:!0,id:E.id,rev:E.rev},g.set(I.metadata.id,I.metadata),x(I,E.seq,Z)}var W=d.put(S);W.onsuccess=j,W.onerror=H}function k(I,q,A,G,Y,Z){var S=I.data,E=0,j=Object.keys(S._attachments);function H(){E===j.length&&C(I,q,A,G,Y,Z)}function V(){E++,H()}j.forEach(function(W){var X=I.data._attachments[W];if(X.stub)E++,H();else{var te=X.data;delete X.data,X.revpos=parseInt(q,10);var oe=X.digest;L(oe,te,V)}})}function x(I,q,A){var G=0,Y=Object.keys(I.data._attachments||{});if(!Y.length)return A();function Z(){++G===Y.length&&A()}function S(j){var H=I.data._attachments[j].digest,V=c.put({seq:q,digestSeq:H+"::"+q});V.onsuccess=Z,V.onerror=function(W){W.preventDefault(),W.stopPropagation(),Z()}}for(var E=0;E<Y.length;E++)S(Y[E])}function L(I,q,A){var G=_.count(I);G.onsuccess=function(Y){var Z=Y.target.result;if(Z)return A();var S={digest:I,body:q},E=_.put(S);E.onsuccess=A}}}function $u(t,e,n,r,i){r===-1&&(r=1e3);var s=typeof t.getAll=="function"&&typeof t.getAllKeys=="function"&&r>1&&!n,o,a,u;function d(m){a=m.target.result,o&&i(o,a,u)}function _(m){o=m.target.result,a&&i(o,a,u)}function c(){if(!o.length)return i();var m=o[o.length-1],w;if(e&&e.upper)try{w=IDBKeyRange.bound(m,e.upper,!0,e.upperOpen)}catch(T){if(T.name==="DataError"&&T.code===0)return i()}else w=IDBKeyRange.lowerBound(m,!0);e=w,o=null,a=null,t.getAll(e,r).onsuccess=d,t.getAllKeys(e,r).onsuccess=_}function v(m){var w=m.target.result;if(!w)return i();i([w.key],[w.value],w)}s?(u={continue:c},t.getAll(e,r).onsuccess=d,t.getAllKeys(e,r).onsuccess=_):n?t.openCursor(e,"prev").onsuccess=v:t.openCursor(e).onsuccess=v}function Gp(t,e,n){if(typeof t.getAll=="function"){t.getAll(e).onsuccess=n;return}var r=[];function i(s){var o=s.target.result;o?(r.push(o.value),o.continue()):n({target:{result:r}})}t.openCursor(e).onsuccess=i}function zp(t,e,n){var r=new Array(t.length),i=0;t.forEach(function(s,o){e.get(s).onsuccess=function(a){a.target.result?r[o]=a.target.result:r[o]={key:s,error:"not_found"},i++,i===t.length&&n(t,r,{})}})}function Vp(t,e,n,r,i){try{if(t&&e)return i?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return i?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return i?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(s){return{error:s}}return null}function Kp(t,e,n){var r="startkey"in t?t.startkey:!1,i="endkey"in t?t.endkey:!1,s="key"in t?t.key:!1,o="keys"in t?t.keys:!1,a=t.skip||0,u=typeof t.limit=="number"?t.limit:-1,d=t.inclusive_end!==!1,_,c;if(!o&&(_=Vp(r,i,d,s,t.descending),c=_&&_.error,c&&!(c.name==="DataError"&&c.code===0)))return n(ce(zi,c.name,c.message));var v=[$e,Ie,Be];t.attachments&&v.push(Qe);var m=rt(e,v,"readonly");if(m.error)return n(m.error);var w=m.txn;w.oncomplete=U,w.onabort=ft(n);var T=w.objectStore($e),y=w.objectStore(Ie),p=w.objectStore(Be),h=y.index("_doc_id_rev"),f=[],l,g;p.get(Be).onsuccess=function(P){l=P.target.result.docCount},t.update_seq&&b(y,function(P){P.target.result&&P.target.result.length>0&&(g=P.target.result[0])});function b(P,D){function F(C){var k=C.target.result,x=void 0;return k&&k.key&&(x=k.key),D({target:{result:[x]}})}P.openCursor(null,"prev").onsuccess=F}function O(P,D,F){var C=P.id+"::"+F;h.get(C).onsuccess=function(x){if(D.doc=hr(x.target.result)||{},t.conflicts){var L=ns(P);L.length&&(D.doc._conflicts=L)}xu(D.doc,t,w)}}function R(P,D){var F={id:D.id,key:D.id,value:{rev:P}},C=D.deleted;C?o&&(f.push(F),F.value.deleted=!0,F.doc=null):a--<=0&&(f.push(F),t.include_docs&&O(D,F,P))}function $(P){for(var D=0,F=P.length;D<F&&f.length!==u;D++){var C=P[D];if(C.error&&o){f.push(C);continue}var k=Ft(C),x=k.winningRev;R(x,k)}}function N(P,D,F){F&&($(D),f.length<u&&F.continue())}function z(P){var D=P.target.result;t.descending&&(D=D.reverse()),$(D)}function K(){var P={total_rows:l,offset:t.skip,rows:f};t.update_seq&&g!==void 0&&(P.update_seq=g),n(null,P)}function U(){t.attachments?mi(f,t.binary).then(K):K()}if(!(c||u===0)){if(o)return zp(t.keys,T,N);if(u===-1)return Gp(T,_,z);$u(T,_,t.descending,u+a,N)}}function Yp(t){return new Promise(function(e){var n=Qi([""]),r=t.objectStore(gi).put(n,"key");r.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);e(s||!i||parseInt(i[1],10)>=43)},r.onerror=t.onabort=function(i){i.preventDefault(),i.stopPropagation(),e(!1)}}).catch(function(){return!1})}function Qp(t,e){var n=t.objectStore($e).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(r){e(r.target.result)}}var wi=!1,bi=[];function Jp(t,e,n,r){try{t(e,n)}catch(i){r.emit("error",i)}}function fo(){wi||!bi.length||(wi=!0,bi.shift()())}function Zp(t,e,n){bi.push(function(){t(function(s,o){Jp(e,s,o,n),wi=!1,dt(function(){fo()})})}),fo()}function Xp(t,e,n,r){if(t=Ne(t),t.continuous){var i=n+":"+Sr();return Cn.addListener(n,i,e,t),Cn.notify(n),{cancel:function(){Cn.removeListener(n,i)}}}var s=t.doc_ids&&new an(t.doc_ids);t.since=t.since||0;var o=t.since,a="limit"in t?t.limit:-1;a===0&&(a=1);var u=[],d=0,_=Vi(t),c=new We,v,m,w,T;function y(R,$,N){if(!N||!R.length)return;var z=new Array(R.length),K=new Array(R.length);function U(F,C){var k=t.processChange(C,F,t);o=k.seq=F.seq;var x=_(k);return typeof x=="object"?Promise.reject(x):x?(d++,t.return_docs&&u.push(k),t.attachments&&t.include_docs?new Promise(function(L){xu(C,t,v,function(){mi([k],t.binary).then(function(){L(k)})})}):Promise.resolve(k)):Promise.resolve()}function P(){for(var F=[],C=0,k=z.length;C<k&&d!==a;C++){var x=z[C];if(x){var L=K[C];F.push(U(L,x))}}Promise.all(F).then(function(I){for(var q=0,A=I.length;q<A;q++)I[q]&&t.onChange(I[q])}).catch(t.complete),d!==a&&N.continue()}var D=0;$.forEach(function(F,C){var k=hr(F),x=R[C];h(k,x,function(L,I){K[C]=L,z[C]=I,++D===R.length&&P()})})}function p(R,$,N,z){if(N.seq!==$)return z();if(N.winningRev===R._rev)return z(N,R);var K=R._id+"::"+N.winningRev,U=T.get(K);U.onsuccess=function(P){z(N,hr(P.target.result))}}function h(R,$,N){if(s&&!s.has(R._id))return N();var z=c.get(R._id);if(z)return p(R,$,z,N);w.get(R._id).onsuccess=function(K){z=Ft(K.target.result),c.set(R._id,z),p(R,$,z,N)}}function f(){t.complete(null,{results:u,last_seq:o})}function l(){!t.continuous&&t.attachments?mi(u).then(f):f()}var g=[$e,Ie];t.attachments&&g.push(Qe);var b=rt(r,g,"readonly");if(b.error)return t.complete(b.error);v=b.txn,v.onabort=ft(t.complete),v.oncomplete=l,m=v.objectStore(Ie),w=v.objectStore($e),T=m.index("_doc_id_rev");var O=t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null;$u(m,O,t.descending,a,y)}var Qt=new We,Ir,Br=new We;function Du(t,e){var n=this;Zp(function(r){ev(n,t,r)},e,n.constructor)}function ev(t,e,n){var r=e.name,i=null,s=null;t._meta=null;function o(y){return function(p,h){p&&p instanceof Error&&!p.reason&&s&&(p.reason=s),y(p,h)}}function a(y){var p=y.createObjectStore($e,{keyPath:"id"});y.createObjectStore(Ie,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),y.createObjectStore(Qe,{keyPath:"digest"}),y.createObjectStore(Be,{keyPath:"id",autoIncrement:!1}),y.createObjectStore(gi),p.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),y.createObjectStore(ut,{keyPath:"_id"});var h=y.createObjectStore(Nt,{autoIncrement:!0});h.createIndex("seq","seq"),h.createIndex("digestSeq","digestSeq",{unique:!0})}function u(y,p){var h=y.objectStore($e);h.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),h.openCursor().onsuccess=function(f){var l=f.target.result;if(l){var g=l.value,b=mt(g);g.deletedOrLocal=b?"1":"0",h.put(g),l.continue()}else p()}}function d(y){y.createObjectStore(ut,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function _(y,p){var h=y.objectStore(ut),f=y.objectStore($e),l=y.objectStore(Ie),g=f.openCursor();g.onsuccess=function(b){var O=b.target.result;if(O){var R=O.value,$=R.id,N=It($),z=Lt(R);if(N){var K=$+"::"+z,U=$+"::",P=$+"::~",D=l.index("_doc_id_rev"),F=IDBKeyRange.bound(U,P,!1,!1),C=D.openCursor(F);C.onsuccess=function(k){if(C=k.target.result,!C)f.delete(O.primaryKey),O.continue();else{var x=C.value;x._doc_id_rev===K&&h.put(x),l.delete(C.primaryKey),C.continue()}}}else O.continue()}else p&&p()}}function c(y){var p=y.createObjectStore(Nt,{autoIncrement:!0});p.createIndex("seq","seq"),p.createIndex("digestSeq","digestSeq",{unique:!0})}function v(y,p){var h=y.objectStore(Ie),f=y.objectStore(Qe),l=y.objectStore(Nt),g=f.count();g.onsuccess=function(b){var O=b.target.result;if(!O)return p();h.openCursor().onsuccess=function(R){var $=R.target.result;if(!$)return p();for(var N=$.value,z=$.primaryKey,K=Object.keys(N._attachments||{}),U={},P=0;P<K.length;P++){var D=N._attachments[K[P]];U[D.digest]=!0}var F=Object.keys(U);for(P=0;P<F.length;P++){var C=F[P];l.put({seq:z,digestSeq:C+"::"+z})}$.continue()}}}function m(y){function p(g){return g.data?Ft(g):(g.deleted=g.deletedOrLocal==="1",g)}var h=y.objectStore(Ie),f=y.objectStore($e),l=f.openCursor();l.onsuccess=function(g){var b=g.target.result;if(!b)return;var O=p(b.value);O.winningRev=O.winningRev||Lt(O);function R(){var N=O.id+"::",z=O.id+"::￿",K=h.index("_doc_id_rev").openCursor(IDBKeyRange.bound(N,z)),U=0;K.onsuccess=function(P){var D=P.target.result;if(!D)return O.seq=U,$();var F=D.primaryKey;F>U&&(U=F),D.continue()}}function $(){var N=yi(O,O.winningRev,O.deleted),z=f.put(N);z.onsuccess=function(){b.continue()}}if(O.seq)return $();R()}}t._remote=!1,t.type=function(){return"idb"},t._id=iu(function(y){y(null,t._meta.instanceId)}),t._bulkDocs=function(p,h,f){Wp(e,p,h,t,i,o(f))},t._get=function(p,h,f){var l,g,b,O=h.ctx;if(!O){var R=rt(i,[$e,Ie,Qe],"readonly");if(R.error)return f(R.error);O=R.txn}function $(){f(b,{doc:l,metadata:g,ctx:O})}O.objectStore($e).get(p).onsuccess=function(N){if(g=Ft(N.target.result),!g)return b=ce(st,"missing"),$();var z;if(h.rev)z=h.latest?Fd(h.rev,g):h.rev;else{z=g.winningRev;var K=mt(g);if(K)return b=ce(st,"deleted"),$()}var U=O.objectStore(Ie),P=g.id+"::"+z;U.index("_doc_id_rev").get(P).onsuccess=function(D){if(l=D.target.result,l&&(l=hr(l)),!l)return b=ce(st,"missing"),$();$()}}},t._getAttachment=function(y,p,h,f,l){var g;if(f.ctx)g=f.ctx;else{var b=rt(i,[$e,Ie,Qe],"readonly");if(b.error)return l(b.error);g=b.txn}var O=h.digest,R=h.content_type;g.objectStore(Qe).get(O).onsuccess=function($){var N=$.target.result.body;Ou(N,R,f.binary,function(z){l(null,z)})}},t._info=function(p){var h,f,l=rt(i,[Be,Ie],"readonly");if(l.error)return p(l.error);var g=l.txn;g.objectStore(Be).get(Be).onsuccess=function(b){f=b.target.result.docCount},g.objectStore(Ie).openCursor(null,"prev").onsuccess=function(b){var O=b.target.result;h=O?O.key:0},g.oncomplete=function(){p(null,{doc_count:f,update_seq:h,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(p,h){Kp(p,i,o(h))},t._changes=function(p){return Xp(p,t,r,i)},t._close=function(y){i.close(),Qt.delete(r),y()},t._getRevisionTree=function(y,p){var h=rt(i,[$e],"readonly");if(h.error)return p(h.error);var f=h.txn,l=f.objectStore($e).get(y);l.onsuccess=function(g){var b=Ft(g.target.result);b?p(null,b.rev_tree):p(ce(st))}},t._doCompaction=function(y,p,h){var f=[$e,Ie,Qe,Nt],l=rt(i,f,"readwrite");if(l.error)return h(l.error);var g=l.txn,b=g.objectStore($e);b.get(y).onsuccess=function(O){var R=Ft(O.target.result);Wt(R.rev_tree,function(z,K,U,P,D){var F=K+"-"+U;p.indexOf(F)!==-1&&(D.status="missing")}),Ru(p,y,g);var $=R.winningRev,N=R.deleted;g.objectStore($e).put(yi(R,$,N))},g.onabort=ft(h),g.oncomplete=function(){h()}},t._getLocal=function(y,p){var h=rt(i,[ut],"readonly");if(h.error)return p(h.error);var f=h.txn,l=f.objectStore(ut).get(y);l.onerror=ft(p),l.onsuccess=function(g){var b=g.target.result;b?(delete b._doc_id_rev,p(null,b)):p(ce(st))}},t._putLocal=function(y,p,h){typeof p=="function"&&(h=p,p={}),delete y._revisions;var f=y._rev,l=y._id;f?y._rev="0-"+(parseInt(f.split("-")[1],10)+1):y._rev="0-1";var g=p.ctx,b;if(!g){var O=rt(i,[ut],"readwrite");if(O.error)return h(O.error);g=O.txn,g.onerror=ft(h),g.oncomplete=function(){b&&h(null,b)}}var R=g.objectStore(ut),$;f?($=R.get(l),$.onsuccess=function(N){var z=N.target.result;if(!z||z._rev!==f)h(ce(un));else{var K=R.put(y);K.onsuccess=function(){b={ok:!0,id:y._id,rev:y._rev},p.ctx&&h(null,b)}}}):($=R.add(y),$.onerror=function(N){h(ce(un)),N.preventDefault(),N.stopPropagation()},$.onsuccess=function(){b={ok:!0,id:y._id,rev:y._rev},p.ctx&&h(null,b)})},t._removeLocal=function(y,p,h){typeof p=="function"&&(h=p,p={});var f=p.ctx;if(!f){var l=rt(i,[ut],"readwrite");if(l.error)return h(l.error);f=l.txn,f.oncomplete=function(){g&&h(null,g)}}var g,b=y._id,O=f.objectStore(ut),R=O.get(b);R.onerror=ft(h),R.onsuccess=function($){var N=$.target.result;!N||N._rev!==y._rev?h(ce(st)):(O.delete(b),g={ok:!0,id:b,rev:"0-0"},p.ctx&&h(null,g))}},t._destroy=function(y,p){Cn.removeAllListeners(r);var h=Br.get(r);h&&h.result&&(h.result.close(),Qt.delete(r));var f=indexedDB.deleteDatabase(r);f.onsuccess=function(){Br.delete(r),Er()&&r in localStorage&&delete localStorage[r],p(null,{ok:!0})},f.onerror=ft(p)};var w=Qt.get(r);if(w)return i=w.idb,t._meta=w.global,dt(function(){n(null,t)});var T=indexedDB.open(r,qp);Br.set(r,T),T.onupgradeneeded=function(y){var p=y.target.result;if(y.oldVersion<1)return a(p);var h=y.currentTarget.transaction;y.oldVersion<3&&d(p),y.oldVersion<4&&c(p);var f=[u,_,v,m],l=y.oldVersion;function g(){var b=f[l-1];l++,b&&b(h,g)}g()},T.onsuccess=function(y){i=y.target.result,i.onversionchange=function(){i.close(),Qt.delete(r)},i.onabort=function($){Ze("error","Database has a global failure",$.target.error),s=$.target.error,i.close(),Qt.delete(r)};var p=i.transaction([Be,gi,$e],"readwrite"),h=!1,f,l,g,b;function O(){typeof g>"u"||!h||(t._meta={name:r,instanceId:b,blobSupport:g},Qt.set(r,{idb:i,global:t._meta}),n(null,t))}function R(){if(!(typeof l>"u"||typeof f>"u")){var $=r+"_id";$ in f?b=f[$]:f[$]=b=Sr(),f.docCount=l,p.objectStore(Be).put(f)}}p.objectStore(Be).get(Be).onsuccess=function($){f=$.target.result||{id:Be},R()},Qp(p,function($){l=$,R()}),Ir||(Ir=Yp(p)),Ir.then(function($){g=$,O()}),p.oncomplete=function(){h=!0,O()},p.onabort=ft(n)},T.onerror=function(y){var p=y.target.error&&y.target.error.message;p?p.indexOf("stored database is a higher version")!==-1&&(p=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):p="Failed to open indexedDB, are you in private browsing mode?",Ze("error",p),n(ce(zi,p))}}Du.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function tv(t){t.adapter("idb",Du,!0)}function nv(t,e){return new Promise(function(n,r){var i=0,s=0,o=0,a=t.length,u;function d(){i++,t[s++]().then(c,v)}function _(){++o===a?u?r(u):n():m()}function c(){i--,_()}function v(w){i--,u=u||w,_()}function m(){for(;i<e&&s<a;)d()}m()})}var rv=25,iv=50,zn=5e3,sv=1e4,qr={};function Ur(t){var e=t.doc||t.ok,n=e&&e._attachments;n&&Object.keys(n).forEach(function(r){var i=n[r];i.data=Zi(i.data,i.content_type)})}function Dt(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function lo(t){return!t._attachments||!Object.keys(t._attachments)?Promise.resolve():Promise.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&typeof n.data!="string")return new Promise(function(r){Xi(n.data,r)}).then(function(r){n.data=r})}))}function ov(t){if(!t.prefix)return!1;var e=lu(t.prefix).protocol;return e==="http"||e==="https"}function av(t,e){if(ov(e)){var n=e.name.substr(e.prefix.length),r=e.prefix.replace(/\/?$/,"/");t=r+encodeURIComponent(n)}var i=lu(t);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var s=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=s.pop(),i.db.indexOf("%")===-1&&(i.db=encodeURIComponent(i.db)),i.path=s.join("/"),i}function je(t,e){return er(t,t.db+"/"+e)}function er(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function Vn(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function uv(t){var e=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=e.indexOf("msie")!==-1,r=e.indexOf("trident")!==-1,i=e.indexOf("edge")!==-1,s=!("method"in t)||t.method==="GET";return(n||r||i)&&s}function Ti(t,e){var n=this,r=av(t.name,t),i=je(r,"");t=Ne(t);var s=function(c,v){if(v=v||{},v.headers=v.headers||new rn,v.credentials="include",t.auth||r.auth){var m=t.auth||r.auth,w=m.username+":"+m.password,T=Fn(unescape(encodeURIComponent(w)));v.headers.set("Authorization","Basic "+T)}var y=t.headers||{};Object.keys(y).forEach(function(h){v.headers.append(h,y[h])}),uv(v)&&(c+=(c.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var p=t.fetch||wu;return p(c,v)};function o(c,v){return Pe(c,pn(function(m){d().then(function(){return v.apply(this,m)}).catch(function(w){var T=m.pop();T(w)})})).bind(n)}function a(c,v,m){var w={};return v=v||{},v.headers=v.headers||new rn,v.headers.get("Content-Type")||v.headers.set("Content-Type","application/json"),v.headers.get("Accept")||v.headers.set("Accept","application/json"),s(c,v).then(function(T){return w.ok=T.ok,w.status=T.status,T.json()}).then(function(T){if(w.data=T,!w.ok){w.data.status=w.status;var y=cn(w.data);if(m)return m(y);throw y}if(Array.isArray(w.data)&&(w.data=w.data.map(function(p){return p.error||p.missing?cn(p):p})),m)m(null,w.data);else return w})}var u;function d(){return t.skip_setup?Promise.resolve():u||(u=a(i).catch(function(c){return c&&c.status&&c.status===404?(li(404,"PouchDB is just detecting if the remote exists."),a(i,{method:"PUT"})):Promise.reject(c)}).catch(function(c){return c&&c.status&&c.status===412?!0:Promise.reject(c)}),u.catch(function(){u=null}),u)}dt(function(){e(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=o("id",function(c){s(er(r,"")).then(function(v){return v.json()}).catch(function(){return{}}).then(function(v){var m=v&&v.uuid?v.uuid+r.db:je(r,"");c(null,m)})}),n.compact=o("compact",function(c,v){typeof c=="function"&&(v=c,c={}),c=Ne(c),a(je(r,"_compact"),{method:"POST"}).then(function(){function m(){n.info(function(w,T){T&&!T.compact_running?v(null,{ok:!0}):setTimeout(m,c.interval||200)})}m()})}),n.bulkGet=Pe("bulkGet",function(c,v){var m=this;function w(h){var f={};c.revs&&(f.revs=!0),c.attachments&&(f.attachments=!0),c.latest&&(f.latest=!0),a(je(r,"_bulk_get"+Vn(f)),{method:"POST",body:JSON.stringify({docs:c.docs})}).then(function(l){c.attachments&&c.binary&&l.data.results.forEach(function(g){g.docs.forEach(Ur)}),h(null,l.data)}).catch(h)}function T(){var h=iv,f=Math.ceil(c.docs.length/h),l=0,g=new Array(f);function b($){return function(N,z){g[$]=z.results,++l===f&&v(null,{results:fr(g)})}}for(var O=0;O<f;O++){var R=Nn(c,["revs","attachments","binary","latest"]);R.docs=c.docs.slice(O*h,Math.min(c.docs.length,(O+1)*h)),su(m,R,b(O))}}var y=er(r,""),p=qr[y];typeof p!="boolean"?w(function(h,f){h?(qr[y]=!1,li(h.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),T()):(qr[y]=!0,v(null,f))}):p?w(v):T()}),n._info=function(c){d().then(function(){return s(je(r,""))}).then(function(v){return v.json()}).then(function(v){v.host=je(r,""),c(null,v)}).catch(c)},n.fetch=function(c,v){return d().then(function(){var m=c.substring(0,1)==="/"?er(r,c.substring(1)):je(r,c);return s(m,v)})},n.get=o("get",function(c,v,m){typeof v=="function"&&(m=v,v={}),v=Ne(v);var w={};v.revs&&(w.revs=!0),v.revs_info&&(w.revs_info=!0),v.latest&&(w.latest=!0),v.open_revs&&(v.open_revs!=="all"&&(v.open_revs=JSON.stringify(v.open_revs)),w.open_revs=v.open_revs),v.rev&&(w.rev=v.rev),v.conflicts&&(w.conflicts=v.conflicts),v.update_seq&&(w.update_seq=v.update_seq),c=Dt(c);function T(h){var f=h._attachments,l=f&&Object.keys(f);if(!f||!l.length)return;function g(O){var R=f[O],$=Dt(h._id)+"/"+_(O)+"?rev="+h._rev;return s(je(r,$)).then(function(N){return"buffer"in N?N.buffer():N.blob()}).then(function(N){if(v.binary){var z=Object.getOwnPropertyDescriptor(N.__proto__,"type");return(!z||z.set)&&(N.type=R.content_type),N}return new Promise(function(K){Xi(N,K)})}).then(function(N){delete R.stub,delete R.length,R.data=N})}var b=l.map(function(O){return function(){return g(O)}});return nv(b,5)}function y(h){return Array.isArray(h)?Promise.all(h.map(function(f){if(f.ok)return T(f.ok)})):T(h)}var p=je(r,c+Vn(w));a(p).then(function(h){return Promise.resolve().then(function(){if(v.attachments)return y(h.data)}).then(function(){m(null,h.data)})}).catch(function(h){h.docId=c,m(h)})}),n.remove=o("remove",function(c,v,m,w){var T;typeof v=="string"?(T={_id:c,_rev:v},typeof m=="function"&&(w=m,m={})):(T=c,typeof v=="function"?(w=v,m={}):(w=m,m=v));var y=T._rev||m.rev,p=je(r,Dt(T._id))+"?rev="+y;a(p,{method:"DELETE"},w).catch(w)});function _(c){return c.split("/").map(encodeURIComponent).join("/")}n.getAttachment=o("getAttachment",function(c,v,m,w){typeof m=="function"&&(w=m,m={});var T=m.rev?"?rev="+m.rev:"",y=je(r,Dt(c))+"/"+_(v)+T,p;s(y,{method:"GET"}).then(function(h){if(p=h.headers.get("content-type"),h.ok)return typeof process<"u"&&!process.browser&&typeof h.buffer=="function"?h.buffer():h.blob();throw h}).then(function(h){if(typeof process<"u"&&!process.browser){var f=Object.getOwnPropertyDescriptor(h.__proto__,"type");(!f||f.set)&&(h.type=p)}w(null,h)}).catch(function(h){w(h)})}),n.removeAttachment=o("removeAttachment",function(c,v,m,w){var T=je(r,Dt(c)+"/"+_(v))+"?rev="+m;a(T,{method:"DELETE"},w).catch(w)}),n.putAttachment=o("putAttachment",function(c,v,m,w,T,y){typeof T=="function"&&(y=T,T=w,w=m,m=null);var p=Dt(c)+"/"+_(v),h=je(r,p);if(m&&(h+="?rev="+m),typeof w=="string"){var f;try{f=Yi(w)}catch{return y(ce(uu,"Attachment is not a valid base64 string"))}w=f?Ji(f,T):""}a(h,{headers:new rn({"Content-Type":T}),method:"PUT",body:w},y).catch(y)}),n._bulkDocs=function(c,v,m){c.new_edits=v.new_edits,d().then(function(){return Promise.all(c.docs.map(lo))}).then(function(){return a(je(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(c)},m)}).catch(m)},n._put=function(c,v,m){d().then(function(){return lo(c)}).then(function(){return a(je(r,Dt(c._id)),{method:"PUT",body:JSON.stringify(c)})}).then(function(w){m(null,w.data)}).catch(function(w){w.docId=c&&c._id,m(w)})},n.allDocs=o("allDocs",function(c,v){typeof c=="function"&&(v=c,c={}),c=Ne(c);var m={},w,T="GET";c.conflicts&&(m.conflicts=!0),c.update_seq&&(m.update_seq=!0),c.descending&&(m.descending=!0),c.include_docs&&(m.include_docs=!0),c.attachments&&(m.attachments=!0),c.key&&(m.key=JSON.stringify(c.key)),c.start_key&&(c.startkey=c.start_key),c.startkey&&(m.startkey=JSON.stringify(c.startkey)),c.end_key&&(c.endkey=c.end_key),c.endkey&&(m.endkey=JSON.stringify(c.endkey)),typeof c.inclusive_end<"u"&&(m.inclusive_end=!!c.inclusive_end),typeof c.limit<"u"&&(m.limit=c.limit),typeof c.skip<"u"&&(m.skip=c.skip);var y=Vn(m);typeof c.keys<"u"&&(T="POST",w={keys:c.keys}),a(je(r,"_all_docs"+y),{method:T,body:JSON.stringify(w)}).then(function(p){c.include_docs&&c.attachments&&c.binary&&p.data.rows.forEach(Ur),v(null,p.data)}).catch(v)}),n._changes=function(c){var v="batch_size"in c?c.batch_size:rv;c=Ne(c),c.continuous&&!("heartbeat"in c)&&(c.heartbeat=sv);var m="timeout"in c?c.timeout:30*1e3;"timeout"in c&&c.timeout&&m-c.timeout<zn&&(m=c.timeout+zn),"heartbeat"in c&&c.heartbeat&&m-c.heartbeat<zn&&(m=c.heartbeat+zn);var w={};"timeout"in c&&c.timeout&&(w.timeout=c.timeout);var T=typeof c.limit<"u"?c.limit:!1,y=T;if(c.style&&(w.style=c.style),(c.include_docs||c.filter&&typeof c.filter=="function")&&(w.include_docs=!0),c.attachments&&(w.attachments=!0),c.continuous&&(w.feed="longpoll"),c.seq_interval&&(w.seq_interval=c.seq_interval),c.conflicts&&(w.conflicts=!0),c.descending&&(w.descending=!0),c.update_seq&&(w.update_seq=!0),"heartbeat"in c&&c.heartbeat&&(w.heartbeat=c.heartbeat),c.filter&&typeof c.filter=="string"&&(w.filter=c.filter),c.view&&typeof c.view=="string"&&(w.filter="_view",w.view=c.view),c.query_params&&typeof c.query_params=="object")for(var p in c.query_params)Object.prototype.hasOwnProperty.call(c.query_params,p)&&(w[p]=c.query_params[p]);var h="GET",f;c.doc_ids?(w.filter="_doc_ids",h="POST",f={doc_ids:c.doc_ids}):c.selector&&(w.filter="_selector",h="POST",f={selector:c.selector});var l=new zd,g,b=function($,N){if(!c.aborted){w.since=$,typeof w.since=="object"&&(w.since=JSON.stringify(w.since)),c.descending?T&&(w.limit=y):w.limit=!T||y>v?v:y;var z=je(r,"_changes"+Vn(w)),K={signal:l.signal,method:h,body:JSON.stringify(f)};g=$,!c.aborted&&d().then(function(){return a(z,K,N)}).catch(N)}},O={results:[]},R=function($,N){if(!c.aborted){var z=0;if(N&&N.results){z=N.results.length,O.last_seq=N.last_seq;var K=null,U=null;typeof N.pending=="number"&&(K=N.pending),(typeof O.last_seq=="string"||typeof O.last_seq=="number")&&(U=O.last_seq);var P={};P.query=c.query_params,N.results=N.results.filter(function(F){y--;var C=Vi(c)(F);return C&&(c.include_docs&&c.attachments&&c.binary&&Ur(F),c.return_docs&&O.results.push(F),c.onChange(F,K,U)),C})}else if($){c.aborted=!0,c.complete($);return}N&&N.last_seq&&(g=N.last_seq);var D=T&&y<=0||N&&z<v||c.descending;c.continuous&&!(T&&y<=0)||!D?dt(function(){b(g,R)}):c.complete(null,O)}};return b(c.since||0,R),{cancel:function(){c.aborted=!0,l.abort()}}},n.revsDiff=o("revsDiff",function(c,v,m){typeof v=="function"&&(m=v,v={}),a(je(r,"_revs_diff"),{method:"POST",body:JSON.stringify(c)},m).catch(m)}),n._close=function(c){c()},n._destroy=function(c,v){a(je(r,""),{method:"DELETE"}).then(function(m){v(null,m)}).catch(function(m){m.status===404?v(null,{ok:!0}):v(m)})}}Ti.valid=function(){return!0};function cv(t){t.adapter("http",Ti,!1),t.adapter("https",Ti,!1)}function Pt(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Pt)}catch{}}at(Pt,Error);function kr(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,kr)}catch{}}at(kr,Error);function Or(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Or)}catch{}}at(Or,Error);function Pu(t,e){return e&&t.then(function(n){dt(function(){e(null,n)})},function(n){dt(function(){e(n)})}),t}function fv(t){return pn(function(e){var n=e.pop(),r=t.apply(this,e);return typeof n=="function"&&Pu(r,n),r})}function lv(t,e){return t.then(function(n){return e().then(function(){return n})},function(n){return e().then(function(){throw n})})}function Hr(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function ho(t){var e=new an(t),n=new Array(e.size),r=-1;return e.forEach(function(i){n[++r]=i}),n}function Wr(t){var e=new Array(t.size),n=-1;return t.forEach(function(r,i){e[++n]=i}),e}function po(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new Or(e)}function Ei(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];if(typeof i!="number")if(Array.isArray(i)){e=typeof e=="number"?[e]:e;for(var s=0,o=i.length;s<o;s++){var a=i[s];if(typeof a!="number")throw po("_sum");typeof e[s]>"u"?e.push(a):e[s]+=a}}else throw po("_sum");else typeof e=="number"?e+=i:e[0]+=i}return e}var hv=Ze.bind(null,"log"),dv=Array.isArray,pv=JSON.parse;function ju(t,e){return Ki("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Ei,log:hv,isArray:dv,toJSON:pv})}function Rn(){this.promise=new Promise(function(t){t()})}Rn.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise};Rn.prototype.finish=function(){return this.promise};function vo(t){if(!t)return"undefined";switch(typeof t){case"function":return t.toString();case"string":return t.toString();default:return JSON.stringify(t)}}function vv(t,e){return vo(t)+vo(e)+"undefined"}function _o(t,e,n,r,i,s){var o=vv(n,r),a;if(!i&&(a=t._cachedViews=t._cachedViews||{},a[o]))return a[o];var u=t.info().then(function(d){var _=d.db_name+"-mrview-"+(i?"temp":pu(o));function c(v){v.views=v.views||{};var m=e;m.indexOf("/")===-1&&(m=e+"/"+e);var w=v.views[m]=v.views[m]||{};if(!w[_])return w[_]=!0,v}return Cr(t,"_local/"+s,c).then(function(){return t.registerDependentDatabase(_).then(function(v){var m=v.db;m.auto_compaction=!0;var w={name:_,db:m,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return w.db.get("_local/lastSeq").catch(function(T){if(T.status!==404)throw T}).then(function(T){return w.seq=T?T.seq:0,a&&w.db.once("destroyed",function(){delete a[o]}),w})})})});return a&&(a[o]=u),u}var go={},yo=new Rn,_v=50;function Gr(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function gv(t){return t.length===1&&/^1-/.test(t[0].rev)}function mo(t,e,n){try{t.emit("error",e)}catch{Ze("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),Ze("error",e,n)}}function yv(t,e,n,r){function i(C,k,x){try{k(x)}catch(L){mo(C,L,{fun:k,doc:x})}}function s(C,k,x,L,I){try{return{output:k(x,L,I)}}catch(q){return mo(C,q,{fun:k,keys:x,values:L,rereduce:I}),{error:q}}}function o(C,k){var x=xe(C.key,k.key);return x!==0?x:xe(C.value,k.value)}function a(C,k,x){return x=x||0,typeof k=="number"?C.slice(x,k+x):x>0?C.slice(x):C}function u(C){var k=C.value,x=k&&typeof k=="object"&&k._id||C.id;return x}function d(C){C.rows.forEach(function(k){var x=k.doc&&k.doc._attachments;x&&Object.keys(x).forEach(function(L){var I=x[L];x[L].data=Zi(I.data,I.content_type)})})}function _(C){return function(k){return C.include_docs&&C.attachments&&C.binary&&d(k),k}}function c(C,k,x,L){var I=k[C];typeof I<"u"&&(L&&(I=encodeURIComponent(JSON.stringify(I))),x.push(C+"="+I))}function v(C){if(typeof C<"u"){var k=Number(C);return!isNaN(k)&&k===parseInt(C,10)?k:C}}function m(C){return C.group_level=v(C.group_level),C.limit=v(C.limit),C.skip=v(C.skip),C}function w(C){if(C){if(typeof C!="number")return new Pt('Invalid value for integer: "'+C+'"');if(C<0)return new Pt('Invalid value for positive integer: "'+C+'"')}}function T(C,k){var x=C.descending?"endkey":"startkey",L=C.descending?"startkey":"endkey";if(typeof C[x]<"u"&&typeof C[L]<"u"&&xe(C[x],C[L])>0)throw new Pt("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(k.reduce&&C.reduce!==!1){if(C.include_docs)throw new Pt("{include_docs:true} is invalid for reduce");if(C.keys&&C.keys.length>1&&!C.group&&!C.group_level)throw new Pt("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(I){var q=w(C[I]);if(q)throw q})}function y(C,k,x){var L=[],I,q="GET",A,G;if(c("reduce",x,L),c("include_docs",x,L),c("attachments",x,L),c("limit",x,L),c("descending",x,L),c("group",x,L),c("group_level",x,L),c("skip",x,L),c("stale",x,L),c("conflicts",x,L),c("startkey",x,L,!0),c("start_key",x,L,!0),c("endkey",x,L,!0),c("end_key",x,L,!0),c("inclusive_end",x,L),c("key",x,L,!0),c("update_seq",x,L),L=L.join("&"),L=L===""?"":"?"+L,typeof x.keys<"u"){var Y=2e3,Z="keys="+encodeURIComponent(JSON.stringify(x.keys));Z.length+L.length+1<=Y?L+=(L[0]==="?"?"&":"?")+Z:(q="POST",typeof k=="string"?I={keys:x.keys}:k.keys=x.keys)}if(typeof k=="string"){var S=Gr(k);return C.fetch("_design/"+S[0]+"/_view/"+S[1]+L,{headers:new rn({"Content-Type":"application/json"}),method:q,body:JSON.stringify(I)}).then(function(E){return A=E.ok,G=E.status,E.json()}).then(function(E){if(!A)throw E.status=G,cn(E);return E.rows.forEach(function(j){if(j.value&&j.value.error&&j.value.error==="builtin_reduce_error")throw new Error(j.reason)}),E}).then(_(x))}return I=I||{},Object.keys(k).forEach(function(E){Array.isArray(k[E])?I[E]=k[E]:I[E]=k[E].toString()}),C.fetch("_temp_view"+L,{headers:new rn({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(I)}).then(function(E){return A=E.ok,G=E.status,E.json()}).then(function(E){if(!A)throw E.status=G,cn(E);return E}).then(_(x))}function p(C,k,x){return new Promise(function(L,I){C._query(k,x,function(q,A){if(q)return I(q);L(A)})})}function h(C){return new Promise(function(k,x){C._viewCleanup(function(L,I){if(L)return x(L);k(I)})})}function f(C){return function(k){if(k.status===404)return C;throw k}}function l(C,k,x){var L="_local/doc_"+C,I={_id:L,keys:[]},q=x.get(C),A=q[0],G=q[1];function Y(){return gv(G)?Promise.resolve(I):k.db.get(L).catch(f(I))}function Z(E){return E.keys.length?k.db.allDocs({keys:E.keys,include_docs:!0}):Promise.resolve({rows:[]})}function S(E,j){for(var H=[],V=new an,W=0,X=j.rows.length;W<X;W++){var te=j.rows[W],oe=te.doc;if(oe&&(H.push(oe),V.add(oe._id),oe._deleted=!A.has(oe._id),!oe._deleted)){var ve=A.get(oe._id);"value"in ve&&(oe.value=ve.value)}}var he=Wr(A);return he.forEach(function(Oe){if(!V.has(Oe)){var tt={_id:Oe},Gt=A.get(Oe);"value"in Gt&&(tt.value=Gt.value),H.push(tt)}}),E.keys=ho(he.concat(E.keys)),H.push(E),H}return Y().then(function(E){return Z(E).then(function(j){return S(E,j)})})}function g(C,k,x){var L="_local/lastSeq";return C.db.get(L).catch(f({_id:L,seq:0})).then(function(I){var q=Wr(k);return Promise.all(q.map(function(A){return l(A,C,k)})).then(function(A){var G=fr(A);return I.seq=x,G.push(I),C.db.bulkDocs({docs:G})})})}function b(C){var k=typeof C=="string"?C:C.name,x=go[k];return x||(x=go[k]=new Rn),x}function O(C,k){return Hr(b(C),function(){return R(C,k)})()}function R(C,k){var x,L;function I(W,X){var te={id:L._id,key:Bt(W)};typeof X<"u"&&X!==null&&(te.value=Bt(X)),x.push(te)}var q=e(C.mapFun,I),A=C.seq||0;function G(W,X){return function(){return g(C,W,X)}}let Y=0,Z={view:C.name,indexed_docs:Y};C.sourceDB.emit("indexing",Z);var S=new Rn;function E(){return C.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:A,limit:k.changes_batch_size}).then(j)}function j(W){var X=W.results;if(!X.length)return;var te=H(X);S.add(G(te,A)),Y=Y+X.length;let oe={view:C.name,last_seq:W.last_seq,results_count:X.length,indexed_docs:Y};if(C.sourceDB.emit("indexing",oe),!(X.length<k.changes_batch_size))return E()}function H(W){for(var X=new We,te=0,oe=W.length;te<oe;te++){var ve=W[te];if(ve.doc._id[0]!=="_"){x=[],L=ve.doc,L._deleted||i(C.sourceDB,q,L),x.sort(o);var he=V(x);X.set(ve.doc._id,[he,ve.changes])}A=ve.seq}return X}function V(W){for(var X=new We,te,oe=0,ve=W.length;oe<ve;oe++){var he=W[oe],Oe=[he.key,he.id];oe>0&&xe(he.key,te)===0&&Oe.push(oe),X.set(nt(Oe),he),te=he.key}return X}return E().then(function(){return S.finish()}).then(function(){C.seq=A})}function $(C,k,x){x.group_level===0&&delete x.group_level;var L=x.group||x.group_level,I=n(C.reduceFun),q=[],A=isNaN(x.group_level)?Number.POSITIVE_INFINITY:x.group_level;k.forEach(function(E){var j=q[q.length-1],H=L?E.key:null;if(L&&Array.isArray(H)&&(H=H.slice(0,A)),j&&xe(j.groupKey,H)===0){j.keys.push([E.key,E.id]),j.values.push(E.value);return}q.push({keys:[[E.key,E.id]],values:[E.value],groupKey:H})}),k=[];for(var G=0,Y=q.length;G<Y;G++){var Z=q[G],S=s(C.sourceDB,I,Z.keys,Z.values,!1);if(S.error&&S.error instanceof Or)throw S.error;k.push({value:S.error?null:S.output,key:Z.groupKey})}return{rows:a(k,x.limit,x.skip)}}function N(C,k){return Hr(b(C),function(){return z(C,k)})()}function z(C,k){var x,L=C.reduceFun&&k.reduce!==!1,I=k.skip||0;typeof k.keys<"u"&&!k.keys.length&&(k.limit=0,delete k.keys);function q(W){return W.include_docs=!0,C.db.allDocs(W).then(function(X){return x=X.total_rows,X.rows.map(function(te){if("value"in te.doc&&typeof te.doc.value=="object"&&te.doc.value!==null){var oe=Object.keys(te.doc.value).sort(),ve=["id","key","value"];if(!(oe<ve||oe>ve))return te.doc.value}var he=cp(te.doc._id);return{key:he[0],id:he[1],value:"value"in te.doc?te.doc.value:null}})})}function A(W){var X;if(L?X=$(C,W,k):typeof k.keys>"u"?X={total_rows:x,offset:I,rows:W}:X={total_rows:x,offset:I,rows:a(W,k.limit,k.skip)},k.update_seq&&(X.update_seq=C.seq),k.include_docs){var te=ho(W.map(u));return C.sourceDB.allDocs({keys:te,include_docs:!0,conflicts:k.conflicts,attachments:k.attachments,binary:k.binary}).then(function(oe){var ve=new We;return oe.rows.forEach(function(he){ve.set(he.id,he.doc)}),W.forEach(function(he){var Oe=u(he),tt=ve.get(Oe);tt&&(he.doc=tt)}),X})}else return X}if(typeof k.keys<"u"){var G=k.keys,Y=G.map(function(W){var X={startkey:nt([W]),endkey:nt([W,{}])};return k.update_seq&&(X.update_seq=!0),q(X)});return Promise.all(Y).then(fr).then(A)}else{var Z={descending:k.descending};k.update_seq&&(Z.update_seq=!0);var S,E;if("start_key"in k&&(S=k.start_key),"startkey"in k&&(S=k.startkey),"end_key"in k&&(E=k.end_key),"endkey"in k&&(E=k.endkey),typeof S<"u"&&(Z.startkey=k.descending?nt([S,{}]):nt([S])),typeof E<"u"){var j=k.inclusive_end!==!1;k.descending&&(j=!j),Z.endkey=nt(j?[E,{}]:[E])}if(typeof k.key<"u"){var H=nt([k.key]),V=nt([k.key,{}]);Z.descending?(Z.endkey=H,Z.startkey=V):(Z.startkey=H,Z.endkey=V)}return L||(typeof k.limit=="number"&&(Z.limit=k.limit),Z.skip=I),q(Z).then(A)}}function K(C){return C.fetch("_view_cleanup",{headers:new rn({"Content-Type":"application/json"}),method:"POST"}).then(function(k){return k.json()})}function U(C){return C.get("_local/"+t).then(function(k){var x=new We;Object.keys(k.views).forEach(function(I){var q=Gr(I),A="_design/"+q[0],G=q[1],Y=x.get(A);Y||(Y=new an,x.set(A,Y)),Y.add(G)});var L={keys:Wr(x),include_docs:!0};return C.allDocs(L).then(function(I){var q={};I.rows.forEach(function(Y){var Z=Y.key.substring(8);x.get(Y.key).forEach(function(S){var E=Z+"/"+S;k.views[E]||(E=S);var j=Object.keys(k.views[E]),H=Y.doc&&Y.doc.views&&Y.doc.views[S];j.forEach(function(V){q[V]=q[V]||H})})});var A=Object.keys(q).filter(function(Y){return!q[Y]}),G=A.map(function(Y){return Hr(b(Y),function(){return new C.constructor(Y,C.__opts).destroy()})()});return Promise.all(G).then(function(){return{ok:!0}})})},f({ok:!0}))}function P(C,k,x){if(typeof C._query=="function")return p(C,k,x);if(pt(C))return y(C,k,x);var L={changes_batch_size:C.__opts.view_update_changes_batch_size||_v};if(typeof k!="string")return T(x,k),yo.add(function(){var Y=_o(C,"temp_view/temp_view",k.map,k.reduce,!0,t);return Y.then(function(Z){return lv(O(Z,L).then(function(){return N(Z,x)}),function(){return Z.db.destroy()})})}),yo.finish();var I=k,q=Gr(I),A=q[0],G=q[1];return C.get("_design/"+A).then(function(Y){var Z=Y.views&&Y.views[G];if(!Z)throw new kr("ddoc "+Y._id+" has no view named "+G);r(Y,G),T(x,Z);var S=_o(C,I,Z.map,Z.reduce,!1,t);return S.then(function(E){return x.stale==="ok"||x.stale==="update_after"?(x.stale==="update_after"&&dt(function(){O(E,L)}),N(E,x)):O(E,L).then(function(){return N(E,x)})})})}function D(C,k,x){var L=this;typeof k=="function"&&(x=k,k={}),k=k?m(k):{},typeof C=="function"&&(C={map:C});var I=Promise.resolve().then(function(){return P(L,C,k)});return Pu(I,x),I}var F=fv(function(){var C=this;return typeof C._viewCleanup=="function"?h(C):pt(C)?K(C):U(C)});return{query:D,viewCleanup:F}}var zr={_sum:function(t,e){return Ei(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(r){for(var i=0,s=0,o=r.length;s<o;s++){var a=r[s];i+=a*a}return i}return{sum:Ei(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}};function mv(t){if(/^_sum/.test(t))return zr._sum;if(/^_count/.test(t))return zr._count;if(/^_stats/.test(t))return zr._stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}function wv(t,e){if(typeof t=="function"&&t.length===2){var n=t;return function(r){return n(r,e)}}else return ju(t.toString(),e)}function bv(t){var e=t.toString(),n=mv(e);return n||ju(e)}function Tv(t,e){var n=t.views&&t.views[e];if(typeof n.map!="string")throw new kr("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}var Ev="mrviews",Nu=yv(Ev,wv,bv,Tv);function Av(t,e,n){return Nu.query.call(this,t,e,n)}function Cv(t){return Nu.viewCleanup.call(this,t)}var Sv={query:Av,viewCleanup:Cv};function wo(t){return/^1-/.test(t)}function kv(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function bo(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map(function(r){return t.getAttachment(e._id,r,{rev:e._rev})}))}function Ov(t,e,n){var r=pt(e)&&!pt(t),i=Object.keys(n._attachments);return r?t.get(n._id).then(function(s){return Promise.all(i.map(function(o){return kv(s,n,o)?e.getAttachment(n._id,o):t.getAttachment(s._id,o)}))}).catch(function(s){if(s.status!==404)throw s;return bo(e,n)}):bo(e,n)}function xv(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n].missing;r.forEach(function(i){e.push({id:n,rev:i})})}),{docs:e,revs:!0,latest:!0}}function Rv(t,e,n,r){n=Ne(n);var i=[],s=!0;function o(){var v=xv(n);if(v.docs.length)return t.bulkGet(v).then(function(m){if(r.cancelled)throw new Error("cancelled");return Promise.all(m.results.map(function(w){return Promise.all(w.docs.map(function(T){var y=T.ok;return T.error&&(s=!1),!y||!y._attachments?y:Ov(e,t,y).then(function(p){var h=Object.keys(y._attachments);return p.forEach(function(f,l){var g=y._attachments[h[l]];delete g.stub,delete g.length,g.data=f}),y})}))})).then(function(w){i=i.concat(fr(w).filter(Boolean))})})}function a(v){return v._attachments&&Object.keys(v._attachments).length>0}function u(v){return v._conflicts&&v._conflicts.length>0}function d(v){return t.allDocs({keys:v,include_docs:!0,conflicts:!0}).then(function(m){if(r.cancelled)throw new Error("cancelled");m.rows.forEach(function(w){w.deleted||!w.doc||!wo(w.value.rev)||a(w.doc)||u(w.doc)||(w.doc._conflicts&&delete w.doc._conflicts,i.push(w.doc),delete n[w.id])})})}function _(){var v=Object.keys(n).filter(function(m){var w=n[m].missing;return w.length===1&&wo(w[0])});if(v.length>0)return d(v)}function c(){return{ok:s,docs:i}}return Promise.resolve().then(_).then(o).then(c)}var To=1,Eo="pouchdb",$v=5,ct=0;function os(t,e,n,r,i){return t.get(e).catch(function(s){if(s.status===404)return(t.adapter==="http"||t.adapter==="https")&&li(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:Eo,version:To};throw s}).then(function(s){if(!i.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter(function(o){return o.session_id!==r}),s.history.unshift({last_seq:n,session_id:r}),s.history=s.history.slice(0,$v),s.version=To,s.replicator=Eo,s.session_id=r,s.last_seq=n,t.put(s).catch(function(o){if(o.status===409)return os(t,e,n,r,i);throw o})})}function In(t,e,n,r,i){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=i||{}}In.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})};In.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?os(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)};In.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return os(this.src,this.id,t,e,this.returnValue).catch(function(r){if(Mu(r))return n.opts.writeSourceCheckpoint=!1,!0;throw r})}else return Promise.resolve(!0)};var Ao={undefined:function(t,e){return xe(t.last_seq,e.last_seq)===0?e.last_seq:0},1:function(t,e){return Dv(e,t).last_seq}};In.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(e){return e.last_seq||ct}).catch(function(e){if(e.status!==404)throw e;return ct}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||ct:t.src.get(t.id).then(function(n){if(e.version!==n.version)return ct;var r;return e.version?r=e.version.toString():r="undefined",r in Ao?Ao[r](e,n):ct},function(n){if(n.status===404&&e.last_seq)return t.src.put({_id:t.id,last_seq:ct}).then(function(){return ct},function(r){return Mu(r)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):ct});throw n})}).catch(function(e){if(e.status!==404)throw e;return ct})};function Dv(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:Fu(t.history,e.history)}function Fu(t,e){var n=t[0],r=t.slice(1),i=e[0],s=e.slice(1);if(!n||e.length===0)return{last_seq:ct,history:[]};var o=n.session_id;if(Ai(o,e))return{last_seq:n.last_seq,history:t};var a=i.session_id;return Ai(a,r)?{last_seq:i.last_seq,history:s}:Fu(r,s)}function Ai(t,e){var n=e[0],r=e.slice(1);return!t||e.length===0?!1:t===n.session_id?!0:Ai(t,r)}function Mu(t){return typeof t.status=="number"&&Math.floor(t.status/100)===4}var Co=0;function Pv(t,e,n,r){if(t.retry===!1){e.emit("error",n),e.removeAllListeners();return}if(typeof t.back_off_function!="function"&&(t.back_off_function=ad),e.emit("requestError",n),e.state==="active"||e.state==="pending"){e.emit("paused",n),e.state="stopped";var i=function(){t.current_back_off=Co},s=function(){e.removeListener("active",i)};e.once("paused",s),e.once("active",i)}t.current_back_off=t.current_back_off||Co,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}function jv(t){return Object.keys(t).sort(xe).reduce(function(e,n){return e[n]=t[n],e},{})}function Nv(t,e,n){var r=n.doc_ids?n.doc_ids.sort(xe):"",i=n.filter?n.filter.toString():"",s="",o="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(jv(n.query_params))),n.filter&&n.filter==="_view"&&(o=n.view.toString()),Promise.all([t.id(),e.id()]).then(function(u){var d=u[0]+u[1]+i+o+s+r+a;return new Promise(function(_){es(d,_)})}).then(function(u){return u=u.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+u})}function Lu(t,e,n,r,i){var s=[],o,a={seq:0,changes:[],docs:[]},u=!1,d=!1,_=!1,c=0,v=n.continuous||n.live||!1,m=n.batch_size||100,w=n.batches_limit||10,T=n.style||"all_docs",y=!1,p=n.doc_ids,h=n.selector,f,l,g=[],b=Sr();i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var O={};r.ready(t,e);function R(){return l?Promise.resolve():Nv(t,e,n).then(function(A){f=A;var G={};n.checkpoint===!1?G={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:n.checkpoint==="source"?G={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:n.checkpoint==="target"?G={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:G={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},l=new In(t,e,f,r,G)})}function $(){if(g=[],o.docs.length!==0){var A=o.docs,G={timeout:n.timeout};return e.bulkDocs({docs:A,new_edits:!1},G).then(function(Y){if(r.cancelled)throw F(),new Error("cancelled");var Z=Object.create(null);Y.forEach(function(E){E.error&&(Z[E.id]=E)});var S=Object.keys(Z).length;i.doc_write_failures+=S,i.docs_written+=A.length-S,A.forEach(function(E){var j=Z[E._id];if(j){i.errors.push(j);var H=(j.name||"").toLowerCase();if(H==="unauthorized"||H==="forbidden")r.emit("denied",Ne(j));else throw j}else g.push(E)})},function(Y){throw i.doc_write_failures+=A.length,Y})}}function N(){if(o.error)throw new Error("There was a problem getting docs.");i.last_seq=c=o.seq;var A=Ne(i);return g.length&&(A.docs=g,typeof o.pending=="number"&&(A.pending=o.pending,delete o.pending),r.emit("change",A)),u=!0,l.writeCheckpoint(o.seq,b).then(function(){if(r.emit("checkpoint",{checkpoint:o.seq}),u=!1,r.cancelled)throw F(),new Error("cancelled");o=void 0,L()}).catch(function(G){throw q(G),G})}function z(){var A={};return o.changes.forEach(function(G){r.emit("checkpoint",{revs_diff:G}),G.id!=="_user/"&&(A[G.id]=G.changes.map(function(Y){return Y.rev}))}),e.revsDiff(A).then(function(G){if(r.cancelled)throw F(),new Error("cancelled");o.diffs=G})}function K(){return Rv(t,e,o.diffs,r).then(function(A){o.error=!A.ok,A.docs.forEach(function(G){delete o.diffs[G._id],i.docs_read++,o.docs.push(G)})})}function U(){if(!(r.cancelled||o)){if(s.length===0){P(!0);return}o=s.shift(),r.emit("checkpoint",{start_next_batch:o.seq}),z().then(K).then($).then(N).then(U).catch(function(A){D("batch processing terminated with error",A)})}}function P(A){if(a.changes.length===0){s.length===0&&!o&&((v&&O.live||d)&&(r.state="pending",r.emit("paused")),d&&F());return}(A||d||a.changes.length>=m)&&(s.push(a),a={seq:0,changes:[],docs:[]},(r.state==="pending"||r.state==="stopped")&&(r.state="active",r.emit("active")),U())}function D(A,G){_||(G.message||(G.message=A),i.ok=!1,i.status="aborting",s=[],a={seq:0,changes:[],docs:[]},F(G))}function F(A){if(!_&&!(r.cancelled&&(i.status="cancelled",u)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=c,_=!0,A){A=ce(A),A.result=i;var G=(A.name||"").toLowerCase();G==="unauthorized"||G==="forbidden"?(r.emit("error",A),r.removeAllListeners()):Pv(n,r,A,function(){Lu(t,e,n,r)})}else r.emit("complete",i),r.removeAllListeners()}function C(A,G,Y){if(r.cancelled)return F();typeof G=="number"&&(a.pending=G);var Z=Vi(n)(A);Z&&(a.seq=A.seq||Y,a.changes.push(A),r.emit("checkpoint",{pending_batch:a.seq}),dt(function(){P(s.length===0&&O.live)}))}function k(A){if(y=!1,r.cancelled)return F();if(A.results.length>0)O.since=A.results[A.results.length-1].seq,L(),P(!0);else{var G=function(){v?(O.live=!0,L()):d=!0,P(!0)};!o&&A.results.length===0?(u=!0,l.writeCheckpoint(A.last_seq,b).then(function(){u=!1,i.last_seq=c=A.last_seq,G()}).catch(q)):G()}}function x(A){if(y=!1,r.cancelled)return F();D("changes rejected",A)}function L(){if(!(!y&&!d&&s.length<w))return;y=!0;function A(){Y.cancel()}function G(){r.removeListener("cancel",A)}r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",A);var Y=t.changes(O).on("change",C);Y.then(G,G),Y.then(k).catch(x),n.retry&&(r._changes=Y,r._abortChanges=A)}function I(){R().then(function(){if(r.cancelled){F();return}return l.getCheckpoint().then(function(A){c=A,O={since:c,limit:m,batch_size:m,style:T,doc_ids:p,selector:h,return_docs:!0},n.filter&&(typeof n.filter!="string"?O.include_docs=!0:O.filter=n.filter),"heartbeat"in n&&(O.heartbeat=n.heartbeat),"timeout"in n&&(O.timeout=n.timeout),n.query_params&&(O.query_params=n.query_params),n.view&&(O.view=n.view),L()})}).catch(function(A){D("getCheckpoint rejected with ",A)})}function q(A){u=!1,D("writeCheckpoint completed with error",A)}if(r.cancelled){F();return}r._addedListeners||(r.once("cancel",F),typeof n.complete=="function"&&(r.once("error",n.complete),r.once("complete",function(A){n.complete(null,A)})),r._addedListeners=!0),typeof n.since>"u"?I():R().then(function(){return u=!0,l.writeCheckpoint(n.since,b)}).then(function(){if(u=!1,r.cancelled){F();return}c=n.since,I()}).catch(q)}at(xr,He);function xr(){He.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise(function(n,r){t.once("complete",n),t.once("error",r)});t.then=function(n,r){return e.then(n,r)},t.catch=function(n){return e.catch(n)},t.catch(function(){})}xr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")};xr.prototype.ready=function(t,e){var n=this;if(n._readyCalled)return;n._readyCalled=!0;function r(){n.cancel()}t.once("destroyed",r),e.once("destroyed",r);function i(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}n.once("complete",i),n.once("error",i)};function dr(t,e){var n=e.PouchConstructor;return typeof t=="string"?new n(t,e):t}function Ci(t,e,n,r){if(typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ce(Ar,"`doc_ids` filter parameter is not a list.");n.complete=r,n=Ne(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var i=new xr,s=dr(t,n),o=dr(e,n);return Lu(s,o,n,i),i}at(as,He);function Fv(t,e,n,r){return typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n=Ne(n),n.PouchConstructor=n.PouchConstructor||this,t=dr(t,n),e=dr(e,n),new as(t,e,n,r)}function as(t,e,n,r){var i=this;this.canceled=!1;var s=n.push?Mt({},n,n.push):n,o=n.pull?Mt({},n,n.pull):n;this.push=Ci(t,e,s),this.pull=Ci(e,t,o),this.pushPaused=!0,this.pullPaused=!0;function a(f){i.emit("change",{direction:"pull",change:f})}function u(f){i.emit("change",{direction:"push",change:f})}function d(f){i.emit("denied",{direction:"push",doc:f})}function _(f){i.emit("denied",{direction:"pull",doc:f})}function c(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function v(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function m(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function w(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}var T={};function y(f){return function(l,g){var b=l==="change"&&(g===a||g===u),O=l==="denied"&&(g===_||g===d),R=l==="paused"&&(g===v||g===c),$=l==="active"&&(g===w||g===m);(b||O||R||$)&&(l in T||(T[l]={}),T[l][f]=!0,Object.keys(T[l]).length===2&&i.removeAllListeners(l))}}n.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push)));function p(f,l,g){f.listeners(l).indexOf(g)==-1&&f.on(l,g)}this.on("newListener",function(f){f==="change"?(p(i.pull,"change",a),p(i.push,"change",u)):f==="denied"?(p(i.pull,"denied",_),p(i.push,"denied",d)):f==="active"?(p(i.pull,"active",w),p(i.push,"active",m)):f==="paused"&&(p(i.pull,"paused",v),p(i.push,"paused",c))}),this.on("removeListener",function(f){f==="change"?(i.pull.removeListener("change",a),i.push.removeListener("change",u)):f==="denied"?(i.pull.removeListener("denied",_),i.push.removeListener("denied",d)):f==="active"?(i.pull.removeListener("active",w),i.push.removeListener("active",m)):f==="paused"&&(i.pull.removeListener("paused",v),i.push.removeListener("paused",c))}),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));var h=Promise.all([this.push,this.pull]).then(function(f){var l={push:f[0],pull:f[1]};return i.emit("complete",l),r&&r(null,l),i.removeAllListeners(),l},function(f){if(i.cancel(),r?r(f):i.emit("error",f),i.removeAllListeners(),r)throw f});this.then=function(f,l){return h.then(f,l)},this.catch=function(f){return h.catch(f)}}as.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function Mv(t){t.replicate=Ci,t.sync=Fv,Object.defineProperty(t.prototype,"replicate",{get:function(){var e=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(n,r,i){return e.constructor.replicate(n,e,r,i)},to:function(n,r,i){return e.constructor.replicate(e,n,r,i)}}),this.replicateMethods}}),t.prototype.sync=function(e,n,r){return this.constructor.sync(this,e,n,r)}}se.plugin(tv).plugin(cv).plugin(Sv).plugin(Mv);var Iu={exports:{}};/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(d,_){if(!i[d]){if(!r[d]){var c=typeof _dereq_=="function"&&_dereq_;if(!_&&c)return c(d,!0);if(a)return a(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(w){var T=r[d][1][w];return o(T||w)},m,m.exports,n,r,i,s)}return i[d].exports}for(var a=typeof _dereq_=="function"&&_dereq_,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){r.exports=function(s){var o=s._SomePromiseArray;function a(u){var d=new o(u),_=d.promise();return d.setHowMany(1),d.setUnwrap(),d.init(),_}s.any=function(u){return a(u)},s.prototype.any=function(){return a(this)}}},{}],2:[function(n,r,i){var s;try{throw new Error}catch(w){s=w}var o=n("./schedule"),a=n("./queue");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1;var w=this;this.drainQueues=function(){w._drainQueues()},this._schedule=o}u.prototype.setScheduler=function(w){var T=this._schedule;return this._schedule=w,this._customScheduler=!0,T},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(w,T){T?(process.stderr.write("Fatal "+(w instanceof Error?w.stack:w)+`
`),process.exit(2)):this.throwLater(w)},u.prototype.throwLater=function(w,T){if(arguments.length===1&&(T=w,w=function(){throw T}),typeof setTimeout<"u")setTimeout(function(){w(T)},0);else try{this._schedule(function(){w(T)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function d(w,T,y){this._lateQueue.push(w,T,y),this._queueTick()}function _(w,T,y){this._normalQueue.push(w,T,y),this._queueTick()}function c(w){this._normalQueue._pushOne(w),this._queueTick()}u.prototype.invokeLater=d,u.prototype.invoke=_,u.prototype.settlePromises=c;function v(w){for(;w.length()>0;)m(w)}function m(w){var T=w.shift();if(typeof T!="function")T._settlePromises();else{var y=w.shift(),p=w.shift();T.call(y,p)}}u.prototype._drainQueues=function(){v(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,v(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},r.exports=u,r.exports.firstLineError=s},{"./queue":26,"./schedule":29}],3:[function(n,r,i){r.exports=function(s,o,a,u){var d=!1,_=function(w,T){this._reject(T)},c=function(w,T){T.promiseRejectionQueued=!0,T.bindingPromise._then(_,_,null,this,w)},v=function(w,T){this._bitField&50397184||this._resolveCallback(T.target)},m=function(w,T){T.promiseRejectionQueued||this._reject(w)};s.prototype.bind=function(w){d||(d=!0,s.prototype._propagateFrom=u.propagateFromFunction(),s.prototype._boundValue=u.boundValueFunction());var T=a(w),y=new s(o);y._propagateFrom(this,1);var p=this._target();if(y._setBoundTo(T),T instanceof s){var h={promiseRejectionQueued:!1,promise:y,target:p,bindingPromise:T};p._then(o,c,void 0,y,h),T._then(v,m,void 0,y,h),y._setOnCancel(T)}else y._resolveCallback(p);return y},s.prototype._setBoundTo=function(w){w!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=w):this._bitField=this._bitField&-2097153},s.prototype._isBound=function(){return(this._bitField&2097152)===2097152},s.bind=function(w,T){return s.resolve(T).bind(w)}}},{}],4:[function(n,r,i){var s;typeof Promise<"u"&&(s=Promise);function o(){try{Promise===a&&(Promise=s)}catch{}return a}var a=n("./promise")();a.noConflict=o,r.exports=a},{"./promise":22}],5:[function(n,r,i){var s=Object.create;if(s){var o=s(null),a=s(null);o[" size"]=a[" size"]=0}r.exports=function(u){var d=n("./util"),_=d.canEvaluate;d.isIdentifier;var c;function v(y,p){var h;if(y!=null&&(h=y[p]),typeof h!="function"){var f="Object "+d.classString(y)+" has no method '"+d.toString(p)+"'";throw new u.TypeError(f)}return h}function m(y){var p=this.pop(),h=v(y,p);return h.apply(y,this)}u.prototype.call=function(y){var p=[].slice.call(arguments,1);return p.push(y),this._then(m,void 0,void 0,p,void 0)};function w(y){return y[this]}function T(y){var p=+this;return p<0&&(p=Math.max(0,p+y.length)),y[p]}u.prototype.get=function(y){var p=typeof y=="number",h;if(p)h=T;else if(_){var f=c(y);h=f!==null?f:w}else h=w;return this._then(h,void 0,void 0,y,void 0)}}},{"./util":36}],6:[function(n,r,i){r.exports=function(s,o,a,u){var d=n("./util"),_=d.tryCatch,c=d.errorObj,v=s._async;s.prototype.break=s.prototype.cancel=function(){if(!u.cancellation())return this._warn("cancellation is disabled");for(var m=this,w=m;m._isCancellable();){if(!m._cancelBy(w)){w._isFollowing()?w._followee().cancel():w._cancelBranched();break}var T=m._cancellationParent;if(T==null||!T._isCancellable()){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}else m._isFollowing()&&m._followee().cancel(),m._setWillBeCancelled(),w=m,m=T}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(m){return m===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),v.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(m,w){if(d.isArray(m))for(var T=0;T<m.length;++T)this._doInvokeOnCancel(m[T],w);else if(m!==void 0)if(typeof m=="function"){if(!w){var y=_(m).call(this._boundValue());y===c&&(this._attachExtraTrace(y.e),v.throwLater(y.e))}}else m._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var m=this._onCancel();this._unsetOnCancel(),v.invoke(this._doInvokeOnCancel,this,m)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(n,r,i){r.exports=function(s){var o=n("./util"),a=n("./es5").keys,u=o.tryCatch,d=o.errorObj;function _(c,v,m){return function(w){var T=m._boundValue();e:for(var y=0;y<c.length;++y){var p=c[y];if(p===Error||p!=null&&p.prototype instanceof Error){if(w instanceof p)return u(v).call(T,w)}else if(typeof p=="function"){var h=u(p).call(T,w);if(h===d)return h;if(h)return u(v).call(T,w)}else if(o.isObject(w)){for(var f=a(p),l=0;l<f.length;++l){var g=f[l];if(p[g]!=w[g])continue e}return u(v).call(T,w)}}return s}}return _}},{"./es5":13,"./util":36}],8:[function(n,r,i){r.exports=function(s){var o=!1,a=[];s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){};function u(){this._trace=new u.CapturedTrace(_())}u.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,a.push(this._trace))},u.prototype._popContext=function(){if(this._trace!==void 0){var c=a.pop(),v=c._promiseCreated;return c._promiseCreated=null,v}return null};function d(){if(o)return new u}function _(){var c=a.length-1;if(c>=0)return a[c]}return u.CapturedTrace=null,u.create=d,u.deactivateLongStackTraces=function(){},u.activateLongStackTraces=function(){var c=s.prototype._pushContext,v=s.prototype._popContext,m=s._peekContext,w=s.prototype._peekContext,T=s.prototype._promiseCreated;u.deactivateLongStackTraces=function(){s.prototype._pushContext=c,s.prototype._popContext=v,s._peekContext=m,s.prototype._peekContext=w,s.prototype._promiseCreated=T,o=!1},o=!0,s.prototype._pushContext=u.prototype._pushContext,s.prototype._popContext=u.prototype._popContext,s._peekContext=s.prototype._peekContext=_,s.prototype._promiseCreated=function(){var y=this._peekContext();y&&y._promiseCreated==null&&(y._promiseCreated=this)}},u}},{}],9:[function(n,r,i){r.exports=function(s,o,a,u){var d=s._async,_=n("./errors").Warning,c=n("./util"),v=n("./es5"),m=c.canAttachTrace,w,T,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,l=null,g=!1,b,O=c.env("BLUEBIRD_DEBUG")!=0,R=!!(c.env("BLUEBIRD_WARNINGS")!=0&&(O||c.env("BLUEBIRD_WARNINGS"))),$=!!(c.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(O||c.env("BLUEBIRD_LONG_STACK_TRACES"))),N=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(R||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN")),z;(function(){var M=[];function B(){for(var Q=0;Q<M.length;++Q)M[Q]._notifyUnhandledRejection();J()}function J(){M.length=0}z=function(Q){M.push(Q),setTimeout(B,1)},v.defineProperty(s,"_unhandledRejectionCheck",{value:B}),v.defineProperty(s,"_unhandledRejectionClear",{value:J})})(),s.prototype.suppressUnhandledRejections=function(){var M=this._target();M._bitField=M._bitField&-1048577|524288},s.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),z(this))},s.prototype._notifyUnhandledRejectionIsHandled=function(){cs("rejectionHandled",w,void 0,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},s.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var M=this._settledValue();this._setUnhandledRejectionIsNotified(),cs("unhandledRejection",T,M,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},s.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},s.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},s.prototype._warn=function(M,B,J){return te(M,B,J||this)},s.onPossiblyUnhandledRejection=function(M){var B=s._getContext();T=c.contextBind(B,M)},s.onUnhandledRejectionHandled=function(M){var B=s._getContext();w=c.contextBind(B,M)};var K=function(){};s.longStackTraces=function(){if(d.haveItemsQueued()&&!Se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Se.longStackTraces&&$r()){var M=s.prototype._captureStackTrace,B=s.prototype._attachExtraTrace,J=s.prototype._dereferenceTrace;Se.longStackTraces=!0,K=function(){if(d.haveItemsQueued()&&!Se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);s.prototype._captureStackTrace=M,s.prototype._attachExtraTrace=B,s.prototype._dereferenceTrace=J,o.deactivateLongStackTraces(),Se.longStackTraces=!1},s.prototype._captureStackTrace=j,s.prototype._attachExtraTrace=H,s.prototype._dereferenceTrace=V,o.activateLongStackTraces()}},s.hasLongStackTraces=function(){return Se.longStackTraces&&$r()};var U={unhandledrejection:{before:function(){var M=c.global.onunhandledrejection;return c.global.onunhandledrejection=null,M},after:function(M){c.global.onunhandledrejection=M}},rejectionhandled:{before:function(){var M=c.global.onrejectionhandled;return c.global.onrejectionhandled=null,M},after:function(M){c.global.onrejectionhandled=M}}},P=function(){var M=function(J,Q){if(J){var re;try{return re=J.before(),!c.global.dispatchEvent(Q)}finally{J.after(re)}}else return!c.global.dispatchEvent(Q)};try{if(typeof CustomEvent=="function"){var B=new CustomEvent("CustomEvent");return c.global.dispatchEvent(B),function(J,Q){J=J.toLowerCase();var re={detail:Q,cancelable:!0},le=new CustomEvent(J,re);return v.defineProperty(le,"promise",{value:Q.promise}),v.defineProperty(le,"reason",{value:Q.reason}),M(U[J],le)}}else if(typeof Event=="function"){var B=new Event("CustomEvent");return c.global.dispatchEvent(B),function(Q,re){Q=Q.toLowerCase();var le=new Event(Q,{cancelable:!0});return le.detail=re,v.defineProperty(le,"promise",{value:re.promise}),v.defineProperty(le,"reason",{value:re.reason}),M(U[Q],le)}}else{var B=document.createEvent("CustomEvent");return B.initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(B),function(Q,re){Q=Q.toLowerCase();var le=document.createEvent("CustomEvent");return le.initCustomEvent(Q,!1,!0,re),M(U[Q],le)}}}catch{}return function(){return!1}}(),D=function(){return c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(M){var B="on"+M.toLowerCase(),J=c.global[B];return J?(J.apply(c.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function F(M,B){return{promise:B}}var C={promiseCreated:F,promiseFulfilled:F,promiseRejected:F,promiseResolved:F,promiseCancelled:F,promiseChained:function(M,B,J){return{promise:B,child:J}},warning:function(M,B){return{warning:B}},unhandledRejection:function(M,B,J){return{reason:B,promise:J}},rejectionHandled:F},k=function(M){var B=!1;try{B=D.apply(null,arguments)}catch(Q){d.throwLater(Q),B=!0}var J=!1;try{J=P(M,C[M].apply(null,arguments))}catch(Q){d.throwLater(Q),J=!0}return J||B};s.config=function(M){if(M=Object(M),"longStackTraces"in M&&(M.longStackTraces?s.longStackTraces():!M.longStackTraces&&s.hasLongStackTraces()&&K()),"warnings"in M){var B=M.warnings;Se.warnings=!!B,N=Se.warnings,c.isObject(B)&&"wForgottenReturn"in B&&(N=!!B.wForgottenReturn)}if("cancellation"in M&&M.cancellation&&!Se.cancellation){if(d.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=G,s.prototype._propagateFrom=Y,s.prototype._onCancel=q,s.prototype._setOnCancel=A,s.prototype._attachCancellationCallback=I,s.prototype._execute=L,S=Y,Se.cancellation=!0}if("monitoring"in M&&(M.monitoring&&!Se.monitoring?(Se.monitoring=!0,s.prototype._fireEvent=k):!M.monitoring&&Se.monitoring&&(Se.monitoring=!1,s.prototype._fireEvent=x)),"asyncHooks"in M&&c.nodeSupportsAsyncResource){var J=Se.asyncHooks,Q=!!M.asyncHooks;J!==Q&&(Se.asyncHooks=Q,Q?a():u())}return s};function x(){return!1}s.prototype._fireEvent=x,s.prototype._execute=function(M,B,J){try{M(B,J)}catch(Q){return Q}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(M){},s.prototype._attachCancellationCallback=function(M){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._dereferenceTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(M,B){};function L(M,B,J){var Q=this;try{M(B,J,function(re){if(typeof re!="function")throw new TypeError("onCancel must be a function, got: "+c.toString(re));Q._attachCancellationCallback(re)})}catch(re){return re}}function I(M){if(!this._isCancellable())return this;var B=this._onCancel();B!==void 0?c.isArray(B)?B.push(M):this._setOnCancel([B,M]):this._setOnCancel(M)}function q(){return this._onCancelField}function A(M){this._onCancelField=M}function G(){this._cancellationParent=void 0,this._onCancelField=void 0}function Y(M,B){if(B&1){this._cancellationParent=M;var J=M._branchesRemainingToCancel;J===void 0&&(J=0),M._branchesRemainingToCancel=J+1}B&2&&M._isBound()&&this._setBoundTo(M._boundTo)}function Z(M,B){B&2&&M._isBound()&&this._setBoundTo(M._boundTo)}var S=Z;function E(){var M=this._boundTo;return M!==void 0&&M instanceof s?M.isFulfilled()?M.value():void 0:M}function j(){this._trace=new Rt(this._peekContext())}function H(M,B){if(m(M)){var J=this._trace;if(J!==void 0&&B&&(J=J._parent),J!==void 0)J.attachExtraTrace(M);else if(!M.__stackCleaned__){var Q=Gt(M);c.notEnumerableProp(M,"stack",Q.message+`
`+Q.stack.join(`
`)),c.notEnumerableProp(M,"__stackCleaned__",!0)}}}function V(){this._trace=void 0}function W(M,B,J,Q,re){if(M===void 0&&B!==null&&N){if(re!==void 0&&re._returnedNonUndefined()||!(Q._bitField&65535))return;J&&(J=J+" ");var le="",Te="";if(B._trace){for(var ae=B._trace.stack.split(`
`),Ae=Oe(ae),Re=Ae.length-1;Re>=0;--Re){var vt=Ae[Re];if(!p.test(vt)){var _t=vt.match(h);_t&&(le="at "+_t[1]+":"+_t[2]+":"+_t[3]+" ");break}}if(Ae.length>0){for(var Qu=Ae[0],Re=0;Re<ae.length;++Re)if(ae[Re]===Qu){Re>0&&(Te=`
`+ae[Re-1]);break}}}var Ju="a promise was created in a "+J+"handler "+le+"but was not returned from it, see http://goo.gl/rRqMUw"+Te;Q._warn(Ju,!0,B)}}function X(M,B){var J=M+" is deprecated and will be removed in a future version.";return B&&(J+=" Use "+B+" instead."),te(J)}function te(M,B,J){if(Se.warnings){var Q=new _(M),re;if(B)J._attachExtraTrace(Q);else if(Se.longStackTraces&&(re=s._peekContext()))re.attachExtraTrace(Q);else{var le=Gt(Q);Q.stack=le.message+`
`+le.stack.join(`
`)}k("warning",Q)||us(Q,"",!0)}}function oe(M,B){for(var J=0;J<B.length-1;++J)B[J].push("From previous event:"),B[J]=B[J].join(`
`);return J<B.length&&(B[J]=B[J].join(`
`)),M+`
`+B.join(`
`)}function ve(M){for(var B=0;B<M.length;++B)(M[B].length===0||B+1<M.length&&M[B][0]===M[B+1][0])&&(M.splice(B,1),B--)}function he(M){for(var B=M[0],J=1;J<M.length;++J){for(var Q=M[J],re=B.length-1,le=B[re],Te=-1,ae=Q.length-1;ae>=0;--ae)if(Q[ae]===le){Te=ae;break}for(var ae=Te;ae>=0;--ae){var Ae=Q[ae];if(B[re]===Ae)B.pop(),re--;else break}B=Q}}function Oe(M){for(var B=[],J=0;J<M.length;++J){var Q=M[J],re=Q==="    (No stack trace)"||f.test(Q),le=re&&Dr(Q);re&&!le&&(g&&Q.charAt(0)!==" "&&(Q="    "+Q),B.push(Q))}return B}function tt(M){for(var B=M.stack.replace(/\s+$/g,"").split(`
`),J=0;J<B.length;++J){var Q=B[J];if(Q==="    (No stack trace)"||f.test(Q))break}return J>0&&M.name!="SyntaxError"&&(B=B.slice(J)),B}function Gt(M){var B=M.stack,J=M.toString();return B=typeof B=="string"&&B.length>0?tt(M):["    (No stack trace)"],{message:J,stack:M.name=="SyntaxError"?B:Oe(B)}}function us(M,B,J){if(typeof console<"u"){var Q;if(c.isObject(M)){var re=M.stack;Q=B+l(re,M)}else Q=B+String(M);typeof b=="function"?b(Q,J):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Q)}}function cs(M,B,J,Q){var re=!1;try{typeof B=="function"&&(re=!0,M==="rejectionHandled"?B(Q):B(J,Q))}catch(le){d.throwLater(le)}M==="unhandledRejection"?!k(M,J,Q)&&!re&&us(J,"Unhandled rejection "):k(M,Q)}function fs(M){var B;if(typeof M=="function")B="[function "+(M.name||"anonymous")+"]";else{B=M&&typeof M.toString=="function"?M.toString():c.toString(M);var J=/\[object [a-zA-Z0-9$_]+\]/;if(J.test(B))try{var Q=JSON.stringify(M);B=Q}catch{}B.length===0&&(B="(empty array)")}return"(<"+Vu(B)+">, no stack trace)"}function Vu(M){var B=41;return M.length<B?M:M.substr(0,B-3)+"..."}function $r(){return typeof ls=="function"}var Dr=function(){return!1},Ku=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Pr(M){var B=M.match(Ku);if(B)return{fileName:B[1],line:parseInt(B[2],10)}}function Yu(M,B){if($r()){for(var J=(M.stack||"").split(`
`),Q=(B.stack||"").split(`
`),re=-1,le=-1,Te,ae,Ae=0;Ae<J.length;++Ae){var Re=Pr(J[Ae]);if(Re){Te=Re.fileName,re=Re.line;break}}for(var Ae=0;Ae<Q.length;++Ae){var Re=Pr(Q[Ae]);if(Re){ae=Re.fileName,le=Re.line;break}}re<0||le<0||!Te||!ae||Te!==ae||re>=le||(Dr=function(vt){if(y.test(vt))return!0;var _t=Pr(vt);return!!(_t&&_t.fileName===Te&&re<=_t.line&&_t.line<=le)})}}function Rt(M){this._parent=M,this._promisesCreated=0;var B=this._length=1+(M===void 0?0:M._length);ls(this,Rt),B>32&&this.uncycle()}c.inherits(Rt,Error),o.CapturedTrace=Rt,Rt.prototype.uncycle=function(){var M=this._length;if(!(M<2)){for(var B=[],J={},Q=0,re=this;re!==void 0;++Q)B.push(re),re=re._parent;M=this._length=Q;for(var Q=M-1;Q>=0;--Q){var le=B[Q].stack;J[le]===void 0&&(J[le]=Q)}for(var Q=0;Q<M;++Q){var Te=B[Q].stack,ae=J[Te];if(ae!==void 0&&ae!==Q){ae>0&&(B[ae-1]._parent=void 0,B[ae-1]._length=1),B[Q]._parent=void 0,B[Q]._length=1;var Ae=Q>0?B[Q-1]:this;ae<M-1?(Ae._parent=B[ae+1],Ae._parent.uncycle(),Ae._length=Ae._parent._length+1):(Ae._parent=void 0,Ae._length=1);for(var Re=Ae._length+1,vt=Q-2;vt>=0;--vt)B[vt]._length=Re,Re++;return}}}},Rt.prototype.attachExtraTrace=function(M){if(!M.__stackCleaned__){this.uncycle();for(var B=Gt(M),J=B.message,Q=[B.stack],re=this;re!==void 0;)Q.push(Oe(re.stack.split(`
`))),re=re._parent;he(Q),ve(Q),c.notEnumerableProp(M,"stack",oe(J,Q)),c.notEnumerableProp(M,"__stackCleaned__",!0)}};var ls=function(){var B=/^\s*at\s*/,J=function(Te,ae){return typeof Te=="string"?Te:ae.name!==void 0&&ae.message!==void 0?ae.toString():fs(ae)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=B,l=J;var Q=Error.captureStackTrace;return Dr=function(Te){return y.test(Te)},function(Te,ae){Error.stackTraceLimit+=6,Q(Te,ae),Error.stackTraceLimit-=6}}var re=new Error;if(typeof re.stack=="string"&&re.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,l=J,g=!0,function(ae){ae.stack=new Error().stack};var le;try{throw new Error}catch(Te){le="stack"in Te}return!("stack"in re)&&le&&typeof Error.stackTraceLimit=="number"?(f=B,l=J,function(ae){Error.stackTraceLimit+=6;try{throw new Error}catch(Ae){ae.stack=Ae.stack}Error.stackTraceLimit-=6}):(l=function(Te,ae){return typeof Te=="string"?Te:(typeof ae=="object"||typeof ae=="function")&&ae.name!==void 0&&ae.message!==void 0?ae.toString():fs(ae)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(b=function(M){console.warn(M)},c.isNode&&process.stderr.isTTY?b=function(M,B){var J=B?"\x1B[33m":"\x1B[31m";console.warn(J+M+`\x1B[0m
`)}:!c.isNode&&typeof new Error().stack=="string"&&(b=function(M,B){console.warn("%c"+M,B?"color: darkorange":"color: red")}));var Se={warnings:R,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return $&&s.longStackTraces(),{asyncHooks:function(){return Se.asyncHooks},longStackTraces:function(){return Se.longStackTraces},warnings:function(){return Se.warnings},cancellation:function(){return Se.cancellation},monitoring:function(){return Se.monitoring},propagateFromFunction:function(){return S},boundValueFunction:function(){return E},checkForgottenReturns:W,setBounds:Yu,warn:te,deprecated:X,CapturedTrace:Rt,fireDomEvent:P,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(n,r,i){r.exports=function(s){function o(){return this.value}function a(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(u){return u instanceof s&&u.suppressUnhandledRejections(),this._then(o,void 0,void 0,{value:u},void 0)},s.prototype.throw=s.prototype.thenThrow=function(u){return this._then(a,void 0,void 0,{reason:u},void 0)},s.prototype.catchThrow=function(u){if(arguments.length<=1)return this._then(void 0,a,void 0,{reason:u},void 0);var d=arguments[1],_=function(){throw d};return this.caught(u,_)},s.prototype.catchReturn=function(u){if(arguments.length<=1)return u instanceof s&&u.suppressUnhandledRejections(),this._then(void 0,o,void 0,{value:u},void 0);var d=arguments[1];d instanceof s&&d.suppressUnhandledRejections();var _=function(){return d};return this.caught(u,_)}}},{}],11:[function(n,r,i){r.exports=function(s,o){var a=s.reduce,u=s.all;function d(){return u(this)}function _(c,v){return a(c,v,o,o)}s.prototype.each=function(c){return a(this,c,o,0)._then(d,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(c){return a(this,c,o,o)},s.each=function(c,v){return a(c,v,o,0)._then(d,void 0,void 0,c,void 0)},s.mapSeries=_}},{}],12:[function(n,r,i){var s=n("./es5"),o=s.freeze,a=n("./util"),u=a.inherits,d=a.notEnumerableProp;function _(b,O){function R($){if(!(this instanceof R))return new R($);d(this,"message",typeof $=="string"?$:O),d(this,"name",b),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(R,Error),R}var c,v,m=_("Warning","warning"),w=_("CancellationError","cancellation error"),T=_("TimeoutError","timeout error"),y=_("AggregateError","aggregate error");try{c=TypeError,v=RangeError}catch{c=_("TypeError","type error"),v=_("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),h=0;h<p.length;++h)typeof Array.prototype[p[h]]=="function"&&(y.prototype[p[h]]=Array.prototype[p[h]]);s.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var f=0;y.prototype.toString=function(){var b=Array(f*4+1).join(" "),O=`
`+b+`AggregateError of:
`;f++,b=Array(f*4+1).join(" ");for(var R=0;R<this.length;++R){for(var $=this[R]===this?"[Circular AggregateError]":this[R]+"",N=$.split(`
`),z=0;z<N.length;++z)N[z]=b+N[z];$=N.join(`
`),O+=$+`
`}return f--,O};function l(b){if(!(this instanceof l))return new l(b);d(this,"name","OperationalError"),d(this,"message",b),this.cause=b,this.isOperational=!0,b instanceof Error?(d(this,"message",b.message),d(this,"stack",b.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}u(l,Error);var g=Error.__BluebirdErrorTypes__;g||(g=o({CancellationError:w,TimeoutError:T,OperationalError:l,RejectionError:l,AggregateError:y}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),r.exports={Error,TypeError:c,RangeError:v,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(n,r,i){var s=function(){return this===void 0}();if(s)r.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(T,y){var p=Object.getOwnPropertyDescriptor(T,y);return!!(!p||p.writable||p.set)}};else{var o={}.hasOwnProperty,a={}.toString,u={}.constructor.prototype,d=function(T){var y=[];for(var p in T)o.call(T,p)&&y.push(p);return y},_=function(T,y){return{value:T[y]}},c=function(T,y,p){return T[y]=p.value,T},v=function(T){return T},m=function(T){try{return Object(T).constructor.prototype}catch{return u}},w=function(T){try{return a.call(T)==="[object Array]"}catch{return!1}};r.exports={isArray:w,keys:d,names:d,defineProperty:c,getDescriptor:_,freeze:v,getPrototypeOf:m,isES5:s,propertyIsWritable:function(){return!0}}}},{}],14:[function(n,r,i){r.exports=function(s,o){var a=s.map;s.prototype.filter=function(u,d){return a(this,u,d,o)},s.filter=function(u,d,_){return a(u,d,_,o)}}},{}],15:[function(n,r,i){r.exports=function(s,o,a){var u=n("./util"),d=s.CancellationError,_=u.errorObj,c=n("./catch_filter")(a);function v(h,f,l){this.promise=h,this.type=f,this.handler=l,this.called=!1,this.cancelPromise=null}v.prototype.isFinallyHandler=function(){return this.type===0};function m(h){this.finallyHandler=h}m.prototype._resultCancelled=function(){w(this.finallyHandler)};function w(h,f){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(f):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function T(){return p.call(this,this.promise._target()._settledValue())}function y(h){if(!w(this,h))return _.e=h,_}function p(h){var f=this.promise,l=this.handler;if(!this.called){this.called=!0;var g=this.isFinallyHandler()?l.call(f._boundValue()):l.call(f._boundValue(),h);if(g===a)return g;if(g!==void 0){f._setReturnedNonUndefined();var b=o(g,f);if(b instanceof s){if(this.cancelPromise!=null)if(b._isCancelled()){var O=new d("late cancellation observer");return f._attachExtraTrace(O),_.e=O,_}else b.isPending()&&b._attachCancellationCallback(new m(this));return b._then(T,y,void 0,this,void 0)}}}return f.isRejected()?(w(this),_.e=h,_):(w(this),h)}return s.prototype._passThrough=function(h,f,l,g){return typeof h!="function"?this.then():this._then(l,g,void 0,new v(this,f,h),void 0)},s.prototype.lastly=s.prototype.finally=function(h){return this._passThrough(h,0,p,p)},s.prototype.tap=function(h){return this._passThrough(h,1,p)},s.prototype.tapCatch=function(h){var f=arguments.length;if(f===1)return this._passThrough(h,1,void 0,p);var l=new Array(f-1),g=0,b;for(b=0;b<f-1;++b){var O=arguments[b];if(u.isObject(O))l[g++]=O;else return s.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(O)))}l.length=g;var R=arguments[b];return this._passThrough(c(l,R,this),1,void 0,p)},v}},{"./catch_filter":7,"./util":36}],16:[function(n,r,i){r.exports=function(s,o,a,u,d,_){var c=n("./errors"),v=c.TypeError,m=n("./util"),w=m.errorObj,T=m.tryCatch,y=[];function p(f,l,g){for(var b=0;b<l.length;++b){g._pushContext();var O=T(l[b])(f);if(g._popContext(),O===w){g._pushContext();var R=s.reject(w.e);return g._popContext(),R}var $=u(O,g);if($ instanceof s)return $}return null}function h(f,l,g,b){if(_.cancellation()){var O=new s(a),R=this._finallyPromise=new s(a);this._promise=O.lastly(function(){return R}),O._captureStackTrace(),O._setOnCancel(this)}else{var $=this._promise=new s(a);$._captureStackTrace()}this._stack=b,this._generatorFunction=f,this._receiver=l,this._generator=void 0,this._yieldHandlers=typeof g=="function"?[g].concat(y):y,this._yieldedPromise=null,this._cancellationPhase=!1}m.inherits(h,d),h.prototype._isResolved=function(){return this._promise===null},h.prototype._cleanup=function(){this._promise=this._generator=null,_.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var f=typeof this._generator.return<"u",l;if(f)this._promise._pushContext(),l=T(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var g=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=g,this._promise._attachExtraTrace(g),this._promise._pushContext(),l=T(this._generator.throw).call(this._generator,g),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(l)}},h.prototype._promiseFulfilled=function(f){this._yieldedPromise=null,this._promise._pushContext();var l=T(this._generator.next).call(this._generator,f);this._promise._popContext(),this._continue(l)},h.prototype._promiseRejected=function(f){this._yieldedPromise=null,this._promise._attachExtraTrace(f),this._promise._pushContext();var l=T(this._generator.throw).call(this._generator,f);this._promise._popContext(),this._continue(l)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var f=this._yieldedPromise;this._yieldedPromise=null,f.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(f){var l=this._promise;if(f===w)return this._cleanup(),this._cancellationPhase?l.cancel():l._rejectCallback(f.e,!1);var g=f.value;if(f.done===!0)return this._cleanup(),this._cancellationPhase?l.cancel():l._resolveCallback(g);var b=u(g,this._promise);if(!(b instanceof s)&&(b=p(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new v(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(g))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var O=b._bitField;O&50397184?O&33554432?s._async.invoke(this._promiseFulfilled,this,b._value()):O&16777216?s._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled():(this._yieldedPromise=b,b._proxy(this,null))},s.coroutine=function(f,l){if(typeof f!="function")throw new v(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=Object(l).yieldHandler,b=h,O=new Error().stack;return function(){var R=f.apply(this,arguments),$=new b(void 0,void 0,g,O),N=$.promise();return $._generator=R,$._promiseFulfilled(void 0),N}},s.coroutine.addYieldHandler=function(f){if(typeof f!="function")throw new v("expecting a function but got "+m.classString(f));y.push(f)},s.spawn=function(f){if(_.deprecated("Promise.spawn()","Promise.coroutine()"),typeof f!="function")return o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var l=new h(f,this),g=l.promise();return l._run(s.spawn),g}}},{"./errors":12,"./util":36}],17:[function(n,r,i){r.exports=function(s,o,a,u,d){var _=n("./util");_.canEvaluate,_.tryCatch,_.errorObj,s.join=function(){var c=arguments.length-1,v;if(c>0&&typeof arguments[c]=="function"){v=arguments[c];var w}var m=[].slice.call(arguments);v&&m.pop();var w=new o(m).promise();return v!==void 0?w.spread(v):w}}},{"./util":36}],18:[function(n,r,i){r.exports=function(s,o,a,u,d,_){var c=n("./util"),v=c.tryCatch,m=c.errorObj,w=s._async;function T(p,h,f,l){this.constructor$(p),this._promise._captureStackTrace();var g=s._getContext();if(this._callback=c.contextBind(g,h),this._preservedValues=l===d?new Array(this.length()):null,this._limit=f,this._inFlight=0,this._queue=[],w.invoke(this._asyncInit,this,void 0),c.isArray(p))for(var b=0;b<p.length;++b){var O=p[b];O instanceof s&&O.suppressUnhandledRejections()}}c.inherits(T,o),T.prototype._asyncInit=function(){this._init$(void 0,-2)},T.prototype._init=function(){},T.prototype._promiseFulfilled=function(p,h){var f=this._values,l=this.length(),g=this._preservedValues,b=this._limit;if(h<0){if(h=h*-1-1,f[h]=p,b>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(b>=1&&this._inFlight>=b)return f[h]=p,this._queue.push(h),!1;g!==null&&(g[h]=p);var O=this._promise,R=this._callback,$=O._boundValue();O._pushContext();var N=v(R).call($,p,h,l),z=O._popContext();if(_.checkForgottenReturns(N,z,g!==null?"Promise.filter":"Promise.map",O),N===m)return this._reject(N.e),!0;var K=u(N,this._promise);if(K instanceof s){K=K._target();var U=K._bitField;if(U&50397184)if(U&33554432)N=K._value();else return U&16777216?(this._reject(K._reason()),!0):(this._cancel(),!0);else return b>=1&&this._inFlight++,f[h]=K,K._proxy(this,(h+1)*-1),!1}f[h]=N}var P=++this._totalResolved;return P>=l?(g!==null?this._filter(f,g):this._resolve(f),!0):!1},T.prototype._drainQueue=function(){for(var p=this._queue,h=this._limit,f=this._values;p.length>0&&this._inFlight<h;){if(this._isResolved())return;var l=p.pop();this._promiseFulfilled(f[l],l)}},T.prototype._filter=function(p,h){for(var f=h.length,l=new Array(f),g=0,b=0;b<f;++b)p[b]&&(l[g++]=h[b]);l.length=g,this._resolve(l)},T.prototype.preservedValues=function(){return this._preservedValues};function y(p,h,f,l){if(typeof h!="function")return a("expecting a function but got "+c.classString(h));var g=0;if(f!==void 0)if(typeof f=="object"&&f!==null){if(typeof f.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(f.concurrency)));g=f.concurrency}else return s.reject(new TypeError("options argument must be an object but it is "+c.classString(f)));return g=typeof g=="number"&&isFinite(g)&&g>=1?g:0,new T(p,h,g,l).promise()}s.prototype.map=function(p,h){return y(this,p,h,null)},s.map=function(p,h,f,l){return y(p,h,f,l)}}},{"./util":36}],19:[function(n,r,i){r.exports=function(s,o,a,u,d){var _=n("./util"),c=_.tryCatch;s.method=function(v){if(typeof v!="function")throw new s.TypeError("expecting a function but got "+_.classString(v));return function(){var m=new s(o);m._captureStackTrace(),m._pushContext();var w=c(v).apply(this,arguments),T=m._popContext();return d.checkForgottenReturns(w,T,"Promise.method",m),m._resolveFromSyncValue(w),m}},s.attempt=s.try=function(v){if(typeof v!="function")return u("expecting a function but got "+_.classString(v));var m=new s(o);m._captureStackTrace(),m._pushContext();var w;if(arguments.length>1){d.deprecated("calling Promise.try with more than 1 argument");var T=arguments[1],y=arguments[2];w=_.isArray(T)?c(v).apply(y,T):c(v).call(y,T)}else w=c(v)();var p=m._popContext();return d.checkForgottenReturns(w,p,"Promise.try",m),m._resolveFromSyncValue(w),m},s.prototype._resolveFromSyncValue=function(v){v===_.errorObj?this._rejectCallback(v.e,!1):this._resolveCallback(v,!0)}}},{"./util":36}],20:[function(n,r,i){var s=n("./util"),o=s.maybeWrapAsError,a=n("./errors"),u=a.OperationalError,d=n("./es5");function _(w){return w instanceof Error&&d.getPrototypeOf(w)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function v(w){var T;if(_(w)){T=new u(w),T.name=w.name,T.message=w.message,T.stack=w.stack;for(var y=d.keys(w),p=0;p<y.length;++p){var h=y[p];c.test(h)||(T[h]=w[h])}return T}return s.markAsOriginatingFromRejection(w),w}function m(w,T){return function(y,p){if(w!==null){if(y){var h=v(o(y));w._attachExtraTrace(h),w._reject(h)}else if(!T)w._fulfill(p);else{var f=[].slice.call(arguments,1);w._fulfill(f)}w=null}}}r.exports=m},{"./errors":12,"./es5":13,"./util":36}],21:[function(n,r,i){r.exports=function(s){var o=n("./util"),a=s._async,u=o.tryCatch,d=o.errorObj;function _(m,w){var T=this;if(!o.isArray(m))return c.call(T,m,w);var y=u(w).apply(T._boundValue(),[null].concat(m));y===d&&a.throwLater(y.e)}function c(m,w){var T=this,y=T._boundValue(),p=m===void 0?u(w).call(y,null):u(w).call(y,null,m);p===d&&a.throwLater(p.e)}function v(m,w){var T=this;if(!m){var y=new Error(m+"");y.cause=m,m=y}var p=u(w).call(T._boundValue(),m);p===d&&a.throwLater(p.e)}s.prototype.asCallback=s.prototype.nodeify=function(m,w){if(typeof m=="function"){var T=c;w!==void 0&&Object(w).spread&&(T=_),this._then(T,v,void 0,this,m)}return this}}},{"./util":36}],22:[function(n,r,i){r.exports=function(){var s=function(){return new O(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},o=function(){return new A.PromiseInspection(this._target())},a=function(S){return A.reject(new O(S))};function u(){}var d={},_=n("./util");_.setReflectHandler(o);var c=function(){var S=process.domain;return S===void 0?null:S},v=function(){return null},m=function(){return{domain:c(),async:null}},w=_.isNode&&_.nodeSupportsAsyncResource?n("async_hooks").AsyncResource:null,T=function(){return{domain:c(),async:new w("Bluebird::Promise")}},y=_.isNode?m:v;_.notEnumerableProp(A,"_getContext",y);var p=function(){y=T,_.notEnumerableProp(A,"_getContext",T)},h=function(){y=m,_.notEnumerableProp(A,"_getContext",m)},f=n("./es5"),l=n("./async"),g=new l;f.defineProperty(A,"_async",{value:g});var b=n("./errors"),O=A.TypeError=b.TypeError;A.RangeError=b.RangeError;var R=A.CancellationError=b.CancellationError;A.TimeoutError=b.TimeoutError,A.OperationalError=b.OperationalError,A.RejectionError=b.OperationalError,A.AggregateError=b.AggregateError;var $=function(){},N={},z={},K=n("./thenables")(A,$),U=n("./promise_array")(A,$,K,a,u),P=n("./context")(A),D=P.create,F=n("./debuggability")(A,P,p,h);F.CapturedTrace;var C=n("./finally")(A,K,z),k=n("./catch_filter")(z),x=n("./nodeback"),L=_.errorObj,I=_.tryCatch;function q(S,E){if(S==null||S.constructor!==A)throw new O(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof E!="function")throw new O("expecting a function but got "+_.classString(E))}function A(S){S!==$&&q(this,S),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(S),this._promiseCreated(),this._fireEvent("promiseCreated",this)}A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(S){var E=arguments.length;if(E>1){var j=new Array(E-1),H=0,V;for(V=0;V<E-1;++V){var W=arguments[V];if(_.isObject(W))j[H++]=W;else return a("Catch statement predicate: expecting an object but got "+_.classString(W))}if(j.length=H,S=arguments[V],typeof S!="function")throw new O("The last argument to .catch() must be a function, got "+_.toString(S));return this.then(void 0,k(j,S,this))}return this.then(void 0,S)},A.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},A.prototype.then=function(S,E){if(F.warnings()&&arguments.length>0&&typeof S!="function"&&typeof E!="function"){var j=".then() only accepts functions but was passed: "+_.classString(S);arguments.length>1&&(j+=", "+_.classString(E)),this._warn(j)}return this._then(S,E,void 0,void 0,void 0)},A.prototype.done=function(S,E){var j=this._then(S,E,void 0,void 0,void 0);j._setIsFinal()},A.prototype.spread=function(S){return typeof S!="function"?a("expecting a function but got "+_.classString(S)):this.all()._then(S,void 0,void 0,N,void 0)},A.prototype.toJSON=function(){var S={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(S.fulfillmentValue=this.value(),S.isFulfilled=!0):this.isRejected()&&(S.rejectionReason=this.reason(),S.isRejected=!0),S},A.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new U(this).promise()},A.prototype.error=function(S){return this.caught(_.originatesFromRejection,S)},A.getNewLibraryCopy=r.exports,A.is=function(S){return S instanceof A},A.fromNode=A.fromCallback=function(S){var E=new A($);E._captureStackTrace();var j=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,H=I(S)(x(E,j));return H===L&&E._rejectCallback(H.e,!0),E._isFateSealed()||E._setAsyncGuaranteed(),E},A.all=function(S){return new U(S).promise()},A.cast=function(S){var E=K(S);return E instanceof A||(E=new A($),E._captureStackTrace(),E._setFulfilled(),E._rejectionHandler0=S),E},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(S){var E=new A($);return E._captureStackTrace(),E._rejectCallback(S,!0),E},A.setScheduler=function(S){if(typeof S!="function")throw new O("expecting a function but got "+_.classString(S));return g.setScheduler(S)},A.prototype._then=function(S,E,j,H,V){var W=V!==void 0,X=W?V:new A($),te=this._target(),oe=te._bitField;W||(X._propagateFrom(this,3),X._captureStackTrace(),H===void 0&&this._bitField&2097152&&(oe&50397184?H=this._boundValue():H=te===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,X));var ve=y();if(oe&50397184){var he,Oe,tt=te._settlePromiseCtx;oe&33554432?(Oe=te._rejectionHandler0,he=S):oe&16777216?(Oe=te._fulfillmentHandler0,he=E,te._unsetRejectionIsUnhandled()):(tt=te._settlePromiseLateCancellationObserver,Oe=new R("late cancellation observer"),te._attachExtraTrace(Oe),he=E),g.invoke(tt,te,{handler:_.contextBind(ve,he),promise:X,receiver:H,value:Oe})}else te._addCallbacks(S,E,X,H,ve);return X},A.prototype._length=function(){return this._bitField&65535},A.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},A.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},A.prototype._setLength=function(S){this._bitField=this._bitField&-65536|S&65535},A.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},A.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},A.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},A.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},A.prototype._isFinal=function(){return(this._bitField&4194304)>0},A.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},A.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},A.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},A.prototype._setAsyncGuaranteed=function(){if(!g.hasCustomScheduler()){var S=this._bitField;this._bitField=S|(S&536870912)>>2^134217728}},A.prototype._setNoAsyncGuarantee=function(){this._bitField=(this._bitField|536870912)&-134217729},A.prototype._receiverAt=function(S){var E=S===0?this._receiver0:this[S*4-4+3];if(E!==d)return E===void 0&&this._isBound()?this._boundValue():E},A.prototype._promiseAt=function(S){return this[S*4-4+2]},A.prototype._fulfillmentHandlerAt=function(S){return this[S*4-4+0]},A.prototype._rejectionHandlerAt=function(S){return this[S*4-4+1]},A.prototype._boundValue=function(){},A.prototype._migrateCallback0=function(S){S._bitField;var E=S._fulfillmentHandler0,j=S._rejectionHandler0,H=S._promise0,V=S._receiverAt(0);V===void 0&&(V=d),this._addCallbacks(E,j,H,V,null)},A.prototype._migrateCallbackAt=function(S,E){var j=S._fulfillmentHandlerAt(E),H=S._rejectionHandlerAt(E),V=S._promiseAt(E),W=S._receiverAt(E);W===void 0&&(W=d),this._addCallbacks(j,H,V,W,null)},A.prototype._addCallbacks=function(S,E,j,H,V){var W=this._length();if(W>=65535-4&&(W=0,this._setLength(0)),W===0)this._promise0=j,this._receiver0=H,typeof S=="function"&&(this._fulfillmentHandler0=_.contextBind(V,S)),typeof E=="function"&&(this._rejectionHandler0=_.contextBind(V,E));else{var X=W*4-4;this[X+2]=j,this[X+3]=H,typeof S=="function"&&(this[X+0]=_.contextBind(V,S)),typeof E=="function"&&(this[X+1]=_.contextBind(V,E))}return this._setLength(W+1),W},A.prototype._proxy=function(S,E){this._addCallbacks(void 0,void 0,E,S,null)},A.prototype._resolveCallback=function(S,E){if(!(this._bitField&117506048)){if(S===this)return this._rejectCallback(s(),!1);var j=K(S,this);if(!(j instanceof A))return this._fulfill(S);E&&this._propagateFrom(j,2);var H=j._target();if(H===this){this._reject(s());return}var V=H._bitField;if(V&50397184)if(V&33554432)this._fulfill(H._value());else if(V&16777216)this._reject(H._reason());else{var te=new R("late cancellation observer");H._attachExtraTrace(te),this._reject(te)}else{var W=this._length();W>0&&H._migrateCallback0(this);for(var X=1;X<W;++X)H._migrateCallbackAt(this,X);this._setFollowing(),this._setLength(0),this._setFollowee(j)}}},A.prototype._rejectCallback=function(S,E,j){var H=_.ensureErrorObject(S),V=H===S;if(!V&&!j&&F.warnings()){var W="a promise was rejected with a non-error: "+_.classString(S);this._warn(W,!0)}this._attachExtraTrace(H,E?V:!1),this._reject(S)},A.prototype._resolveFromExecutor=function(S){if(S!==$){var E=this;this._captureStackTrace(),this._pushContext();var j=!0,H=this._execute(S,function(V){E._resolveCallback(V)},function(V){E._rejectCallback(V,j)});j=!1,this._popContext(),H!==void 0&&E._rejectCallback(H,!0)}},A.prototype._settlePromiseFromHandler=function(S,E,j,H){var V=H._bitField;if(!(V&65536)){H._pushContext();var W;E===N?!j||typeof j.length!="number"?(W=L,W.e=new O("cannot .spread() a non-array: "+_.classString(j))):W=I(S).apply(this._boundValue(),j):W=I(S).call(E,j);var X=H._popContext();V=H._bitField,!(V&65536)&&(W===z?H._reject(j):W===L?H._rejectCallback(W.e,!1):(F.checkForgottenReturns(W,X,"",H,this),H._resolveCallback(W)))}},A.prototype._target=function(){for(var S=this;S._isFollowing();)S=S._followee();return S},A.prototype._followee=function(){return this._rejectionHandler0},A.prototype._setFollowee=function(S){this._rejectionHandler0=S},A.prototype._settlePromise=function(S,E,j,H){var V=S instanceof A,W=this._bitField,X=(W&134217728)!==0;W&65536?(V&&S._invokeInternalOnCancel(),j instanceof C&&j.isFinallyHandler()?(j.cancelPromise=S,I(E).call(j,H)===L&&S._reject(L.e)):E===o?S._fulfill(o.call(j)):j instanceof u?j._promiseCancelled(S):V||S instanceof U?S._cancel():j.cancel()):typeof E=="function"?V?(X&&S._setAsyncGuaranteed(),this._settlePromiseFromHandler(E,j,H,S)):E.call(j,H,S):j instanceof u?j._isResolved()||(W&33554432?j._promiseFulfilled(H,S):j._promiseRejected(H,S)):V&&(X&&S._setAsyncGuaranteed(),W&33554432?S._fulfill(H):S._reject(H))},A.prototype._settlePromiseLateCancellationObserver=function(S){var E=S.handler,j=S.promise,H=S.receiver,V=S.value;typeof E=="function"?j instanceof A?this._settlePromiseFromHandler(E,H,V,j):E.call(H,V,j):j instanceof A&&j._reject(V)},A.prototype._settlePromiseCtx=function(S){this._settlePromise(S.promise,S.handler,S.receiver,S.value)},A.prototype._settlePromise0=function(S,E,j){var H=this._promise0,V=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(H,S,V,E)},A.prototype._clearCallbackDataAtIndex=function(S){var E=S*4-4;this[E+2]=this[E+3]=this[E+0]=this[E+1]=void 0},A.prototype._fulfill=function(S){var E=this._bitField;if(!((E&117506048)>>>16)){if(S===this){var j=s();return this._attachExtraTrace(j),this._reject(j)}this._setFulfilled(),this._rejectionHandler0=S,(E&65535)>0&&(E&134217728?this._settlePromises():g.settlePromises(this),this._dereferenceTrace())}},A.prototype._reject=function(S){var E=this._bitField;if(!((E&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=S,this._isFinal())return g.fatalError(S,_.isNode);(E&65535)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled()}},A.prototype._fulfillPromises=function(S,E){for(var j=1;j<S;j++){var H=this._fulfillmentHandlerAt(j),V=this._promiseAt(j),W=this._receiverAt(j);this._clearCallbackDataAtIndex(j),this._settlePromise(V,H,W,E)}},A.prototype._rejectPromises=function(S,E){for(var j=1;j<S;j++){var H=this._rejectionHandlerAt(j),V=this._promiseAt(j),W=this._receiverAt(j);this._clearCallbackDataAtIndex(j),this._settlePromise(V,H,W,E)}},A.prototype._settlePromises=function(){var S=this._bitField,E=S&65535;if(E>0){if(S&16842752){var j=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,j,S),this._rejectPromises(E,j)}else{var H=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,H,S),this._fulfillPromises(E,H)}this._setLength(0)}this._clearCancellationData()},A.prototype._settledValue=function(){var S=this._bitField;if(S&33554432)return this._rejectionHandler0;if(S&16777216)return this._fulfillmentHandler0},typeof Symbol<"u"&&Symbol.toStringTag&&f.defineProperty(A.prototype,Symbol.toStringTag,{get:function(){return"Object"}});function G(S){this.promise._resolveCallback(S)}function Y(S){this.promise._rejectCallback(S,!1)}A.defer=A.pending=function(){F.deprecated("Promise.defer","new Promise");var S=new A($);return{promise:S,resolve:G,reject:Y}},_.notEnumerableProp(A,"_makeSelfResolutionError",s),n("./method")(A,$,K,a,F),n("./bind")(A,$,K,F),n("./cancel")(A,U,a,F),n("./direct_resolve")(A),n("./synchronous_inspection")(A),n("./join")(A,U,K,$,g),A.Promise=A,A.version="3.7.2",n("./call_get.js")(A),n("./generators.js")(A,a,$,K,u,F),n("./map.js")(A,U,a,K,$,F),n("./nodeify.js")(A),n("./promisify.js")(A,$),n("./props.js")(A,U,K,a),n("./race.js")(A,$,K,a),n("./reduce.js")(A,U,a,K,$,F),n("./settle.js")(A,U,F),n("./some.js")(A,U,a),n("./timers.js")(A,$,F),n("./using.js")(A,a,K,D,$,F),n("./any.js")(A),n("./each.js")(A,$),n("./filter.js")(A,$),_.toFastProperties(A),_.toFastProperties(A.prototype);function Z(S){var E=new A($);E._fulfillmentHandler0=S,E._rejectionHandler0=S,E._promise0=S,E._receiver0=S}return Z({a:1}),Z({b:2}),Z({c:3}),Z(1),Z(function(){}),Z(void 0),Z(!1),Z(new A($)),F.setBounds(l.firstLineError,_.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(n,r,i){r.exports=function(s,o,a,u,d){var _=n("./util");_.isArray;function c(m){switch(m){case-2:return[];case-3:return{};case-6:return new Map}}function v(m){var w=this._promise=new s(o);m instanceof s&&(w._propagateFrom(m,3),m.suppressUnhandledRejections()),w._setOnCancel(this),this._values=m,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return _.inherits(v,d),v.prototype.length=function(){return this._length},v.prototype.promise=function(){return this._promise},v.prototype._init=function m(w,T){var y=a(this._values,this._promise);if(y instanceof s){y=y._target();var p=y._bitField;if(this._values=y,p&50397184)if(p&33554432)y=y._value();else return p&16777216?this._reject(y._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),y._then(m,this._reject,void 0,this,T)}if(y=_.asArray(y),y===null){var h=u("expecting an array or an iterable object but got "+_.classString(y)).reason();this._promise._rejectCallback(h,!1);return}if(y.length===0){T===-5?this._resolveEmptyArray():this._resolve(c(T));return}this._iterate(y)},v.prototype._iterate=function(m){var w=this.getActualLength(m.length);this._length=w,this._values=this.shouldCopyValues()?new Array(w):this._values;for(var T=this._promise,y=!1,p=null,h=0;h<w;++h){var f=a(m[h],T);f instanceof s?(f=f._target(),p=f._bitField):p=null,y?p!==null&&f.suppressUnhandledRejections():p!==null?p&50397184?p&33554432?y=this._promiseFulfilled(f._value(),h):p&16777216?y=this._promiseRejected(f._reason(),h):y=this._promiseCancelled(h):(f._proxy(this,h),this._values[h]=f):y=this._promiseFulfilled(f,h)}y||T._setAsyncGuaranteed()},v.prototype._isResolved=function(){return this._values===null},v.prototype._resolve=function(m){this._values=null,this._promise._fulfill(m)},v.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},v.prototype._reject=function(m){this._values=null,this._promise._rejectCallback(m,!1)},v.prototype._promiseFulfilled=function(m,w){this._values[w]=m;var T=++this._totalResolved;return T>=this._length?(this._resolve(this._values),!0):!1},v.prototype._promiseCancelled=function(){return this._cancel(),!0},v.prototype._promiseRejected=function(m){return this._totalResolved++,this._reject(m),!0},v.prototype._resultCancelled=function(){if(!this._isResolved()){var m=this._values;if(this._cancel(),m instanceof s)m.cancel();else for(var w=0;w<m.length;++w)m[w]instanceof s&&m[w].cancel()}},v.prototype.shouldCopyValues=function(){return!0},v.prototype.getActualLength=function(m){return m},v}},{"./util":36}],24:[function(n,r,i){r.exports=function(s,o){var a={},u=n("./util"),d=n("./nodeback"),_=u.withAppended,c=u.maybeWrapAsError,v=u.canEvaluate,m=n("./errors").TypeError,w="Async",T={__isPromisified__:!0},y=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+y.join("|")+")$"),h=function(P){return u.isIdentifier(P)&&P.charAt(0)!=="_"&&P!=="constructor"};function f(P){return!p.test(P)}function l(P){try{return P.__isPromisified__===!0}catch{return!1}}function g(P,D,F){var C=u.getDataPropertyOrDefault(P,D+F,T);return C?l(C):!1}function b(P,D,F){for(var C=0;C<P.length;C+=2){var k=P[C];if(F.test(k)){for(var x=k.replace(F,""),L=0;L<P.length;L+=2)if(P[L]===x)throw new m(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",D))}}}function O(P,D,F,C){for(var k=u.inheritedDataKeys(P),x=[],L=0;L<k.length;++L){var I=k[L],q=P[I],A=C===h?!0:h(I);typeof q=="function"&&!l(q)&&!g(P,I,D)&&C(I,q,P,A)&&x.push(I,q)}return b(x,D,F),x}var R=function(P){return P.replace(/([$])/,"\\$")},$;function N(P,D,F,C,k,x){var L=function(){return this}(),I=P;typeof I=="string"&&(P=C);function q(){var A=D;D===a&&(A=this);var G=new s(o);G._captureStackTrace();var Y=typeof I=="string"&&this!==L?this[I]:P,Z=d(G,x);try{Y.apply(A,_(arguments,Z))}catch(S){G._rejectCallback(c(S),!0,!0)}return G._isFateSealed()||G._setAsyncGuaranteed(),G}return u.notEnumerableProp(q,"__isPromisified__",!0),q}var z=v?$:N;function K(P,D,F,C,k){for(var x=new RegExp(R(D)+"$"),L=O(P,D,x,F),I=0,q=L.length;I<q;I+=2){var A=L[I],G=L[I+1],Y=A+D;if(C===z)P[Y]=z(A,a,A,G,D,k);else{var Z=C(G,function(){return z(A,a,A,G,D,k)});u.notEnumerableProp(Z,"__isPromisified__",!0),P[Y]=Z}}return u.toFastProperties(P),P}function U(P,D,F){return z(P,D,void 0,P,null,F)}s.promisify=function(P,D){if(typeof P!="function")throw new m("expecting a function but got "+u.classString(P));if(l(P))return P;D=Object(D);var F=D.context===void 0?a:D.context,C=!!D.multiArgs,k=U(P,F,C);return u.copyDescriptors(P,k,f),k},s.promisifyAll=function(P,D){if(typeof P!="function"&&typeof P!="object")throw new m(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);D=Object(D);var F=!!D.multiArgs,C=D.suffix;typeof C!="string"&&(C=w);var k=D.filter;typeof k!="function"&&(k=h);var x=D.promisifier;if(typeof x!="function"&&(x=z),!u.isIdentifier(C))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var L=u.inheritedDataKeys(P),I=0;I<L.length;++I){var q=P[L[I]];L[I]!=="constructor"&&u.isClass(q)&&(K(q.prototype,C,k,x,F),K(q,C,k,x,F))}return K(P,C,k,x,F)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(n,r,i){r.exports=function(s,o,a,u){var d=n("./util"),_=d.isObject,c=n("./es5"),v;typeof Map=="function"&&(v=Map);var m=function(){var p=0,h=0;function f(l,g){this[p]=l,this[p+h]=g,p++}return function(g){h=g.size,p=0;var b=new Array(g.size*2);return g.forEach(f,b),b}}(),w=function(p){for(var h=new v,f=p.length/2|0,l=0;l<f;++l){var g=p[f+l],b=p[l];h.set(g,b)}return h};function T(p){var h=!1,f;if(v!==void 0&&p instanceof v)f=m(p),h=!0;else{var l=c.keys(p),g=l.length;f=new Array(g*2);for(var b=0;b<g;++b){var O=l[b];f[b]=p[O],f[b+g]=O}}this.constructor$(f),this._isMap=h,this._init$(void 0,h?-6:-3)}d.inherits(T,o),T.prototype._init=function(){},T.prototype._promiseFulfilled=function(p,h){this._values[h]=p;var f=++this._totalResolved;if(f>=this._length){var l;if(this._isMap)l=w(this._values);else{l={};for(var g=this.length(),b=0,O=this.length();b<O;++b)l[this._values[b+g]]=this._values[b]}return this._resolve(l),!0}return!1},T.prototype.shouldCopyValues=function(){return!1},T.prototype.getActualLength=function(p){return p>>1};function y(p){var h,f=a(p);if(_(f))f instanceof s?h=f._then(s.props,void 0,void 0,void 0,void 0):h=new T(f).promise();else return u(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return f instanceof s&&h._propagateFrom(f,2),h}s.prototype.props=function(){return y(this)},s.props=function(p){return y(p)}}},{"./es5":13,"./util":36}],26:[function(n,r,i){function s(a,u,d,_,c){for(var v=0;v<c;++v)d[v+_]=a[v+u],a[v+u]=void 0}function o(a){this._capacity=a,this._length=0,this._front=0}o.prototype._willBeOverCapacity=function(a){return this._capacity<a},o.prototype._pushOne=function(a){var u=this.length();this._checkCapacity(u+1);var d=this._front+u&this._capacity-1;this[d]=a,this._length=u+1},o.prototype.push=function(a,u,d){var _=this.length()+3;if(this._willBeOverCapacity(_)){this._pushOne(a),this._pushOne(u),this._pushOne(d);return}var c=this._front+_-3;this._checkCapacity(_);var v=this._capacity-1;this[c+0&v]=a,this[c+1&v]=u,this[c+2&v]=d,this._length=_},o.prototype.shift=function(){var a=this._front,u=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,u},o.prototype.length=function(){return this._length},o.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},o.prototype._resizeTo=function(a){var u=this._capacity;this._capacity=a;var d=this._front,_=this._length,c=d+_&u-1;s(this,0,this,u,c)},r.exports=o},{}],27:[function(n,r,i){r.exports=function(s,o,a,u){var d=n("./util"),_=function(v){return v.then(function(m){return c(m,v)})};function c(v,m){var w=a(v);if(w instanceof s)return _(w);if(v=d.asArray(v),v===null)return u("expecting an array or an iterable object but got "+d.classString(v));var T=new s(o);m!==void 0&&T._propagateFrom(m,3);for(var y=T._fulfill,p=T._reject,h=0,f=v.length;h<f;++h){var l=v[h];l===void 0&&!(h in v)||s.cast(l)._then(y,p,void 0,T,null)}return T}s.race=function(v){return c(v,void 0)},s.prototype.race=function(){return c(this,void 0)}}},{"./util":36}],28:[function(n,r,i){r.exports=function(s,o,a,u,d,_){var c=n("./util"),v=c.tryCatch;function m(h,f,l,g){this.constructor$(h);var b=s._getContext();this._fn=c.contextBind(b,f),l!==void 0&&(l=s.resolve(l),l._attachCancellationCallback(this)),this._initialValue=l,this._currentCancellable=null,g===d?this._eachValues=Array(this._length):g===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}c.inherits(m,o),m.prototype._gotAccum=function(h){this._eachValues!==void 0&&this._eachValues!==null&&h!==d&&this._eachValues.push(h)},m.prototype._eachComplete=function(h){return this._eachValues!==null&&this._eachValues.push(h),this._eachValues},m.prototype._init=function(){},m.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},m.prototype.shouldCopyValues=function(){return!1},m.prototype._resolve=function(h){this._promise._resolveCallback(h),this._values=null},m.prototype._resultCancelled=function(h){if(h===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel())},m.prototype._iterate=function(h){this._values=h;var f,l,g=h.length;this._initialValue!==void 0?(f=this._initialValue,l=0):(f=s.resolve(h[0]),l=1),this._currentCancellable=f;for(var b=l;b<g;++b){var O=h[b];O instanceof s&&O.suppressUnhandledRejections()}if(!f.isRejected())for(;l<g;++l){var R={accum:null,value:h[l],index:l,length:g,array:this};f=f._then(y,void 0,void 0,R,void 0),l&127||f._setNoAsyncGuarantee()}this._eachValues!==void 0&&(f=f._then(this._eachComplete,void 0,void 0,this,void 0)),f._then(w,w,void 0,f,this)},s.prototype.reduce=function(h,f){return T(this,h,f,null)},s.reduce=function(h,f,l,g){return T(h,f,l,g)};function w(h,f){this.isFulfilled()?f._resolve(h):f._reject(h)}function T(h,f,l,g){if(typeof f!="function")return a("expecting a function but got "+c.classString(f));var b=new m(h,f,l,g);return b.promise()}function y(h){this.accum=h,this.array._gotAccum(h);var f=u(this.value,this.array._promise);return f instanceof s?(this.array._currentCancellable=f,f._then(p,void 0,void 0,this,void 0)):p.call(this,f)}function p(h){var f=this.array,l=f._promise,g=v(f._fn);l._pushContext();var b;f._eachValues!==void 0?b=g.call(l._boundValue(),h,this.index,this.length):b=g.call(l._boundValue(),this.accum,h,this.index,this.length),b instanceof s&&(f._currentCancellable=b);var O=l._popContext();return _.checkForgottenReturns(b,O,f._eachValues!==void 0?"Promise.each":"Promise.reduce",l),b}}},{"./util":36}],29:[function(n,r,i){var s=n("./util"),o,a=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},u=s.getNativePromise();if(s.isNode&&typeof MutationObserver>"u"){var d=Me.setImmediate,_=process.nextTick;o=s.isRecentNode?function(v){d.call(Me,v)}:function(v){_.call(process,v)}}else if(typeof u=="function"&&typeof u.resolve=="function"){var c=u.resolve();o=function(v){c.then(v)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))&&"classList"in document.documentElement?o=function(){var v=document.createElement("div"),m={attributes:!0},w=!1,T=document.createElement("div"),y=new MutationObserver(function(){v.classList.toggle("foo"),w=!1});y.observe(T,m);var p=function(){w||(w=!0,T.classList.toggle("foo"))};return function(f){var l=new MutationObserver(function(){l.disconnect(),f()});l.observe(v,m),p()}}():typeof setImmediate<"u"?o=function(v){setImmediate(v)}:typeof setTimeout<"u"?o=function(v){setTimeout(v,0)}:o=a;r.exports=o},{"./util":36}],30:[function(n,r,i){r.exports=function(s,o,a){var u=s.PromiseInspection,d=n("./util");function _(c){this.constructor$(c)}d.inherits(_,o),_.prototype._promiseResolved=function(c,v){this._values[c]=v;var m=++this._totalResolved;return m>=this._length?(this._resolve(this._values),!0):!1},_.prototype._promiseFulfilled=function(c,v){var m=new u;return m._bitField=33554432,m._settledValueField=c,this._promiseResolved(v,m)},_.prototype._promiseRejected=function(c,v){var m=new u;return m._bitField=16777216,m._settledValueField=c,this._promiseResolved(v,m)},s.settle=function(c){return a.deprecated(".settle()",".reflect()"),new _(c).promise()},s.allSettled=function(c){return new _(c).promise()},s.prototype.settle=function(){return s.settle(this)}}},{"./util":36}],31:[function(n,r,i){r.exports=function(s,o,a){var u=n("./util"),d=n("./errors").RangeError,_=n("./errors").AggregateError,c=u.isArray,v={};function m(T){this.constructor$(T),this._howMany=0,this._unwrap=!1,this._initialized=!1}u.inherits(m,o),m.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var T=c(this._values);!this._isResolved()&&T&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},m.prototype.init=function(){this._initialized=!0,this._init()},m.prototype.setUnwrap=function(){this._unwrap=!0},m.prototype.howMany=function(){return this._howMany},m.prototype.setHowMany=function(T){this._howMany=T},m.prototype._promiseFulfilled=function(T){return this._addFulfilled(T),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},m.prototype._promiseRejected=function(T){return this._addRejected(T),this._checkOutcome()},m.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(v),this._checkOutcome())},m.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var T=new _,y=this.length();y<this._values.length;++y)this._values[y]!==v&&T.push(this._values[y]);return T.length>0?this._reject(T):this._cancel(),!0}return!1},m.prototype._fulfilled=function(){return this._totalResolved},m.prototype._rejected=function(){return this._values.length-this.length()},m.prototype._addRejected=function(T){this._values.push(T)},m.prototype._addFulfilled=function(T){this._values[this._totalResolved++]=T},m.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},m.prototype._getRangeError=function(T){var y="Input array must contain at least "+this._howMany+" items but contains only "+T+" items";return new d(y)},m.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function w(T,y){if((y|0)!==y||y<0)return a(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var p=new m(T),h=p.promise();return p.setHowMany(y),p.init(),h}s.some=function(T,y){return w(T,y)},s.prototype.some=function(T){return w(this,T)},s._SomePromiseArray=m}},{"./errors":12,"./util":36}],32:[function(n,r,i){r.exports=function(s){function o(m){m!==void 0?(m=m._target(),this._bitField=m._bitField,this._settledValueField=m._isFateSealed()?m._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}o.prototype._settledValue=function(){return this._settledValueField};var a=o.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},u=o.prototype.error=o.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},d=o.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},_=o.prototype.isRejected=function(){return(this._bitField&16777216)!==0},c=o.prototype.isPending=function(){return(this._bitField&50397184)===0},v=o.prototype.isResolved=function(){return(this._bitField&50331648)!==0};o.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},s.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},s.prototype.isPending=function(){return c.call(this._target())},s.prototype.isRejected=function(){return _.call(this._target())},s.prototype.isFulfilled=function(){return d.call(this._target())},s.prototype.isResolved=function(){return v.call(this._target())},s.prototype.value=function(){return a.call(this._target())},s.prototype.reason=function(){var m=this._target();return m._unsetRejectionIsUnhandled(),u.call(m)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=o}},{}],33:[function(n,r,i){r.exports=function(s,o){var a=n("./util"),u=a.errorObj,d=a.isObject;function _(y,p){if(d(y)){if(y instanceof s)return y;var h=v(y);if(h===u){p&&p._pushContext();var f=s.reject(h.e);return p&&p._popContext(),f}else if(typeof h=="function"){if(w(y)){var f=new s(o);return y._then(f._fulfill,f._reject,void 0,f,null),f}return T(y,h,p)}}return y}function c(y){return y.then}function v(y){try{return c(y)}catch(p){return u.e=p,u}}var m={}.hasOwnProperty;function w(y){try{return m.call(y,"_promise0")}catch{return!1}}function T(y,p,h){var f=new s(o),l=f;h&&h._pushContext(),f._captureStackTrace(),h&&h._popContext();var g=!0,b=a.tryCatch(p).call(y,O,R);g=!1,f&&b===u&&(f._rejectCallback(b.e,!0,!0),f=null);function O($){f&&(f._resolveCallback($),f=null)}function R($){f&&(f._rejectCallback($,g,!0),f=null)}return l}return _}},{"./util":36}],34:[function(n,r,i){r.exports=function(s,o,a){var u=n("./util"),d=s.TimeoutError;function _(y){this.handle=y}_.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(y){return v(+this).thenReturn(y)},v=s.delay=function(y,p){var h,f;return p!==void 0?(h=s.resolve(p)._then(c,null,null,y,void 0),a.cancellation()&&p instanceof s&&h._setOnCancel(p)):(h=new s(o),f=setTimeout(function(){h._fulfill()},+y),a.cancellation()&&h._setOnCancel(new _(f)),h._captureStackTrace()),h._setAsyncGuaranteed(),h};s.prototype.delay=function(y){return v(y,this)};var m=function(y,p,h){var f;typeof p!="string"?p instanceof Error?f=p:f=new d("operation timed out"):f=new d(p),u.markAsOriginatingFromRejection(f),y._attachExtraTrace(f),y._reject(f),h!=null&&h.cancel()};function w(y){return clearTimeout(this.handle),y}function T(y){throw clearTimeout(this.handle),y}s.prototype.timeout=function(y,p){y=+y;var h,f,l=new _(setTimeout(function(){h.isPending()&&m(h,p,f)},y));return a.cancellation()?(f=this.then(),h=f._then(w,T,void 0,l,void 0),h._setOnCancel(l)):h=this._then(w,T,void 0,l,void 0),h}}},{"./util":36}],35:[function(n,r,i){r.exports=function(s,o,a,u,d,_){var c=n("./util"),v=n("./errors").TypeError,m=n("./util").inherits,w=c.errorObj,T=c.tryCatch,y={};function p(R){setTimeout(function(){throw R},0)}function h(R){var $=a(R);return $!==R&&typeof R._isDisposable=="function"&&typeof R._getDisposer=="function"&&R._isDisposable()&&$._setDisposable(R._getDisposer()),$}function f(R,$){var N=0,z=R.length,K=new s(d);function U(){if(N>=z)return K._fulfill();var P=h(R[N++]);if(P instanceof s&&P._isDisposable()){try{P=a(P._getDisposer().tryDispose($),R.promise)}catch(D){return p(D)}if(P instanceof s)return P._then(U,p,null,null,null)}U()}return U(),K}function l(R,$,N){this._data=R,this._promise=$,this._context=N}l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},l.prototype.tryDispose=function(R){var $=this.resource(),N=this._context;N!==void 0&&N._pushContext();var z=$!==y?this.doDispose($,R):null;return N!==void 0&&N._popContext(),this._promise._unsetDisposable(),this._data=null,z},l.isDisposer=function(R){return R!=null&&typeof R.resource=="function"&&typeof R.tryDispose=="function"};function g(R,$,N){this.constructor$(R,$,N)}m(g,l),g.prototype.doDispose=function(R,$){var N=this.data();return N.call(R,R,$)};function b(R){return l.isDisposer(R)?(this.resources[this.index]._setDisposable(R),R.promise()):R}function O(R){this.length=R,this.promise=null,this[R-1]=null}O.prototype._resultCancelled=function(){for(var R=this.length,$=0;$<R;++$){var N=this[$];N instanceof s&&N.cancel()}},s.using=function(){var R=arguments.length;if(R<2)return o("you must pass at least 2 arguments to Promise.using");var $=arguments[R-1];if(typeof $!="function")return o("expecting a function but got "+c.classString($));var N,z=!0;R===2&&Array.isArray(arguments[0])?(N=arguments[0],R=N.length,z=!1):(N=arguments,R--);for(var K=new O(R),U=0;U<R;++U){var P=N[U];if(l.isDisposer(P)){var D=P;P=P.promise(),P._setDisposable(D)}else{var F=a(P);F instanceof s&&(P=F._then(b,null,null,{resources:K,index:U},void 0))}K[U]=P}for(var C=new Array(K.length),U=0;U<C.length;++U)C[U]=s.resolve(K[U]).reflect();var k=s.all(C).then(function(L){for(var I=0;I<L.length;++I){var q=L[I];if(q.isRejected())return w.e=q.error(),w;if(!q.isFulfilled()){k.cancel();return}L[I]=q.value()}x._pushContext(),$=T($);var A=z?$.apply(void 0,L):$(L),G=x._popContext();return _.checkForgottenReturns(A,G,"Promise.using",x),A}),x=k.lastly(function(){var L=new s.PromiseInspection(k);return f(K,L)});return K.promise=x,x._setOnCancel(K),x},s.prototype._setDisposable=function(R){this._bitField=this._bitField|131072,this._disposer=R},s.prototype._isDisposable=function(){return(this._bitField&131072)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},s.prototype.disposer=function(R){if(typeof R=="function")return new g(R,this,u());throw new v}}},{"./errors":12,"./util":36}],36:[function(n,r,i){var s=n("./es5"),o=typeof navigator>"u",a={e:{}},u,d=typeof self<"u"?self:typeof window<"u"?window:typeof Me<"u"?Me:this!==void 0?this:null;function _(){try{var E=u;return u=null,E.apply(this,arguments)}catch(j){return a.e=j,a}}function c(E){return u=E,_}var v=function(E,j){var H={}.hasOwnProperty;function V(){this.constructor=E,this.constructor$=j;for(var W in j.prototype)H.call(j.prototype,W)&&W.charAt(W.length-1)!=="$"&&(this[W+"$"]=j.prototype[W])}return V.prototype=j.prototype,E.prototype=new V,E.prototype};function m(E){return E==null||E===!0||E===!1||typeof E=="string"||typeof E=="number"}function w(E){return typeof E=="function"||typeof E=="object"&&E!==null}function T(E){return m(E)?new Error(z(E)):E}function y(E,j){var H=E.length,V=new Array(H+1),W;for(W=0;W<H;++W)V[W]=E[W];return V[W]=j,V}function p(E,j,H){if(s.isES5){var V=Object.getOwnPropertyDescriptor(E,j);if(V!=null)return V.get==null&&V.set==null?V.value:H}else return{}.hasOwnProperty.call(E,j)?E[j]:void 0}function h(E,j,H){if(m(E))return E;var V={value:H,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(E,j,V),E}function f(E){throw E}var l=function(){var E=[Array.prototype,Object.prototype,Function.prototype],j=function(W){for(var X=0;X<E.length;++X)if(E[X]===W)return!0;return!1};if(s.isES5){var H=Object.getOwnPropertyNames;return function(W){for(var X=[],te=Object.create(null);W!=null&&!j(W);){var oe;try{oe=H(W)}catch{return X}for(var ve=0;ve<oe.length;++ve){var he=oe[ve];if(!te[he]){te[he]=!0;var Oe=Object.getOwnPropertyDescriptor(W,he);Oe!=null&&Oe.get==null&&Oe.set==null&&X.push(he)}}W=s.getPrototypeOf(W)}return X}}else{var V={}.hasOwnProperty;return function(W){if(j(W))return[];var X=[];e:for(var te in W)if(V.call(W,te))X.push(te);else{for(var oe=0;oe<E.length;++oe)if(V.call(E[oe],te))continue e;X.push(te)}return X}}}(),g=/this\s*\.\s*\S+\s*=/;function b(E){try{if(typeof E=="function"){var j=s.names(E.prototype),H=s.isES5&&j.length>1,V=j.length>0&&!(j.length===1&&j[0]==="constructor"),W=g.test(E+"")&&s.names(E).length>0;if(H||V||W)return!0}return!1}catch{return!1}}function O(E){function j(){}j.prototype=E;var H=new j;function V(){return typeof H.foo}return V(),V(),E}var R=/^[a-z$_][a-z$_0-9]*$/i;function $(E){return R.test(E)}function N(E,j,H){for(var V=new Array(E),W=0;W<E;++W)V[W]=j+W+H;return V}function z(E){try{return E+""}catch{return"[no string representation]"}}function K(E){return E instanceof Error||E!==null&&typeof E=="object"&&typeof E.message=="string"&&typeof E.name=="string"}function U(E){try{h(E,"isOperational",!0)}catch{}}function P(E){return E==null?!1:E instanceof Error.__BluebirdErrorTypes__.OperationalError||E.isOperational===!0}function D(E){return K(E)&&s.propertyIsWritable(E,"stack")}var F=function(){return"stack"in new Error?function(E){return D(E)?E:new Error(z(E))}:function(E){if(D(E))return E;try{throw new Error(z(E))}catch(j){return j}}}();function C(E){return{}.toString.call(E)}function k(E,j,H){for(var V=s.names(E),W=0;W<V.length;++W){var X=V[W];if(H(X))try{s.defineProperty(j,X,s.getDescriptor(E,X))}catch{}}}var x=function(E){return s.isArray(E)?E:null};if(typeof Symbol<"u"&&Symbol.iterator){var L=typeof Array.from=="function"?function(E){return Array.from(E)}:function(E){for(var j=[],H=E[Symbol.iterator](),V;!(V=H.next()).done;)j.push(V.value);return j};x=function(E){return s.isArray(E)?E:E!=null&&typeof E[Symbol.iterator]=="function"?L(E):null}}var I=typeof process<"u"&&C(process).toLowerCase()==="[object process]",q=typeof process<"u"&&typeof process.env<"u";function A(E){return q?process.env[E]:void 0}function G(){if(typeof Promise=="function")try{var E=new Promise(function(){});if(C(E)==="[object Promise]")return Promise}catch{}}var Y;function Z(E,j){if(E===null||typeof j!="function"||j===Y)return j;E.domain!==null&&(j=E.domain.bind(j));var H=E.async;if(H!==null){var V=j;j=function(){var W=new Array(2).concat([].slice.call(arguments));return W[0]=V,W[1]=this,H.runInAsyncScope.apply(H,W)}}return j}var S={setReflectHandler:function(E){Y=E},isClass:b,isIdentifier:$,inheritedDataKeys:l,getDataPropertyOrDefault:p,thrower:f,isArray:s.isArray,asArray:x,notEnumerableProp:h,isPrimitive:m,isObject:w,isError:K,canEvaluate:o,errorObj:a,tryCatch:c,inherits:v,withAppended:y,maybeWrapAsError:T,toFastProperties:O,filledRange:N,toString:z,canAttachTrace:D,ensureErrorObject:F,originatesFromRejection:P,markAsOriginatingFromRejection:U,classString:C,copyDescriptors:k,isNode:I,hasEnvVariables:q,env:A,global:d,getNativePromise:G,contextBind:Z};S.isRecentNode=S.isNode&&function(){var E;return process.versions&&process.versions.node?E=process.versions.node.split(".").map(Number):process.version&&(E=process.version.split(".").map(Number)),E[0]===0&&E[1]>10||E[0]>0}(),S.nodeSupportsAsyncResource=S.isNode&&function(){var E=!1;try{var j=n("async_hooks").AsyncResource;E=typeof j.prototype.runInAsyncScope=="function"}catch{E=!1}return E}(),S.isNode&&S.toFastProperties(process);try{throw new Error}catch(E){S.lastLineError=E}r.exports=S},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)})(Iu);var Lv=Iu.exports;const Rr=Ot(Lv),me={};function Iv(t){for(var e in t)return!1;return!0}function Bv(t){return typeof t=="string"||t instanceof String}function qv(t){return!isNaN(t)}function Uv(t){return typeof t>"u"}me.delta=new He.EventEmitter;me.deltaInit=function(){this.on("destroyed",function(){Wv(this)})};me.clone=function(t){return JSON.parse(JSON.stringify(t))};me.merge=function(t,e){var n={};for(var r in t)n[r]=t[r];for(r in e)n[r]=e[r];return n};me.mergeAll=function(t){var e={},n={};return t.forEach(function(r){r.doc.$id||(r.doc.$id=r.doc._id),r.doc.$deleted?(delete e[r.doc.$id],n[r.doc.$id]=!0):n[r.doc.$id]||(e[r.doc.$id]?e[r.doc.$id].doc=me.merge(e[r.doc.$id].doc,r.doc):e[r.doc.$id]=r)}),Object.values(e)};function Bu(t,e){return delete e._rev,e.$createdAt=new Date().toJSON(),e.$id?(e._id=e.$id+"_"+e.$createdAt,t.put(e).then(function(n){return n.$id=e.$id,So(t,n),n}).catch(function(n){if(n.status!==409)throw n})):t.post(e).then(function(n){return n.$id=n.id,So(t,{id:n.id}),n})}me.save=function(t){return Bu(this,t)};me.delete=function(t){var e=Bv(t)||qv(t)?t:t.$id;if(Uv(e))throw new Error("missing $id");return Bu(this,{$id:e,$deleted:!0})};function Hv(t,e,n){var r=this;return new Rr(function(i,s){t.call(r,me.merge(e,{include_docs:!0}),function(o,a){o?s(o):(a.rows=me.mergeAll(a.rows),i(a)),typeof n=="function"&&n(o,a)})})}me.all=function(){var t=this;return t.allDocs({include_docs:!0}).then(function(e){var n={};return e.rows.forEach(function(r){n[r.doc.$id]=r.doc}),n})};var qu={};me.wasDeleted=function(t){return!!qu[t]};me.markDeletion=function(t){qu[t]=!0};function So(t,e){t.get(e.id).then(function(n){var r=n.$id?n.$id:n._id;me.wasDeleted(r)||(n.$deleted?(me.markDeletion(r),me.delta.emit("delete",r)):n.$id?me.delta.emit("update",n):(n.$id=r,me.delta.emit("create",n)))})}function Wv(t){t.delta.removeAllListeners()}function Gv(t,e){var n={},r=!1;for(var i in e)t[i]!==e[i]&&(r=!0,n[i]=e[i]);return r?n:null}me.saveChanges=function(t,e){var n=this,r=Gv(t,e);return r!==null?(r.$id=t.$id,n.save(r).then(function(){return r})):Rr.resolve()};function Uu(t,e){return t.get(e).then(function(n){return t.remove(n)}).catch(function(n){if(n.status!==404)throw n})}me.getAndRemove=function(t){return Uu(this,t)};function zv(t,e,n){var r=[];return e.rows.forEach(function(i){n[i.doc.$id]&&r.push(Uu(t,i.id))}),Rr.all(r)}function Vv(t,e,n,r){return t.get(e.doc._id).then(function(i){if(e.doc.$id||(e.doc.$id=e.doc._id),e.doc.$deleted||r[e.doc.$id])return r[e.doc.$id]=!0,t.remove(i);if(n[e.doc.$id]){var s=!1;for(var o in e.doc)if(typeof n[e.doc.$id][o]>"u"){s=!0;break}if(s)n[e.doc.$id]=me.merge(n[e.doc.$id],e.doc);else return t.remove(i)}else n[e.doc.$id]=e.doc})}var Kv=function(t,e,n,r){return function(){return Vv(t,e,n,r)}};me.cleanup=function(){var t=this;return t.allDocs({include_docs:!0}).then(function(e){var n={},r={},i=Rr.resolve();return e.rows.forEach(function(s){i=i.then(Kv(t,s,n,r))}),i.then(function(){if(!Iv(r))return zv(t,e,r)})})};typeof window<"u"&&window.PouchDB&&window.PouchDB.plugin(me);me.default=function(t){var e=t.prototype.allDocs;for(var n in me)t.prototype[n]=me[n];t.prototype.allDocs=function(r,i){return Hv.call(this,e,r,i)}};const Yv=me.default,Qv=Object.freeze(Object.defineProperty({__proto__:null,default:Yv},Symbol.toStringTag,{value:"Module"}));se.plugin(Qv);const Hu=new se("tasks"),Jv=new se("projects"),Zv=new se("courses");new se("timer");function Xv(t){Li({operation:"create",database:"posts",payloadValue:JSON.stringify({...t,id:new Date().getTime()})})}function e_(t){Li({operation:"create",database:"projects",payloadValue:JSON.stringify({...t,id:new Date().getTime()})})}function t_(t){Li({operation:"create",database:"courses",payloadValue:JSON.stringify({...t,id:new Date().getTime()})})}async function n_(){return new Promise(async t=>{try{const e=(await Hu).transaction("posts").objectStore("posts").getAll();e.onsuccess=()=>t(e.result)}catch(e){console.error(e),t([])}})}async function ig(t){return new Promise(async e=>{try{const n=(await Hu).transaction("posts").objectStore("posts").get(t);n.onsuccess=()=>e(n.result)}catch(n){console.error(n),e(void 0)}})}async function Wu(){return new Promise(async t=>{try{const e=(await Jv).transaction("projects").objectStore("projects").getAll();e.onsuccess=()=>t(e.result)}catch(e){console.error(e),t([])}})}async function Gu(){return new Promise(async t=>{try{const e=(await Zv).transaction("courses").objectStore("courses").getAll();e.onsuccess=()=>t(e.result)}catch(e){console.error(e),t([])}})}async function r_(){const[t,e]=await Promise.all([Gu(),Wu()]);return[...t,...e]}function i_(t){let e,n,r,i,s,o,a,u,d,_,c,v;return{c(){e=ie("div"),n=ie("button"),n.textContent="1",r=pe(),i=ie("button"),i.textContent="2",s=pe(),o=ie("button"),o.textContent="3",a=pe(),u=ie("button"),u.textContent="4",d=pe(),_=ie("button"),_.textContent="5"},m(m,w){ge(m,e,w),ee(e,n),ee(e,r),ee(e,i),ee(e,s),ee(e,o),ee(e,a),ee(e,u),ee(e,d),ee(e,_),c||(v=[Fe(n,"click",t[0](1)),Fe(i,"click",t[0](2)),Fe(o,"click",t[0](3)),Fe(u,"click",t[0](4)),Fe(_,"click",t[0](5))],c=!0)},p:ne,i:ne,o:ne,d(m){m&&de(e),c=!1,ot(v)}}}function s_(t,e,n){let{value:r=0}=e;const i=s=>()=>n(1,r=s);return t.$$set=s=>{"value"in s&&n(1,r=s.value)},[i,r]}class o_ extends et{constructor(e){super(),Xe(this,e,s_,i_,Ke,{value:1})}}function ko(t,e,n){const r=t.slice();return r[3]=e[n],r}function a_(t){return{c:ne,m:ne,p:ne,d:ne}}function u_(t){let e,n,r,i=t[2],s=[];for(let o=0;o<i.length;o+=1)s[o]=Oo(ko(t,i,o));return{c(){e=ie("select");for(let o=0;o<s.length;o+=1)s[o].c();t[0]===void 0&&Ct(()=>t[1].call(e))},m(o,a){ge(o,e,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);tr(e,t[0],!0),n||(r=Fe(e,"change",t[1]),n=!0)},p(o,a){if(a&0){i=o[2];let u;for(u=0;u<i.length;u+=1){const d=ko(o,i,u);s[u]?s[u].p(d,a):(s[u]=Oo(d),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=i.length}a&1&&tr(e,o[0])},d(o){o&&de(e),fn(s,o),n=!1,r()}}}function Oo(t){let e,n=t[3].name+"",r;return{c(){e=ie("option"),r=St(n),e.__value=t[3].id,e.value=e.__value},m(i,s){ge(i,e,s),ee(e,r)},p:ne,d(i){i&&de(e)}}}function c_(t){return{c:ne,m:ne,p:ne,d:ne}}function f_(t){let e,n={ctx:t,current:null,token:null,hasCatch:!1,pending:c_,then:u_,catch:a_,value:2};return or(r_(),n),{c(){e=kt(),n.block.c()},m(r,i){ge(r,e,i),n.block.m(r,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e},p(r,[i]){t=r,ar(n,t,i)},i:ne,o:ne,d(r){r&&de(e),n.block.d(r),n.token=null,n=null}}}function l_(t,e,n){let{value:r}=e;function i(){r=Jo(this),n(0,r)}return t.$$set=s=>{"value"in s&&n(0,r=s.value)},[r,i]}class h_ extends et{constructor(e){super(),Xe(this,e,l_,f_,Ke,{value:0})}}function xo(t,e,n){const r=t.slice();return r[11]=e[n],r}function d_(t){let e,n,r,i,s,o,a;return{c(){e=ie("input"),n=pe(),r=ie("a"),i=ie("button"),i.textContent="Go",ue(e,"type","checkbox"),ue(r,"href",s="/timer/"+t[0].id)},m(u,d){ge(u,e,d),ge(u,n,d),ge(u,r,d),ee(r,i),o||(a=Si($i.call(null,r)),o=!0)},p(u,d){d&1&&s!==(s="/timer/"+u[0].id)&&ue(r,"href",s)},d(u){u&&de(e),u&&de(n),u&&de(r),o=!1,a()}}}function p_(t){let e;return{c(){e=ie("div"),e.textContent="+"},m(n,r){ge(n,e,r)},p:ne,d(n){n&&de(e)}}}function Ro(t){let e,n=t[11]+"",r;return{c(){e=ie("option"),r=St(n),e.__value=t[11],e.value=e.__value,ue(e,"class","svelte-6fx54s")},m(i,s){ge(i,e,s),ee(e,r)},p:ne,d(i){i&&de(e)}}}function v_(t){let e,n,r,i,s,o,a,u,d,_,c,v,m,w,T,y,p,h,f,l,g;function b(D,F){return D[1]?p_:d_}let O=b(t),R=O(t);function $(D){t[6](D)}let N={};t[0].predictedTime!==void 0&&(N.value=t[0].predictedTime),u=new o_({props:N}),On.push(()=>Zr(u,"value",$));let z=ti,K=[];for(let D=0;D<z.length;D+=1)K[D]=Ro(xo(t,z,D));function U(D){t[8](D)}let P={};return t[0].projectId!==void 0&&(P.value=t[0].projectId),w=new h_({props:P}),On.push(()=>Zr(w,"value",U)),{c(){e=ie("div"),n=ie("div"),R.c(),r=pe(),i=ie("input"),a=pe(),Ge(u.$$.fragment),_=pe(),c=ie("div"),v=ie("select");for(let D=0;D<K.length;D+=1)K[D].c();m=pe(),Ge(w.$$.fragment),y=pe(),p=ie("input"),Je(i,"flex-grow","99"),ue(i,"type","text"),i.value=s=t[0].title,ue(i,"placeholder",o=t[1]?"New task":"Task title"),ue(n,"class","flex svelte-6fx54s"),ue(v,"class","svelte-6fx54s"),t[0].category===void 0&&Ct(()=>t[7].call(v)),ue(p,"type","date"),Je(p,"height","1em"),ue(c,"class","flex svelte-6fx54s"),Je(c,"gap","0.25em"),ue(e,"id","task"),ue(e,"class","reset svelte-6fx54s"),ue(e,"hasfocus",h=t[2]||t[1])},m(D,F){ge(D,e,F),ee(e,n),R.m(n,null),ee(n,r),ee(n,i),ee(n,a),qe(u,n,null),ee(e,_),ee(e,c),ee(c,v);for(let C=0;C<K.length;C+=1)K[C]&&K[C].m(v,null);tr(v,t[0].category,!0),ee(c,m),qe(w,c,null),ee(c,y),ee(c,p),ps(p,t[0].due),f=!0,l||(g=[Fe(i,"input",t[3]),Fe(v,"change",t[7]),Fe(p,"input",t[9]),Fe(e,"focusin",t[5]),Fe(e,"focusout",t[4])],l=!0)},p(D,[F]){O===(O=b(D))&&R?R.p(D,F):(R.d(1),R=O(D),R&&(R.c(),R.m(n,r))),(!f||F&1&&s!==(s=D[0].title)&&i.value!==s)&&(i.value=s),(!f||F&2&&o!==(o=D[1]?"New task":"Task title"))&&ue(i,"placeholder",o);const C={};if(!d&&F&1&&(d=!0,C.value=D[0].predictedTime,Jr(()=>d=!1)),u.$set(C),F&0){z=ti;let x;for(x=0;x<z.length;x+=1){const L=xo(D,z,x);K[x]?K[x].p(L,F):(K[x]=Ro(L),K[x].c(),K[x].m(v,null))}for(;x<K.length;x+=1)K[x].d(1);K.length=z.length}F&1&&tr(v,D[0].category);const k={};!T&&F&1&&(T=!0,k.value=D[0].projectId,Jr(()=>T=!1)),w.$set(k),F&1&&ps(p,D[0].due),(!f||F&6&&h!==(h=D[2]||D[1]))&&ue(e,"hasfocus",h)},i(D){f||(we(u.$$.fragment,D),we(w.$$.fragment,D),f=!0)},o(D){ke(u.$$.fragment,D),ke(w.$$.fragment,D),f=!1},d(D){D&&de(e),R.d(),Ue(u),fn(K,D),Ue(w),l=!1,ot(g)}}}function __(t,e,n){let{isNew:r=!1}=e,i=r,{taskData:s={}}=e;s={description:"",predictedTime:0,title:"",category:"homework",...s};function o(w){const T=w.target.value;n(0,s.title=T,s);let[y,p]=Pl(T,ti);y==="worksheet"&&(y="homework"),y==="research"&&(y="read"),p>.7&&(console.log(y),n(0,s.category=y,s),console.log("priority:",Math.min(jl(T,/!/g),3)));let h=Rl(T,new Date);if(h){const f=h.getTimezoneOffset();h=new Date(h.getTime()-f*60*1e3),n(0,s.due=h.toISOString().split("T")[0],s)}}function a(w){n(2,i=i&&w.currentTarget.contains(w.relatedTarget)),i||d()}function u(w){n(2,i=i||w.target instanceof HTMLSelectElement||w.target instanceof HTMLInputElement&&w.target.getAttribute("type")==="text")}function d(){r?Xv(s):console.error("Editing tasks not implemented yet!")}function _(w){t.$$.not_equal(s.predictedTime,w)&&(s.predictedTime=w,n(0,s))}function c(){s.category=Jo(this),n(0,s)}function v(w){t.$$.not_equal(s.projectId,w)&&(s.projectId=w,n(0,s))}function m(){s.due=this.value,n(0,s)}return t.$$set=w=>{"isNew"in w&&n(1,r=w.isNew),"taskData"in w&&n(0,s=w.taskData)},[s,r,i,o,a,u,_,c,v,m]}class zu extends et{constructor(e){super(),Xe(this,e,__,v_,Ke,{isNew:1,taskData:0})}}var gt=(t=>(t[t.Overdue=0]="Overdue",t[t.Today=1]="Today",t[t.Tomorrow=2]="Tomorrow",t[t.Week=3]="Week",t[t.Later=4]="Later",t))(gt||{});function $o(t,e,n){const r=t.slice();return r[2]=e[n],r}function Do(t){let e,n;return e=new zu({props:{taskData:t[2]}}),{c(){Ge(e.$$.fragment)},m(r,i){qe(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.taskData=r[2]),e.$set(s)},i(r){n||(we(e.$$.fragment,r),n=!0)},o(r){ke(e.$$.fragment,r),n=!1},d(r){Ue(e,r)}}}function g_(t){let e,n=gt[t[0]]+"",r,i,s,o,a=t[1],u=[];for(let _=0;_<a.length;_+=1)u[_]=Do($o(t,a,_));const d=_=>ke(u[_],1,1,()=>{u[_]=null});return{c(){e=ie("div"),r=St(n),i=pe();for(let _=0;_<u.length;_+=1)u[_].c();s=kt(),Je(e,"background-color","#82c5d1"),Je(e,"padding","5px"),Je(e,"border-radius","12px"),Je(e,"margin","5px")},m(_,c){ge(_,e,c),ee(e,r),ge(_,i,c);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(_,c);ge(_,s,c),o=!0},p(_,[c]){if((!o||c&1)&&n!==(n=gt[_[0]]+"")&&Qo(r,n),c&2){a=_[1];let v;for(v=0;v<a.length;v+=1){const m=$o(_,a,v);u[v]?(u[v].p(m,c),we(u[v],1)):(u[v]=Do(m),u[v].c(),we(u[v],1),u[v].m(s.parentNode,s))}for(ln(),v=a.length;v<u.length;v+=1)d(v);hn()}},i(_){if(!o){for(let c=0;c<a.length;c+=1)we(u[c]);o=!0}},o(_){u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)ke(u[c]);o=!1},d(_){_&&de(e),_&&de(i),fn(u,_),_&&de(s)}}}function y_(t,e,n){let{due:r}=e,{tasks:i}=e;return t.$$set=s=>{"due"in s&&n(0,r=s.due),"tasks"in s&&n(1,i=s.tasks)},[r,i]}class m_ extends et{constructor(e){super(),Xe(this,e,y_,g_,Ke,{due:0,tasks:1})}}const Po=.001,w_=60,b_=60*w_,Vr=24*b_;function jo(t,e,n){const r=t.slice();return r[1]=e[n],r[5]=n,r}function T_(t){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function E_(t){let e,n,r=t[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=No(jo(t,r,o));const s=o=>ke(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=kt()},m(o,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,a);ge(o,e,a),n=!0},p(o,a){if(a&5){r=o[2];let u;for(u=0;u<r.length;u+=1){const d=jo(o,r,u);i[u]?(i[u].p(d,a),we(i[u],1)):(i[u]=No(d),i[u].c(),we(i[u],1),i[u].m(e.parentNode,e))}for(ln(),u=r.length;u<i.length;u+=1)s(u);hn()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)we(i[a]);n=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)ke(i[a]);n=!1},d(o){fn(i,o),o&&de(e)}}}function No(t){let e,n;return e=new m_({props:{due:t[5],tasks:t[0]==-1?t[1]:t[1].filter(t[3])}}),{c(){Ge(e.$$.fragment)},m(r,i){qe(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.tasks=r[0]==-1?r[1]:r[1].filter(r[3])),e.$set(s)},i(r){n||(we(e.$$.fragment,r),n=!0)},o(r){ke(e.$$.fragment,r),n=!1},d(r){Ue(e,r)}}}function A_(t){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function C_(t){let e,n,r,i;n=new zu({props:{isNew:!0}});let s={ctx:t,current:null,token:null,hasCatch:!1,pending:A_,then:E_,catch:T_,value:2,blocks:[,,,]};return or(t[2],s),{c(){e=ie("div"),Ge(n.$$.fragment),r=pe(),s.block.c(),Je(e,"padding-bottom","78px")},m(o,a){ge(o,e,a),qe(n,e,null),ee(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,i=!0},p(o,[a]){t=o,ar(s,t,a)},i(o){i||(we(n.$$.fragment,o),we(s.block),i=!0)},o(o){ke(n.$$.fragment,o);for(let a=0;a<3;a+=1){const u=s.blocks[a];ke(u)}i=!1},d(o){o&&de(e),Ue(n),s.block.d(),s.token=null,s=null}}}function S_(t,e,n){let{currentTab:r=-1}=e,i=n_();const s=i.then(a=>{const u=[...Array(Object.keys(gt).length/2)].map(()=>[]);for(const d of a){const _=new Date().setHours(0,0,0,0)*Po,c=d.due*Po;c<_?u[gt.Overdue].push(d):c<_+Vr?u[gt.Today].push(d):c<_+2*Vr||c<_+7*Vr?u[gt.Tomorrow].push(d):u[gt.Later].push(d)}return u}),o=a=>a.projectId==r;return t.$$set=a=>{"currentTab"in a&&n(0,r=a.currentTab)},[r,i,s,o]}class k_ extends et{constructor(e){super(),Xe(this,e,S_,C_,Ke,{currentTab:0})}}const O_=t=>({currentTab:t&1}),Fo=t=>({currentTab:t[0]});function Mo(t,e,n){const r=t.slice();return r[9]=e[n],r}function Lo(t,e,n){const r=t.slice();return r[13]=e[n],r}function x_(t){return{c:ne,m:ne,p:ne,d:ne}}function R_(t){let e,n=t[12],r=[];for(let i=0;i<n.length;i+=1)r[i]=Io(Lo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=kt()},m(i,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);ge(i,e,s)},p(i,s){if(s&1){n=i[12];let o;for(o=0;o<n.length;o+=1){const a=Lo(i,n,o);r[o]?r[o].p(a,s):(r[o]=Io(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){fn(r,i),i&&de(e)}}}function Io(t){let e,n,r,i,s=t[13].name+"",o,a,u;function d(){return t[6](t[13])}return{c(){e=ie("li"),n=ie("button"),r=ie("i"),i=pe(),o=St(s),ue(r,"class","fa fa-book"),ue(n,"class","courseProjectButton svelte-mcobzd")},m(_,c){ge(_,e,c),ee(e,n),ee(n,r),ee(n,i),ee(n,o),a||(u=Fe(n,"click",d),a=!0)},p(_,c){t=_},d(_){_&&de(e),a=!1,u()}}}function $_(t){return{c:ne,m:ne,p:ne,d:ne}}function D_(t){return{c:ne,m:ne,p:ne,d:ne}}function P_(t){let e,n=t[8],r=[];for(let i=0;i<n.length;i+=1)r[i]=Bo(Mo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=kt()},m(i,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);ge(i,e,s)},p(i,s){if(s&1){n=i[8];let o;for(o=0;o<n.length;o+=1){const a=Mo(i,n,o);r[o]?r[o].p(a,s):(r[o]=Bo(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){fn(r,i),i&&de(e)}}}function Bo(t){let e,n,r=t[9].name+"",i,s,o;function a(){return t[7](t[9])}return{c(){e=ie("li"),n=ie("button"),i=St(r),ue(n,"class","courseProjectButton svelte-mcobzd")},m(u,d){ge(u,e,d),ee(e,n),ee(n,i),s||(o=Fe(n,"click",a),s=!0)},p(u,d){t=u},d(u){u&&de(e),s=!1,o()}}}function j_(t){return{c:ne,m:ne,p:ne,d:ne}}function N_(t){let e,n,r,i,s,o,a,u,d,_,c,v,m,w,T,y,p,h,f,l,g,b,O,R,$,N,z,K,U,P,D,F,C,k,x,L,I,q={ctx:t,current:null,token:null,hasCatch:!1,pending:$_,then:R_,catch:x_,value:12};or(Gu(),q);let A={ctx:t,current:null,token:null,hasCatch:!1,pending:j_,then:P_,catch:D_,value:8};or(Wu(),A);const G=t[4].default,Y=rc(G,t,t[3],Fo);return{c(){e=ie("link"),n=pe(),r=ie("div"),i=ie("div"),s=ie("h1"),s.textContent="Sidebar",o=pe(),a=ie("br"),u=pe(),d=ie("button"),d.textContent="All",_=pe(),c=ie("br"),v=ie("br"),m=pe(),w=ie("h3"),w.textContent="Classes",T=pe(),y=ie("ul"),q.block.c(),p=pe(),h=ie("li"),f=ie("button"),f.innerHTML='<i class="fa fa-plus"></i> New Class',l=pe(),g=ie("hr"),b=pe(),O=ie("br"),R=pe(),$=ie("h3"),$.textContent="Projects",N=pe(),z=ie("ul"),A.block.c(),K=pe(),U=ie("li"),P=ie("button"),P.textContent="Add Project",D=pe(),F=ie("a"),F.innerHTML='<button class="courseProjectButton svelte-mcobzd">Login</button>',C=pe(),k=ie("div"),Y&&Y.c(),ue(e,"rel","stylesheet"),ue(e,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"),ue(f,"class","courseProjectButton svelte-mcobzd"),ue(y,"class","courseProjectList svelte-mcobzd"),ue(g,"class","svelte-mcobzd"),ue(P,"class","courseProjectButton svelte-mcobzd"),ue(z,"class","courseProjectList svelte-mcobzd"),ue(F,"href","/login"),ue(i,"class","sidebar svelte-mcobzd"),ue(k,"class","other svelte-mcobzd"),ue(r,"class","container svelte-mcobzd")},m(Z,S){ge(Z,e,S),ge(Z,n,S),ge(Z,r,S),ee(r,i),ee(i,s),ee(i,o),ee(i,a),ee(i,u),ee(i,d),ee(i,_),ee(i,c),ee(i,v),ee(i,m),ee(i,w),ee(i,T),ee(i,y),q.block.m(y,q.anchor=null),q.mount=()=>y,q.anchor=p,ee(y,p),ee(y,h),ee(h,f),ee(i,l),ee(i,g),ee(i,b),ee(i,O),ee(i,R),ee(i,$),ee(i,N),ee(i,z),A.block.m(z,A.anchor=null),A.mount=()=>z,A.anchor=K,ee(z,K),ee(z,U),ee(U,P),ee(i,D),ee(i,F),ee(r,C),ee(r,k),Y&&Y.m(k,null),x=!0,L||(I=[Fe(d,"click",t[5]),Fe(f,"click",t[2]),Fe(P,"click",t[1]),Si($i.call(null,F))],L=!0)},p(Z,[S]){t=Z,ar(q,t,S),ar(A,t,S),Y&&Y.p&&(!x||S&9)&&sc(Y,G,t,t[3],x?ic(G,t[3],S,O_):oc(t[3]),Fo)},i(Z){x||(we(Y,Z),x=!0)},o(Z){ke(Y,Z),x=!1},d(Z){Z&&de(e),Z&&de(n),Z&&de(r),q.block.d(),q.token=null,q=null,A.block.d(),A.token=null,A=null,Y&&Y.d(Z),L=!1,ot(I)}}}function F_(t,e,n){let{$$slots:r={},$$scope:i}=e,s;function o(){e_({id:null,name:prompt("Name your project"),owner:1})}function a(){t_({id:null,name:prompt("Name your class"),owner:1})}const u=()=>n(0,s=-1),d=c=>n(0,s=c.id),_=c=>n(0,s=c.id);return t.$$set=c=>{"$$scope"in c&&n(3,i=c.$$scope)},[s,o,a,i,r,u,d,_]}class M_ extends et{constructor(e){super(),Xe(this,e,F_,N_,Ke,{})}}function L_(t){let e,n=t[0]?"▶️":"⏸️",r,i,s;return{c(){e=ie("button"),r=St(n),ue(e,"class","reset")},m(o,a){ge(o,e,a),ee(e,r),i||(s=Fe(e,"click",t[1]),i=!0)},p(o,[a]){a&1&&n!==(n=o[0]?"▶️":"⏸️")&&Qo(r,n)},i:ne,o:ne,d(o){o&&de(e),i=!1,s()}}}function I_(t,e,n){let{isPaused:r=!0}=e;const i=ta();function s(o){o.stopPropagation(),o.preventDefault(),n(0,r=!r),i("click",o)}return t.$$set=o=>{"isPaused"in o&&n(0,r=o.isPaused)},[r,s]}class B_ extends et{constructor(e){super(),Xe(this,e,I_,L_,Ke,{isPaused:0})}}function q_(t){const e=t-1;return e*e*e+1}function U_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function H_(t){var{fallback:e}=t,n=U_(t,["fallback"]);const r=new Map,i=new Map;function s(a,u,d){const{delay:_=0,duration:c=O=>Math.sqrt(O)*30,easing:v=q_}=Sn(Sn({},n),d),m=a.getBoundingClientRect(),w=u.getBoundingClientRect(),T=m.left-w.left,y=m.top-w.top,p=m.width/w.width,h=m.height/w.height,f=Math.sqrt(T*T+y*y),l=getComputedStyle(u),g=l.transform==="none"?"":l.transform,b=+l.opacity;return{delay:_,duration:qt(c)?c(f):c,easing:v,css:(O,R)=>`
				opacity: ${O*b};
				transform-origin: top left;
				transform: ${g} translate(${R*T}px,${R*y}px) scale(${O+(1-O)*p}, ${O+(1-O)*h});
			`}}function o(a,u,d){return(_,c)=>(a.set(c.key,_),()=>{if(u.has(c.key)){const v=u.get(c.key);return u.delete(c.key),s(v,_,c)}return a.delete(c.key),e&&e(_,c,d)})}return[o(i,r,!1),o(r,i,!0)]}const W_=H_({});function qo(t){let e,n,r;return{c(){e=ie("button"),e.textContent="⏹️",ue(e,"class","reset")},m(i,s){ge(i,e,s),n||(r=Fe(e,"click",t[6]),n=!0)},p:ne,d(i){i&&de(e),n=!1,r()}}}function G_(t){let e,n,r,i,s,o,a,u,d,_,c,v;function m(y){t[7](y)}let w={};t[1]!==void 0&&(w.isPaused=t[1]),s=new B_({props:w}),On.push(()=>Zr(s,"isPaused",m));let T=t[1]&&t[0]>0&&qo(t);return{c(){e=ie("a"),n=ie("div"),r=ie("div"),i=pe(),Ge(s.$$.fragment),a=pe(),T&&T.c(),ue(r,"role","progressbar"),ue(r,"aria-valuenow",t[0]),ue(r,"aria-valuemin",0),ue(r,"aria-valuemax",t[3]),Je(r,"--value",t[0]),Je(r,"--totalTime",t[3]),ue(r,"class","svelte-84lsos"),vs(r,"indeterminate",t[2]),ue(n,"id","minitimer"),ue(n,"class","svelte-84lsos"),ue(e,"href","/timer")},m(y,p){ge(y,e,p),ee(e,n),ee(n,r),ee(n,i),qe(s,n,null),ee(n,a),T&&T.m(n,null),_=!0,c||(v=Si($i.call(null,e)),c=!0)},p(y,[p]){(!_||p&1)&&ue(r,"aria-valuenow",y[0]),(!_||p&8)&&ue(r,"aria-valuemax",y[3]),(!_||p&1)&&Je(r,"--value",y[0]),(!_||p&8)&&Je(r,"--totalTime",y[3]),(!_||p&4)&&vs(r,"indeterminate",y[2]);const h={};!o&&p&2&&(o=!0,h.isPaused=y[1],Jr(()=>o=!1)),s.$set(h),y[1]&&y[0]>0?T?T.p(y,p):(T=qo(y),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},i(y){_||(we(s.$$.fragment,y),Ct(()=>{_&&(d&&d.end(1),u=yc(n,t[5],{key:"timer"}),u.start())}),_=!0)},o(y){ke(s.$$.fragment,y),u&&u.invalidate(),d=mc(n,t[4],{key:"timer"}),_=!1},d(y){y&&de(e),Ue(s),T&&T.d(),y&&d&&d.end(),c=!1,v()}}}function z_(t,e,n){let{progress:r=0}=e,{totalTime:i=100}=e,{isPaused:s=!0}=e,{indeterminate:o=!1}=e,a;const[u,d]=W_;function _(v){v.stopPropagation(),v.preventDefault(),n(0,r=0),n(2,o=!1)}ea(()=>clearInterval(a));function c(v){s=v,n(1,s)}return t.$$set=v=>{"progress"in v&&n(0,r=v.progress),"totalTime"in v&&n(3,i=v.totalTime),"isPaused"in v&&n(1,s=v.isPaused),"indeterminate"in v&&n(2,o=v.indeterminate)},[r,s,o,i,u,d,_,c]}class V_ extends et{constructor(e){super(),Xe(this,e,z_,G_,Ke,{progress:0,totalTime:3,isPaused:1,indeterminate:2})}}function K_(t){let e,n;return e=new k_({props:{currentTab:t[0]}}),{c(){Ge(e.$$.fragment)},m(r,i){qe(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.currentTab=r[0]),e.$set(s)},i(r){n||(we(e.$$.fragment,r),n=!0)},o(r){ke(e.$$.fragment,r),n=!1},d(r){Ue(e,r)}}}function Y_(t){let e,n,r,i;return e=new M_({props:{$$slots:{default:[K_,({currentTab:s})=>({0:s}),({currentTab:s})=>s?1:0]},$$scope:{ctx:t}}}),r=new V_({}),{c(){Ge(e.$$.fragment),n=pe(),Ge(r.$$.fragment)},m(s,o){qe(e,s,o),ge(s,n,o),qe(r,s,o),i=!0},p(s,[o]){const a={};o&3&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){i||(we(e.$$.fragment,s),we(r.$$.fragment,s),i=!0)},o(s){ke(e.$$.fragment,s),ke(r.$$.fragment,s),i=!1},d(s){Ue(e,s),s&&de(n),Ue(r,s)}}}class Q_ extends et{constructor(e){super(),Xe(this,e,null,Y_,Ke,{})}}class J_ extends et{constructor(e){super(),Xe(this,e,null,null,Ke,{})}}function Z_(t){let e,n;return e=new xc({props:{routes:t[0]}}),{c(){Ge(e.$$.fragment)},m(r,i){qe(e,r,i),n=!0},p:ne,i(r){n||(we(e.$$.fragment,r),n=!0)},o(r){ke(e.$$.fragment,r),n=!1},d(r){Ue(e,r)}}}function X_(t){return pc("timer",xi({})),[{"/":Q_,"/timer/:task?":Fr({asyncComponent:()=>jr(()=>import("./Timer-5531c2f0.js"),["assets/Timer-5531c2f0.js","assets/Timer-ef2a245c.css"])}),"/login":Fr({asyncComponent:()=>jr(()=>import("./Login-d2d8deec.js"),["assets/Login-d2d8deec.js","assets/Login-0178d0e2.css"])}),"/test":Fr({asyncComponent:()=>jr(()=>import("./DbTest-9fd73021.js"),[])}),"*":J_}]}class eg extends et{constructor(e){super(),Xe(this,e,X_,Z_,Ke,{})}}new eg({target:document.getElementById("app")});export{qt as A,W_ as B,h_ as C,Si as D,at as E,He as F,pn as G,dt as H,Dc as I,Me as J,Ot as K,Yh as L,ui as M,xi as N,St as O,rg as P,se as Q,Yv as R,et as S,ua as T,Qo as U,ng as V,nc as W,pe as a,ue as b,ge as c,ee as d,ie as e,de as f,ta as g,On as h,Xe as i,Ge as j,Je as k,Fe as l,qe as m,ne as n,ea as o,ps as p,tg as q,ot as r,Ke as s,we as t,Ct as u,yc as v,ke as w,mc as x,Ue as y,ig as z};
