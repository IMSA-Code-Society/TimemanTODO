import{S as L,i as M,s as T,e as $,a as y,F as C,c as k,d as m,p as w,l as P,G as q,n as D,f as S,r as I,P as F,H as B,I as G,J as H,K,L as j,M as J,N as z,O as A}from"./index-7a1f93c8.js";function N(a,t,u){const o=a.slice();return o[11]=t[u],o}function O(a,t){let u,o=JSON.stringify(t[11])+"",c,_,f=t[11].$id+"",s,d,i,r,b,v,h,g;function n(...e){return t[9](t[11],...e)}function l(){return t[10](t[11])}return{key:a,first:null,c(){u=$("div"),c=C(o),_=y(),s=C(f),d=y(),i=$("input"),b=y(),v=$("button"),v.textContent="âŽ",i.value=r=t[11].title,this.first=u},m(e,p){k(e,u,p),m(u,c),k(e,_,p),k(e,s,p),k(e,d,p),k(e,i,p),k(e,b,p),k(e,v,p),h||(g=[P(i,"change",n),P(v,"click",l)],h=!0)},p(e,p){t=e,p&8&&o!==(o=JSON.stringify(t[11])+"")&&J(c,o),p&8&&f!==(f=t[11].$id+"")&&J(s,f),p&8&&r!==(r=t[11].title)&&i.value!==r&&(i.value=r)},d(e){e&&S(u),e&&S(_),e&&S(s),e&&S(d),e&&S(i),e&&S(b),e&&S(v),h=!1,I(g)}}}function E(a){let t,u,o,c,_,f,s,d,i=[],r=new Map,b,v,h=a[3];const g=n=>n[11].$id;for(let n=0;n<h.length;n+=1){let l=N(a,h,n),e=g(l);r.set(e,i[n]=O(e,l))}return{c(){t=$("div"),u=$("input"),o=$("button"),o.textContent="Submit",c=y(),_=$("label"),f=C(`Filter
        `),s=$("input"),d=y();for(let n=0;n<i.length;n+=1)i[n].c()},m(n,l){k(n,t,l),m(t,u),w(u,a[2]),m(t,o),m(t,c),m(t,_),m(_,f),m(_,s),w(s,a[1]),m(t,d);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);b||(v=[P(u,"input",a[6]),P(o,"click",a[7]),P(s,"input",a[8])],b=!0)},p(n,[l]){l&4&&u.value!==n[2]&&w(u,n[2]),l&2&&s.value!==n[1]&&w(s,n[1]),l&56&&(h=n[3],i=q(i,l,g,1,n,h,r,t,z,O,null,N))},i:D,o:D,d(n){n&&S(t);for(let l=0;l<i.length;l+=1)i[l].d();b=!1,I(v)}}}function Q(a,t,u){let o,c=D,_=()=>(c(),c=A(s,l=>u(3,o=l)),s);a.$$.on_destroy.push(()=>c()),F.plugin(B),F.plugin(G),F.plugin(H),F.plugin(K);const f=new F("test");f.createIndex({index:{fields:["title"]}}).then(()=>_(u(0,s=f.asSvelteStore())));let s=j([]);_();let d,i;function r(l=void 0,e=void 0){f.save({$id:l,title:e??d}).then(function(p){console.log(p)})}function b(){d=this.value,u(2,d)}const v=()=>r();function h(){i=this.value,u(1,i)}const g=(l,e)=>r(l.$id,e.target.value),n=l=>f.delete(l.$id).then(console.log);return a.$$.update=()=>{var l;a.$$.dirty&3&&((l=s.updateSearch)==null||l.call(s,{selector:{title:i}}))},[s,i,d,o,f,r,b,v,h,g,n]}class U extends L{constructor(t){super(),M(this,t,Q,E,T,{})}}export{U as default};
